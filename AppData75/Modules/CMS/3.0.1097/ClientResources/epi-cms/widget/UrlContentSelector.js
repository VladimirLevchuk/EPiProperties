//>>built
define("epi-cms/widget/UrlContentSelector",["dojo/_base/declare","dojo/_base/Deferred","dojo/_base/lang","dojo/when","epi/Url","epi-cms/core/ContentReference","epi-cms/core/PermanentLinkHelper","epi-cms/widget/ContentSelector"],function(_1,_2,_3,_4,_5,_6,_7,_8){return _1([_8],{_contentData:null,_isValueInitilized:false,_setValueAndFireOnChange:function(_9){var _a;if(!_9){this._updateDisplayNode(null);_a=this.value!==_9;this.value=_9;this._contentData=null;if(_a&&this._isValueInitilized){this.onChange(_9);}this._started&&this.validate();this._isValueInitilized=true;return;}_4(this._getContentByPermanentLink(_9),_3.hitch(this,function(_b){this._updateDisplayNode(_b);var _c=_7.toPermanentLink(_b);this._started&&this.validate();_a=!epi.areEqual(this.value,_c);this.value=_c;if(this._isValueInitilized&&_a){this.onChange(_c);}this._isValueInitilized=true;}));},_convertValueToContentReference:function(_d){if(this._contentData){return new _6(this._contentData.contentLink);}return null;},_getContentByPermanentLink:function(_e){if(epi.areEqual(this.value,_e)&&this._contentData){return this._contentData;}return _4(_7.getContent(_e,{"allLanguages":true}),_3.hitch(this,function(_f){this._contentData=_f;return _f;}));}});});