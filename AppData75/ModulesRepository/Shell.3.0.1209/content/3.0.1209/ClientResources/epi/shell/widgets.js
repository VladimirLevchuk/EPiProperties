//>>built
require({cache:{"epi/layers/epi-widgets":function(){define("epi/layers/epi-widgets",["epi/i18n!epi/shell/ui/nls/episerver.shell.ui.resources","dijit/layout/AccordionPane","dijit/TooltipDialog","dijit/form/Textarea","dojo/dnd/AutoSource","dojo/dnd/Target","dojo/fx/Toggler","dojo/parser","dojox/form/Uploader","dojox/form/uploader/plugins/HTML5","epi/shell/component/IFrameContextComponent","epi/shell/ContextService","epi/shell/conversion/ObjectConverterRegistry","epi/shell/dnd/Target","epi/shell/HashWrapper","epi/shell/layout/GroupContainer","epi/shell/layout/ParentContainer","epi/shell/layout/PinnablePane","epi/shell/layout/PinnablePaneSplitter","epi/shell/layout/PositioningUtility","epi/shell/layout/SimpleContainer","epi/shell/layout/ToolbarContainer","epi/shell/MessageService","epi/shell/MetadataManager","epi/shell/Profile","epi/shell/ShellModule","epi/shell/store/JsonRest","epi/shell/store/Patchable","epi/shell/store/Registry","epi/shell/store/Throttle","epi/shell/UndoManager","epi/shell/widget/_ActionConsumer","epi/shell/widget/_ActionProvider","epi/shell/widget/_ActionProviderBase","epi/shell/widget/_ActionProviderWidget","epi/shell/widget/_TabButton","epi/shell/widget/Application","epi/shell/widget/ApplicationContentPane","epi/shell/widget/CheckBox","epi/shell/widget/layout/ComponentContainer","epi/shell/widget/layout/ComponentPaneContainer","epi/shell/widget/ComponentController","epi/shell/widget/ComponentSelector","epi/shell/widget/ComponentSelectorDialog","epi/shell/widget/DateRange","epi/shell/widget/DateRangePicker","epi/shell/widget/DateTimeSelector","epi/shell/widget/DateTimeSelectorDropDown","epi/shell/widget/ExpandoButton","epi/shell/widget/FormContainer","epi/shell/widget/GadgetWrapper","epi/shell/widget/GlobalMenu","epi/shell/widget/HelpButton","epi/shell/widget/Iframe","epi/shell/widget/IframeWithOverlay","epi/shell/widget/LabeledInput","epi/shell/widget/LicenseInformation","epi/shell/widget/LoginForm","epi/shell/widget/MenuGroup","epi/shell/widget/overlay/_Base","epi/shell/widget/overlay/Item","epi/shell/widget/PropagatingContainer","epi/shell/widget/SpaceToolbarSeparator","epi/shell/widget/TabContainer","epi/shell/widget/TabController","epi/shell/widget/Toolbar","epi/shell/widget/ToolbarLabel","epi/shell/widget/ToolbarSet","epi/shell/widget/ValidationTextarea","epi/shell/widget/WidgetFactory","epi/shell/widget/WidgetSwitcher"],1);},"dijit/layout/AccordionPane":function(){define("dijit/layout/AccordionPane",["dojo/_base/declare","dojo/_base/kernel","./ContentPane"],function(_1,_2,_3){return _1("dijit.layout.AccordionPane",_3,{constructor:function(){_2.deprecated("dijit.layout.AccordionPane deprecated, use ContentPane instead","","2.0");},onSelected:function(){}});});},"dijit/layout/ContentPane":function(){define("dijit/layout/ContentPane",["dojo/_base/kernel","dojo/_base/lang","../_Widget","../_Container","./_ContentPaneResizeMixin","dojo/string","dojo/html","dojo/i18n!../nls/loading","dojo/_base/array","dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/_base/xhr","dojo/i18n","dojo/when"],function(_4,_5,_6,_7,_8,_9,_a,_b,_c,_d,_e,_f,_10,_11,xhr,_12,_13){return _d("dijit.layout.ContentPane",[_6,_7,_8],{href:"",content:"",extractContent:false,parseOnLoad:true,parserScope:_4._scopeName,preventCache:false,preload:false,refreshOnShow:false,loadingMessage:"<span class='dijitContentPaneLoading'><span class='dijitInline dijitIconLoading'></span>${loadingState}</span>",errorMessage:"<span class='dijitContentPaneError'><span class='dijitInline dijitIconError'></span>${errorState}</span>",isLoaded:false,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,_setTitleAttr:null,stopParser:true,template:false,create:function(_14,_15){if((!_14||!_14.template)&&_15&&!("href" in _14)&&!("content" in _14)){_15=_f.byId(_15);var df=_15.ownerDocument.createDocumentFragment();while(_15.firstChild){df.appendChild(_15.firstChild);}_14=_5.delegate(_14,{content:df});}this.inherited(arguments,[_14,_15]);},postMixInProperties:function(){this.inherited(arguments);var _16=_12.getLocalization("dijit","loading",this.lang);this.loadingMessage=_9.substitute(this.loadingMessage,_16);this.errorMessage=_9.substitute(this.errorMessage,_16);},buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}this.domNode.title="";if(!_10.get(this.domNode,"role")){this.domNode.setAttribute("role","group");}},startup:function(){this.inherited(arguments);if(this._contentSetter){_c.forEach(this._contentSetter.parseResults,function(obj){if(!obj._started&&!obj._destroyed&&_5.isFunction(obj.startup)){obj.startup();obj._started=true;}},this);}},_startChildren:function(){_c.forEach(this.getChildren(),function(obj){if(!obj._started&&!obj._destroyed&&_5.isFunction(obj.startup)){obj.startup();obj._started=true;}});if(this._contentSetter){_c.forEach(this._contentSetter.parseResults,function(obj){if(!obj._started&&!obj._destroyed&&_5.isFunction(obj.startup)){obj.startup();obj._started=true;}},this);}},setHref:function(_17){_4.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.","","2.0");return this.set("href",_17);},_setHrefAttr:function(_18){this.cancel();this.onLoadDeferred=new _e(_5.hitch(this,"cancel"));this.onLoadDeferred.then(_5.hitch(this,"onLoad"));this._set("href",_18);if(this.preload||(this._created&&this._isShown())){this._load();}else{this._hrefChanged=true;}return this.onLoadDeferred;},setContent:function(_19){_4.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",_19);},_setContentAttr:function(_1a){this._set("href","");this.cancel();this.onLoadDeferred=new _e(_5.hitch(this,"cancel"));if(this._created){this.onLoadDeferred.then(_5.hitch(this,"onLoad"));}this._setContent(_1a||"");this._isDownloaded=false;return this.onLoadDeferred;},_getContentAttr:function(){return this.containerNode.innerHTML;},cancel:function(){if(this._xhrDfd&&(this._xhrDfd.fired==-1)){this._xhrDfd.cancel();}delete this._xhrDfd;this.onLoadDeferred=null;},destroy:function(){this.cancel();this.inherited(arguments);},destroyRecursive:function(_1b){if(this._beingDestroyed){return;}this.inherited(arguments);},_onShow:function(){this.inherited(arguments);if(this.href){if(!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow)){return this.refresh();}}},refresh:function(){this.cancel();this.onLoadDeferred=new _e(_5.hitch(this,"cancel"));this.onLoadDeferred.then(_5.hitch(this,"onLoad"));this._load();return this.onLoadDeferred;},_load:function(){this._setContent(this.onDownloadStart(),true);var _1c=this;var _1d={preventCache:(this.preventCache||this.refreshOnShow),url:this.href,handleAs:"text"};if(_5.isObject(this.ioArgs)){_5.mixin(_1d,this.ioArgs);}var _1e=(this._xhrDfd=(this.ioMethod||xhr.get)(_1d)),_1f;_1e.then(function(_20){_1f=_20;try{_1c._isDownloaded=true;return _1c._setContent(_20,false);}catch(err){_1c._onError("Content",err);}},function(err){if(!_1e.canceled){_1c._onError("Download",err);}delete _1c._xhrDfd;return err;}).then(function(){_1c.onDownloadEnd();delete _1c._xhrDfd;return _1f;});delete this._hrefChanged;},_onLoadHandler:function(_21){this._set("isLoaded",true);try{this.onLoadDeferred.resolve(_21);}catch(e){console.error("Error "+this.widgetId+" running custom onLoad code: "+e.message);}},_onUnloadHandler:function(){this._set("isLoaded",false);try{this.onUnload();}catch(e){console.error("Error "+this.widgetId+" running custom onUnload code: "+e.message);}},destroyDescendants:function(_22){if(this.isLoaded){this._onUnloadHandler();}var _23=this._contentSetter;_c.forEach(this.getChildren(),function(_24){if(_24.destroyRecursive){_24.destroyRecursive(_22);}else{if(_24.destroy){_24.destroy(_22);}}_24._destroyed=true;});if(_23){_c.forEach(_23.parseResults,function(_25){if(!_25._destroyed){if(_25.destroyRecursive){_25.destroyRecursive(_22);}else{if(_25.destroy){_25.destroy(_22);}}_25._destroyed=true;}});delete _23.parseResults;}if(!_22){_11.empty(this.containerNode);}delete this._singleChild;},_setContent:function(_26,_27){this.destroyDescendants();var _28=this._contentSetter;if(!(_28&&_28 instanceof _a._ContentSetter)){_28=this._contentSetter=new _a._ContentSetter({node:this.containerNode,_onError:_5.hitch(this,this._onError),onContentError:_5.hitch(this,function(e){var _29=this.onContentError(e);try{this.containerNode.innerHTML=_29;}catch(e){console.error("Fatal "+this.id+" could not change content due to "+e.message,e);}})});}var _2a=_5.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:!_26.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:false,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{});var p=_28.set((_5.isObject(_26)&&_26.domNode)?_26.domNode:_26,_2a);var _2b=this;return _13(p&&p.then?p:_28.parseDeferred,function(){delete _2b._contentSetterParams;if(!_27){if(_2b._started){_2b._startChildren();_2b._scheduleLayout();}_2b._onLoadHandler(_26);}});},_onError:function(_2c,err,_2d){this.onLoadDeferred.reject(err);var _2e=this["on"+_2c+"Error"].call(this,err);if(_2d){console.error(_2d,err);}else{if(_2e){this._setContent(_2e,true);}}},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage;},onContentError:function(){},onDownloadError:function(){return this.errorMessage;},onDownloadEnd:function(){}});});},"dijit/_Widget":function(){define("dijit/_Widget",["dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/query","dojo/ready","./registry","./_WidgetBase","./_OnDijitClickMixin","./_FocusMixin","dojo/uacss","./hccss"],function(_2f,_30,_31,_32,has,_33,_34,_35,_36,_37,_38,_39,_3a){function _3b(){};function _3c(_3d){return function(obj,_3e,_3f,_40){if(obj&&typeof _3e=="string"&&obj[_3e]==_3b){return obj.on(_3e.substring(2).toLowerCase(),_34.hitch(_3f,_40));}return _3d.apply(_31,arguments);};};_2f.around(_31,"connect",_3c);if(_33.connect){_2f.around(_33,"connect",_3c);}var _41=_32("dijit._Widget",[_38,_39,_3a],{onClick:_3b,onDblClick:_3b,onKeyDown:_3b,onKeyPress:_3b,onKeyUp:_3b,onMouseDown:_3b,onMouseMove:_3b,onMouseOut:_3b,onMouseOver:_3b,onMouseLeave:_3b,onMouseEnter:_3b,onMouseUp:_3b,constructor:function(_42){this._toConnect={};for(var _43 in _42){if(this[_43]===_3b){this._toConnect[_43.replace(/^on/,"").toLowerCase()]=_42[_43];delete _42[_43];}}},postCreate:function(){this.inherited(arguments);for(var _44 in this._toConnect){this.on(_44,this._toConnect[_44]);}delete this._toConnect;},on:function(_45,_46){if(this[this._onMap(_45)]===_3b){return _31.connect(this.domNode,_45.toLowerCase(),this,_46);}return this.inherited(arguments);},_setFocusedAttr:function(val){this._focused=val;this._set("focused",val);},setAttribute:function(_47,_48){_33.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(_47,_48);},attr:function(_49,_4a){if(_30.isDebug){var _4b=arguments.callee._ach||(arguments.callee._ach={}),_4c=(arguments.callee.caller||"unknown caller").toString();if(!_4b[_4c]){_33.deprecated(this.declaredClass+"::attr() is deprecated. Use get() or set() instead, called from "+_4c,"","2.0");_4b[_4c]=true;}}var _4d=arguments.length;if(_4d>=2||typeof _49==="object"){return this.set.apply(this,arguments);}else{return this.get(_49);}},getDescendants:function(){_33.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");return this.containerNode?_35("[widgetId]",this.containerNode).map(_37.byNode):[];},_onShow:function(){this.onShow();},onShow:function(){},onHide:function(){},onClose:function(){return true;}});if(has("dijit-legacy-requires")){_36(0,function(){var _4e=["dijit/_base"];require(_4e);});}return _41;});},"dijit/registry":function(){define("dijit/registry",["dojo/_base/array","dojo/sniff","dojo/_base/unload","dojo/_base/window","./main"],function(_4f,has,_50,win,_51){var _52={},_53={};var _54={length:0,add:function(_55){if(_53[_55.id]){throw new Error("Tried to register widget with id=="+_55.id+" but that id is already registered");}_53[_55.id]=_55;this.length++;},remove:function(id){if(_53[id]){delete _53[id];this.length--;}},byId:function(id){return typeof id=="string"?_53[id]:id;},byNode:function(_56){return _53[_56.getAttribute("widgetId")];},toArray:function(){var ar=[];for(var id in _53){ar.push(_53[id]);}return ar;},getUniqueId:function(_57){var id;do{id=_57+"_"+(_57 in _52?++_52[_57]:_52[_57]=0);}while(_53[id]);return _51._scopeName=="dijit"?id:_51._scopeName+"_"+id;},findWidgets:function(_58,_59){var _5a=[];function _5b(_5c){for(var _5d=_5c.firstChild;_5d;_5d=_5d.nextSibling){if(_5d.nodeType==1){var _5e=_5d.getAttribute("widgetId");if(_5e){var _5f=_53[_5e];if(_5f){_5a.push(_5f);}}else{if(_5d!==_59){_5b(_5d);}}}}};_5b(_58);return _5a;},_destroyAll:function(){_51._curFocus=null;_51._prevFocus=null;_51._activeStack=[];_4f.forEach(_54.findWidgets(win.body()),function(_60){if(!_60._destroyed){if(_60.destroyRecursive){_60.destroyRecursive();}else{if(_60.destroy){_60.destroy();}}}});},getEnclosingWidget:function(_61){while(_61){var id=_61.nodeType==1&&_61.getAttribute("widgetId");if(id){return _53[id];}_61=_61.parentNode;}return null;},_hash:_53};_51.registry=_54;return _54;});},"dijit/main":function(){define("dijit/main",["dojo/_base/kernel"],function(_62){return _62.dijit;});},"dijit/_WidgetBase":function(){define("dijit/_WidgetBase",["require","dojo/_base/array","dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/ready","dojo/Stateful","dojo/topic","dojo/_base/window","./Destroyable","./registry"],function(_63,_64,_65,_66,_67,_68,dom,_69,_6a,_6b,_6c,_6d,has,_6e,_6f,on,_70,_71,_72,win,_73,_74){has.add("dijit-legacy-requires",!_6e.isAsync);if(has("dijit-legacy-requires")){_70(0,function(){var _75=["dijit/_base/manager"];_63(_75);});}var _76={};function _77(obj){var ret={};for(var _78 in obj){ret[_78.toLowerCase()]=true;}return ret;};function _79(_7a){return function(val){_69[val?"set":"remove"](this.domNode,_7a,val);this._set(_7a,val);};};return _68("dijit._WidgetBase",[_71,_73],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:_79("lang"),dir:"",_setDirAttr:_79("dir"),textDir:"","class":"",_setClassAttr:{node:"domNode",type:"class"},style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(val){this._set("ownerDocument",val);},attributeMap:{},_blankGif:_66.blankGif||_63.toUrl("dojo/resources/blank.gif"),postscript:function(_7b,_7c){this.create(_7b,_7c);},create:function(_7d,_7e){this.srcNodeRef=dom.byId(_7e);this._connects=[];this._supportingWidgets=[];if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id;}if(_7d){this.params=_7d;_6f.mixin(this,_7d);}this.postMixInProperties();if(!this.id){this.id=_74.getUniqueId(this.declaredClass.replace(/\./g,"_"));if(this.params){delete this.params.id;}}this.ownerDocument=this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:win.doc);this.ownerDocumentBody=win.body(this.ownerDocument);_74.add(this);this.buildRendering();var _7f;if(this.domNode){this._applyAttributes();var _80=this.srcNodeRef;if(_80&&_80.parentNode&&this.domNode!==_80){_80.parentNode.replaceChild(this.domNode,_80);_7f=true;}this.domNode.setAttribute("widgetId",this.id);}this.postCreate();if(_7f){delete this.srcNodeRef;}this._created=true;},_applyAttributes:function(){var _81=this.constructor,_82=_81._setterAttrs;if(!_82){_82=(_81._setterAttrs=[]);for(var _83 in this.attributeMap){_82.push(_83);}var _84=_81.prototype;for(var _85 in _84){if(_85 in this.attributeMap){continue;}var _86="_set"+_85.replace(/^[a-z]|-[a-zA-Z]/g,function(c){return c.charAt(c.length-1).toUpperCase();})+"Attr";if(_86 in _84){_82.push(_85);}}}var _87={};for(var key in this.params||{}){_87[key]=this[key];}_64.forEach(_82,function(_88){if(_88 in _87){}else{if(this[_88]){this.set(_88,this[_88]);}}},this);for(key in _87){this.set(key,_87[key]);}},postMixInProperties:function(){},buildRendering:function(){if(!this.domNode){this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div");}if(this.baseClass){var _89=this.baseClass.split(" ");if(!this.isLeftToRight()){_89=_89.concat(_64.map(_89,function(_8a){return _8a+"Rtl";}));}_6a.add(this.domNode,_89);}},postCreate:function(){},startup:function(){if(this._started){return;}this._started=true;_64.forEach(this.getChildren(),function(obj){if(!obj._started&&!obj._destroyed&&_6f.isFunction(obj.startup)){obj.startup();obj._started=true;}});},destroyRecursive:function(_8b){this._beingDestroyed=true;this.destroyDescendants(_8b);this.destroy(_8b);},destroy:function(_8c){this._beingDestroyed=true;this.uninitialize();function _8d(w){if(w.destroyRecursive){w.destroyRecursive(_8c);}else{if(w.destroy){w.destroy(_8c);}}};_64.forEach(this._connects,_6f.hitch(this,"disconnect"));_64.forEach(this._supportingWidgets,_8d);if(this.domNode){_64.forEach(_74.findWidgets(this.domNode,this.containerNode),_8d);}this.destroyRendering(_8c);_74.remove(this.id);this._destroyed=true;},destroyRendering:function(_8e){if(this.bgIframe){this.bgIframe.destroy(_8e);delete this.bgIframe;}if(this.domNode){if(_8e){_69.remove(this.domNode,"widgetId");}else{_6b.destroy(this.domNode);}delete this.domNode;}if(this.srcNodeRef){if(!_8e){_6b.destroy(this.srcNodeRef);}delete this.srcNodeRef;}},destroyDescendants:function(_8f){_64.forEach(this.getChildren(),function(_90){if(_90.destroyRecursive){_90.destroyRecursive(_8f);}});},uninitialize:function(){return false;},_setStyleAttr:function(_91){var _92=this.domNode;if(_6f.isObject(_91)){_6d.set(_92,_91);}else{if(_92.style.cssText){_92.style.cssText+="; "+_91;}else{_92.style.cssText=_91;}}this._set("style",_91);},_attrToDom:function(_93,_94,_95){_95=arguments.length>=3?_95:this.attributeMap[_93];_64.forEach(_6f.isArray(_95)?_95:[_95],function(_96){var _97=this[_96.node||_96||"domNode"];var _98=_96.type||"attribute";switch(_98){case "attribute":if(_6f.isFunction(_94)){_94=_6f.hitch(this,_94);}var _99=_96.attribute?_96.attribute:(/^on[A-Z][a-zA-Z]*$/.test(_93)?_93.toLowerCase():_93);if(_97.tagName){_69.set(_97,_99,_94);}else{_97.set(_99,_94);}break;case "innerText":_97.innerHTML="";_97.appendChild(this.ownerDocument.createTextNode(_94));break;case "innerHTML":_97.innerHTML=_94;break;case "class":_6a.replace(_97,_94,this[_93]);break;}},this);},get:function(_9a){var _9b=this._getAttrNames(_9a);return this[_9b.g]?this[_9b.g]():this[_9a];},set:function(_9c,_9d){if(typeof _9c==="object"){for(var x in _9c){this.set(x,_9c[x]);}return this;}var _9e=this._getAttrNames(_9c),_9f=this[_9e.s];if(_6f.isFunction(_9f)){var _a0=_9f.apply(this,Array.prototype.slice.call(arguments,1));}else{var _a1=this.focusNode&&!_6f.isFunction(this.focusNode)?"focusNode":"domNode",tag=this[_a1].tagName,_a2=_76[tag]||(_76[tag]=_77(this[_a1])),map=_9c in this.attributeMap?this.attributeMap[_9c]:_9e.s in this?this[_9e.s]:((_9e.l in _a2&&typeof _9d!="function")||/^aria-|^data-|^role$/.test(_9c))?_a1:null;if(map!=null){this._attrToDom(_9c,_9d,map);}this._set(_9c,_9d);}return _a0||this;},_attrPairNames:{},_getAttrNames:function(_a3){var apn=this._attrPairNames;if(apn[_a3]){return apn[_a3];}var uc=_a3.replace(/^[a-z]|-[a-zA-Z]/g,function(c){return c.charAt(c.length-1).toUpperCase();});return (apn[_a3]={n:_a3+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr",l:uc.toLowerCase()});},_set:function(_a4,_a5){var _a6=this[_a4];this[_a4]=_a5;if(this._created&&_a5!==_a6){if(this._watchCallbacks){this._watchCallbacks(_a4,_a6,_a5);}this.emit("attrmodified-"+_a4,{detail:{prevValue:_a6,newValue:_a5}});}},emit:function(_a7,_a8,_a9){_a8=_a8||{};if(_a8.bubbles===undefined){_a8.bubbles=true;}if(_a8.cancelable===undefined){_a8.cancelable=true;}if(!_a8.detail){_a8.detail={};}_a8.detail.widget=this;var ret,_aa=this["on"+_a7];if(_aa){ret=_aa.apply(this,_a9?_a9:[_a8]);}if(this._started&&!this._beingDestroyed){on.emit(this.domNode,_a7.toLowerCase(),_a8);}return ret;},on:function(_ab,_ac){var _ad=this._onMap(_ab);if(_ad){return _65.after(this,_ad,_ac,true);}return this.own(on(this.domNode,_ab,_ac))[0];},_onMap:function(_ae){var _af=this.constructor,map=_af._onMap;if(!map){map=(_af._onMap={});for(var _b0 in _af.prototype){if(/^on/.test(_b0)){map[_b0.replace(/^on/,"").toLowerCase()]=_b0;}}}return map[typeof _ae=="string"&&_ae.toLowerCase()];},toString:function(){return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";},getChildren:function(){return this.containerNode?_74.findWidgets(this.containerNode):[];},getParent:function(){return _74.getEnclosingWidget(this.domNode.parentNode);},connect:function(obj,_b1,_b2){return this.own(_67.connect(obj,_b1,this,_b2))[0];},disconnect:function(_b3){_b3.remove();},subscribe:function(t,_b4){return this.own(_72.subscribe(t,_6f.hitch(this,_b4)))[0];},unsubscribe:function(_b5){_b5.remove();},isLeftToRight:function(){return this.dir?(this.dir=="ltr"):_6c.isBodyLtr(this.ownerDocument);},isFocusable:function(){return this.focus&&(_6d.get(this.domNode,"display")!="none");},placeAt:function(_b6,_b7){var _b8=!_b6.tagName&&_74.byId(_b6);if(_b8&&_b8.addChild&&(!_b7||typeof _b7==="number")){_b8.addChild(this,_b7);}else{var ref=_b8?(_b8.containerNode&&!/after|before|replace/.test(_b7||"")?_b8.containerNode:_b8.domNode):dom.byId(_b6,this.ownerDocument);_6b.place(this.domNode,ref,_b7);if(!this._started&&(this.getParent()||{})._started){this.startup();}}return this;},getTextDir:function(_b9,_ba){return _ba;},applyTextDir:function(){},defer:function(fcn,_bb){var _bc=setTimeout(_6f.hitch(this,function(){_bc=null;if(!this._destroyed){_6f.hitch(this,fcn)();}}),_bb||0);return {remove:function(){if(_bc){clearTimeout(_bc);_bc=null;}return null;}};}});});},"dijit/Destroyable":function(){define("dijit/Destroyable",["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(_bd,_be,_bf){return _bf("dijit.Destroyable",null,{destroy:function(_c0){this._destroyed=true;},own:function(){_bd.forEach(arguments,function(_c1){var _c2="destroyRecursive" in _c1?"destroyRecursive":"destroy" in _c1?"destroy":"remove";var odh=_be.before(this,"destroy",function(_c3){_c1[_c2](_c3);});var hdh=_be.after(_c1,_c2,function(){odh.remove();hdh.remove();},true);},this);return arguments;}});});},"dijit/_OnDijitClickMixin":function(){define("dijit/_OnDijitClickMixin",["dojo/on","dojo/_base/array","dojo/keys","dojo/_base/declare","dojo/has","dojo/_base/unload","dojo/_base/window","./a11yclick"],function(on,_c4,_c5,_c6,has,_c7,win,_c8){var ret=_c6("dijit._OnDijitClickMixin",null,{connect:function(obj,_c9,_ca){return this.inherited(arguments,[obj,_c9=="ondijitclick"?_c8:_c9,_ca]);}});ret.a11yclick=_c8;return ret;});},"dijit/a11yclick":function(){define("dijit/a11yclick",["dojo/on","dojo/_base/array","dojo/keys","dojo/_base/declare","dojo/has","dojo/_base/unload","dojo/_base/window"],function(on,_cb,_cc,_cd,has,_ce,win){var _cf=null;if(has("dom-addeventlistener")){win.doc.addEventListener("keydown",function(evt){_cf=evt.target;},true);}else{(function(){var _d0=function(evt){_cf=evt.srcElement;};win.doc.attachEvent("onkeydown",_d0);_ce.addOnWindowUnload(function(){win.doc.detachEvent("onkeydown",_d0);});})();}function _d1(e){return (e.keyCode===_cc.ENTER||e.keyCode===_cc.SPACE)&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey;};return function(_d2,_d3){if(/input|button/i.test(_d2.nodeName)){return on(_d2,"click",_d3);}else{var _d4=[on(_d2,"keydown",function(e){if(_d1(e)){_cf=e.target;e.preventDefault();}}),on(_d2,"keyup",function(e){if(_d1(e)&&e.target==_cf){_cf=null;on.emit(e.target,"click",{cancelable:true,bubbles:true});}}),on(_d2,"click",function(e){_d3.call(this,e);})];if(has("touch")){var _d5;_d4.push(on(_d2,"touchend",function(e){var _d6=e.target;_d5=setTimeout(function(){_d5=null;on.emit(_d6,"click",{cancelable:true,bubbles:true});},600);}),on(_d2,"click",function(e){if(_d5){clearTimeout(_d5);}}));}return {remove:function(){_cb.forEach(_d4,function(h){h.remove();});if(_d5){clearTimeout(_d5);_d5=null;}}};}};return ret;});},"dijit/_FocusMixin":function(){define("dijit/_FocusMixin",["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(_d7,_d8,_d9,_da){_da.extend(_d8,{focused:false,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus();},_onBlur:function(){this.onBlur();}});return _d9("dijit._FocusMixin",null,{_focusManager:_d7});});},"dijit/focus":function(){define("dijit/focus",["dojo/aspect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/Evented","dojo/_base/lang","dojo/on","dojo/ready","dojo/sniff","dojo/Stateful","dojo/_base/unload","dojo/_base/window","dojo/window","./a11y","./registry","./main"],function(_db,_dc,dom,_dd,_de,_df,_e0,on,_e1,has,_e2,_e3,win,_e4,_e5,_e6,_e7){var _e8=_dc([_e2,_df],{curNode:null,activeStack:[],constructor:function(){var _e9=_e0.hitch(this,function(_ea){if(dom.isDescendant(this.curNode,_ea)){this.set("curNode",null);}if(dom.isDescendant(this.prevNode,_ea)){this.set("prevNode",null);}});_db.before(_de,"empty",_e9);_db.before(_de,"destroy",_e9);},registerIframe:function(_eb){return this.registerWin(_eb.contentWindow,_eb);},registerWin:function(_ec,_ed){var _ee=this;var _ef=function(evt){_ee._justMouseDowned=true;setTimeout(function(){_ee._justMouseDowned=false;},0);if(has("ie")&&evt&&evt.srcElement&&evt.srcElement.parentNode==null){return;}_ee._onTouchNode(_ed||evt.target||evt.srcElement,"mouse");};var doc=has("ie")?_ec.document.documentElement:_ec.document;if(doc){if(has("ie")){_ec.document.body.attachEvent("onmousedown",_ef);var _f0=function(evt){var tag=evt.srcElement.tagName.toLowerCase();if(tag=="#document"||tag=="body"){return;}if(_e5.isTabNavigable(evt.srcElement)){_ee._onFocusNode(_ed||evt.srcElement);}else{_ee._onTouchNode(_ed||evt.srcElement);}};doc.attachEvent("onfocusin",_f0);var _f1=function(evt){_ee._onBlurNode(_ed||evt.srcElement);};doc.attachEvent("onfocusout",_f1);return {remove:function(){_ec.document.detachEvent("onmousedown",_ef);doc.detachEvent("onfocusin",_f0);doc.detachEvent("onfocusout",_f1);doc=null;}};}else{doc.body.addEventListener("mousedown",_ef,true);doc.body.addEventListener("touchstart",_ef,true);var _f2=function(evt){_ee._onFocusNode(_ed||evt.target);};doc.addEventListener("focus",_f2,true);var _f3=function(evt){_ee._onBlurNode(_ed||evt.target);};doc.addEventListener("blur",_f3,true);return {remove:function(){doc.body.removeEventListener("mousedown",_ef,true);doc.body.removeEventListener("touchstart",_ef,true);doc.removeEventListener("focus",_f2,true);doc.removeEventListener("blur",_f3,true);doc=null;}};}}},_onBlurNode:function(_f4){if(this._clearFocusTimer){clearTimeout(this._clearFocusTimer);}this._clearFocusTimer=setTimeout(_e0.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null);}),0);if(this._justMouseDowned){return;}if(this._clearActiveWidgetsTimer){clearTimeout(this._clearActiveWidgetsTimer);}this._clearActiveWidgetsTimer=setTimeout(_e0.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([]);}),0);},_onTouchNode:function(_f5,by){if(this._clearActiveWidgetsTimer){clearTimeout(this._clearActiveWidgetsTimer);delete this._clearActiveWidgetsTimer;}var _f6=[];try{while(_f5){var _f7=_dd.get(_f5,"dijitPopupParent");if(_f7){_f5=_e6.byId(_f7).domNode;}else{if(_f5.tagName&&_f5.tagName.toLowerCase()=="body"){if(_f5===win.body()){break;}_f5=_e4.get(_f5.ownerDocument).frameElement;}else{var id=_f5.getAttribute&&_f5.getAttribute("widgetId"),_f8=id&&_e6.byId(id);if(_f8&&!(by=="mouse"&&_f8.get("disabled"))){_f6.unshift(id);}_f5=_f5.parentNode;}}}}catch(e){}this._setStack(_f6,by);},_onFocusNode:function(_f9){if(!_f9){return;}if(_f9.nodeType==9){return;}if(this._clearFocusTimer){clearTimeout(this._clearFocusTimer);delete this._clearFocusTimer;}this._onTouchNode(_f9);if(_f9==this.curNode){return;}this.set("prevNode",this.curNode);this.set("curNode",_f9);},_setStack:function(_fa,by){var _fb=this.activeStack;this.set("activeStack",_fa);for(var _fc=0;_fc<Math.min(_fb.length,_fa.length);_fc++){if(_fb[_fc]!=_fa[_fc]){break;}}var _fd;for(var i=_fb.length-1;i>=_fc;i--){_fd=_e6.byId(_fb[i]);if(_fd){_fd._hasBeenBlurred=true;_fd.set("focused",false);if(_fd._focusManager==this){_fd._onBlur(by);}this.emit("widget-blur",_fd,by);}}for(i=_fc;i<_fa.length;i++){_fd=_e6.byId(_fa[i]);if(_fd){_fd.set("focused",true);if(_fd._focusManager==this){_fd._onFocus(by);}this.emit("widget-focus",_fd,by);}}},focus:function(_fe){if(_fe){try{_fe.focus();}catch(e){}}}});var _ff=new _e8();_e1(function(){var _100=_ff.registerWin(_e4.get(win.doc));if(has("ie")){_e3.addOnWindowUnload(function(){if(_100){_100.remove();_100=null;}});}});_e7.focus=function(node){_ff.focus(node);};for(var attr in _ff){if(!/^_/.test(attr)){_e7.focus[attr]=typeof _ff[attr]=="function"?_e0.hitch(_ff,attr):_ff[attr];}}_ff.watch(function(attr,_101,_102){_e7.focus[attr]=_102;});return _ff;});},"dojo/window":function(){define("dojo/window",["./_base/lang","./sniff","./_base/window","./dom","./dom-geometry","./dom-style"],function(lang,has,_103,dom,geom,_104){var _105={getBox:function(doc){doc=doc||_103.doc;var _106=(doc.compatMode=="BackCompat")?_103.body(doc):doc.documentElement,_107=geom.docScroll(doc),w,h;if(has("touch")){var _108=_105.get(doc);w=_108.innerWidth||_106.clientWidth;h=_108.innerHeight||_106.clientHeight;}else{w=_106.clientWidth;h=_106.clientHeight;}return {l:_107.x,t:_107.y,w:w,h:h};},get:function(doc){if(has("ie")&&_105!==document.parentWindow){doc.parentWindow.execScript("document._parentWindow = window;","Javascript");var win=doc._parentWindow;doc._parentWindow=null;return win;}return doc.parentWindow||doc.defaultView;},scrollIntoView:function(node,pos){try{node=dom.byId(node);var doc=node.ownerDocument||_103.doc,body=_103.body(doc),html=doc.documentElement||body.parentNode,isIE=has("ie"),isWK=has("webkit");if((!(has("mozilla")||isIE||isWK||has("opera"))||node==body||node==html)&&(typeof node.scrollIntoView!="undefined")){node.scrollIntoView(false);return;}var _109=doc.compatMode=="BackCompat",_10a=(isIE>=9&&"frameElement" in node.ownerDocument.parentWindow)?((html.clientHeight>0&&html.clientWidth>0&&(body.clientHeight==0||body.clientWidth==0||body.clientHeight>html.clientHeight||body.clientWidth>html.clientWidth))?html:body):(_109?body:html),_10b=isWK?body:_10a,_10c=_10a.clientWidth,_10d=_10a.clientHeight,rtl=!geom.isBodyLtr(doc),_10e=pos||geom.position(node),el=node.parentNode,_10f=function(el){return ((isIE<=6||(isIE&&_109))?false:(_104.get(el,"position").toLowerCase()=="fixed"));};if(_10f(node)){return;}while(el){if(el==body){el=_10b;}var _110=geom.position(el),_111=_10f(el);if(el==_10b){_110.w=_10c;_110.h=_10d;if(_10b==html&&isIE&&rtl){_110.x+=_10b.offsetWidth-_110.w;}if(_110.x<0||!isIE){_110.x=0;}if(_110.y<0||!isIE){_110.y=0;}}else{var pb=geom.getPadBorderExtents(el);_110.w-=pb.w;_110.h-=pb.h;_110.x+=pb.l;_110.y+=pb.t;var _112=el.clientWidth,_113=_110.w-_112;if(_112>0&&_113>0){_110.w=_112;_110.x+=(rtl&&(isIE||el.clientLeft>pb.l))?_113:0;}_112=el.clientHeight;_113=_110.h-_112;if(_112>0&&_113>0){_110.h=_112;}}if(_111){if(_110.y<0){_110.h+=_110.y;_110.y=0;}if(_110.x<0){_110.w+=_110.x;_110.x=0;}if(_110.y+_110.h>_10d){_110.h=_10d-_110.y;}if(_110.x+_110.w>_10c){_110.w=_10c-_110.x;}}var l=_10e.x-_110.x,t=_10e.y-Math.max(_110.y,0),r=l+_10e.w-_110.w,bot=t+_10e.h-_110.h;if(r*l>0){var s=Math[l<0?"max":"min"](l,r);if(rtl&&((isIE==8&&!_109)||isIE>=9)){s=-s;}_10e.x+=el.scrollLeft;el.scrollLeft+=s;_10e.x-=el.scrollLeft;}if(bot*t>0){_10e.y+=el.scrollTop;el.scrollTop+=Math[t<0?"max":"min"](t,bot);_10e.y-=el.scrollTop;}el=(el!=_10b)&&!_111&&el.parentNode;}}catch(error){console.error("scrollIntoView: "+error);node.scrollIntoView(false);}}};1&&lang.setObject("dojo.window",_105);return _105;});},"dijit/a11y":function(){define("dijit/a11y",["dojo/_base/array","dojo/_base/config","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-style","dojo/sniff","./main"],function(_114,_115,_116,dom,_117,_118,has,_119){var _11a=(_119._isElementShown=function(elem){var s=_118.get(elem);return (s.visibility!="hidden")&&(s.visibility!="collapsed")&&(s.display!="none")&&(_117.get(elem,"type")!="hidden");});_119.hasDefaultTabStop=function(elem){switch(elem.nodeName.toLowerCase()){case "a":return _117.has(elem,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return true;case "iframe":var body;try{var _11b=elem.contentDocument;if("designMode" in _11b&&_11b.designMode=="on"){return true;}body=_11b.body;}catch(e1){try{body=elem.contentWindow.document.body;}catch(e2){return false;}}return body&&(body.contentEditable=="true"||(body.firstChild&&body.firstChild.contentEditable=="true"));default:return elem.contentEditable=="true";}};var _11c=(_119.isTabNavigable=function(elem){if(_117.get(elem,"disabled")){return false;}else{if(_117.has(elem,"tabIndex")){return _117.get(elem,"tabIndex")>=0;}else{return _119.hasDefaultTabStop(elem);}}});_119._getTabNavigable=function(root){var _11d,last,_11e,_11f,_120,_121,_122={};function _123(node){return node&&node.tagName.toLowerCase()=="input"&&node.type&&node.type.toLowerCase()=="radio"&&node.name&&node.name.toLowerCase();};var _124=function(_125){for(var _126=_125.firstChild;_126;_126=_126.nextSibling){if(_126.nodeType!=1||(has("ie")<=9&&_126.scopeName!=="HTML")||!_11a(_126)){continue;}if(_11c(_126)){var _127=+_117.get(_126,"tabIndex");if(!_117.has(_126,"tabIndex")||_127==0){if(!_11d){_11d=_126;}last=_126;}else{if(_127>0){if(!_11e||_127<_11f){_11f=_127;_11e=_126;}if(!_120||_127>=_121){_121=_127;_120=_126;}}}var rn=_123(_126);if(_117.get(_126,"checked")&&rn){_122[rn]=_126;}}if(_126.nodeName.toUpperCase()!="SELECT"){_124(_126);}}};if(_11a(root)){_124(root);}function rs(node){return _122[_123(node)]||node;};return {first:rs(_11d),last:rs(last),lowest:rs(_11e),highest:rs(_120)};};_119.getFirstInTabbingOrder=function(root,doc){var _128=_119._getTabNavigable(dom.byId(root,doc));return _128.lowest?_128.lowest:_128.first;};_119.getLastInTabbingOrder=function(root,doc){var _129=_119._getTabNavigable(dom.byId(root,doc));return _129.last?_129.last:_129.highest;};return {hasDefaultTabStop:_119.hasDefaultTabStop,isTabNavigable:_119.isTabNavigable,_getTabNavigable:_119._getTabNavigable,getFirstInTabbingOrder:_119.getFirstInTabbingOrder,getLastInTabbingOrder:_119.getLastInTabbingOrder};});},"dojo/uacss":function(){define("dojo/uacss",["./dom-geometry","./_base/lang","./ready","./sniff","./_base/window"],function(_12a,lang,_12b,has,_12c){var html=_12c.doc.documentElement,ie=has("ie"),_12d=has("opera"),maj=Math.floor,ff=has("ff"),_12e=_12a.boxModel.replace(/-/,""),_12f={"dj_quirks":has("quirks"),"dj_opera":_12d,"dj_khtml":has("khtml"),"dj_webkit":has("webkit"),"dj_safari":has("safari"),"dj_chrome":has("chrome"),"dj_gecko":has("mozilla")};if(ie){_12f["dj_ie"]=true;_12f["dj_ie"+maj(ie)]=true;_12f["dj_iequirks"]=has("quirks");}if(ff){_12f["dj_ff"+maj(ff)]=true;}_12f["dj_"+_12e]=true;var _130="";for(var clz in _12f){if(_12f[clz]){_130+=clz+" ";}}html.className=lang.trim(html.className+" "+_130);_12b(90,function(){if(!_12a.isBodyLtr()){var _131="dj_rtl dijitRtl "+_130.replace(/ /g,"-rtl ");html.className=lang.trim(html.className+" "+_131+"dj_rtl dijitRtl "+_130.replace(/ /g,"-rtl "));}});return has;});},"dijit/hccss":function(){define("dijit/hccss",["dojo/dom-class","dojo/hccss","dojo/ready","dojo/_base/window"],function(_132,has,_133,win){_133(90,function(){if(has("highcontrast")){_132.add(win.body(),"dijit_a11y");}});return has;});},"dojo/hccss":function(){define("dojo/hccss",["require","./_base/config","./dom-class","./dom-style","./has","./ready","./_base/window"],function(_134,_135,_136,_137,has,_138,win){has.add("highcontrast",function(){var div=win.doc.createElement("div");div.style.cssText="border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;"+"background-image: url("+(_135.blankGif||_134.toUrl("./resources/blank.gif"))+");";win.body().appendChild(div);var cs=_137.getComputedStyle(div),_139=cs.backgroundImage,hc=(cs.borderTopColor==cs.borderRightColor)||(_139&&(_139=="none"||_139=="url(invalid-url:)"));if(has("ie")<=8){div.outerHTML="";}else{win.body().removeChild(div);}return hc;});_138(90,function(){if(has("highcontrast")){_136.add(win.body(),"dj_a11y");}});return has;});},"dijit/_Container":function(){define("dijit/_Container",["dojo/_base/array","dojo/_base/declare","dojo/dom-construct"],function(_13a,_13b,_13c){return _13b("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},addChild:function(_13d,_13e){var _13f=this.containerNode;if(_13e&&typeof _13e=="number"){var _140=this.getChildren();if(_140&&_140.length>=_13e){_13f=_140[_13e-1].domNode;_13e="after";}}_13c.place(_13d.domNode,_13f,_13e);if(this._started&&!_13d._started){_13d.startup();}},removeChild:function(_141){if(typeof _141=="number"){_141=this.getChildren()[_141];}if(_141){var node=_141.domNode;if(node&&node.parentNode){node.parentNode.removeChild(node);}}},hasChildren:function(){return this.getChildren().length>0;},_getSiblingOfChild:function(_142,dir){var _143=this.getChildren(),idx=_13a.indexOf(this.getChildren(),_142);return _143[idx+dir];},getIndexOfChild:function(_144){return _13a.indexOf(this.getChildren(),_144);}});});},"dijit/layout/_ContentPaneResizeMixin":function(){define("dijit/layout/_ContentPaneResizeMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/query","dojo/sniff","../registry","../Viewport","./utils"],function(_145,_146,_147,_148,_149,lang,_14a,has,_14b,_14c,_14d){return _146("dijit.layout._ContentPaneResizeMixin",null,{doLayout:true,isLayoutContainer:true,startup:function(){if(this._started){return;}var _14e=this.getParent();this._childOfLayoutWidget=_14e&&_14e.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);if(this._isShown()){this._onShow();}if(!this._childOfLayoutWidget){this.own(_14c.on("resize",lang.hitch(this,"resize")));}},_checkIfSingleChild:function(){var _14f=[],_150=false;_14a("> *",this.containerNode).some(function(node){var _151=_14b.byNode(node);if(_151&&_151.resize){_14f.push(_151);}else{if(node.offsetHeight){_150=true;}}});this._singleChild=_14f.length==1&&!_150?_14f[0]:null;_147.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild);},resize:function(_152,_153){this._resizeCalled=true;this._scheduleLayout(_152,_153);},_scheduleLayout:function(_154,_155){if(this._isShown()){this._layout(_154,_155);}else{this._needLayout=true;this._changeSize=_154;this._resultSize=_155;}},_layout:function(_156,_157){delete this._needLayout;if(!this._wasShown&&this.open!==false){this._onShow();}if(_156){_148.setMarginBox(this.domNode,_156);}var cn=this.containerNode;if(cn===this.domNode){var mb=_157||{};lang.mixin(mb,_156||{});if(!("h" in mb)||!("w" in mb)){mb=lang.mixin(_148.getMarginBox(cn),mb);}this._contentBox=_14d.marginBox2contentBox(cn,mb);}else{this._contentBox=_148.getContentBox(cn);}this._layoutChildren();},_layoutChildren:function(){if(this.doLayout){this._checkIfSingleChild();}if(this._singleChild&&this._singleChild.resize){var cb=this._contentBox||_148.getContentBox(this.containerNode);this._singleChild.resize({w:cb.w,h:cb.h});}else{_145.forEach(this.getChildren(),function(_158){if(_158.resize){_158.resize();}});}},_isShown:function(){if(this._childOfLayoutWidget){if(this._resizeCalled&&"open" in this){return this.open;}return this._resizeCalled;}else{if("open" in this){return this.open;}else{var node=this.domNode,_159=this.domNode.parentNode;return (node.style.display!="none")&&(node.style.visibility!="hidden")&&!_147.contains(node,"dijitHidden")&&_159&&_159.style&&(_159.style.display!="none");}}},_onShow:function(){this._wasShown=true;if(this._needLayout){this._layout(this._changeSize,this._resultSize);}this.inherited(arguments);}});});},"dijit/Viewport":function(){define("dijit/Viewport",["dojo/Evented","dojo/on","dojo/ready","dojo/sniff","dojo/_base/window","dojo/window"],function(_15a,on,_15b,has,win,_15c){var _15d=new _15a();_15b(200,function(){var _15e=_15c.getBox();_15d._rlh=on(win.global,"resize",function(){var _15f=_15c.getBox();if(_15e.h==_15f.h&&_15e.w==_15f.w){return;}_15e=_15f;_15d.emit("resize");});if(has("ie")==8){var _160=screen.deviceXDPI;setInterval(function(){if(screen.deviceXDPI!=_160){_160=screen.deviceXDPI;_15d.emit("resize");}},500);}});return _15d;});},"dijit/layout/utils":function(){define("dijit/layout/utils",["dojo/_base/array","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","../main"],function(_161,_162,_163,_164,lang,_165){var _166=lang.getObject("layout",true,_165);_166.marginBox2contentBox=function(node,mb){var cs=_164.getComputedStyle(node);var me=_163.getMarginExtents(node,cs);var pb=_163.getPadBorderExtents(node,cs);return {l:_164.toPixelValue(node,cs.paddingLeft),t:_164.toPixelValue(node,cs.paddingTop),w:mb.w-(me.w+pb.w),h:mb.h-(me.h+pb.h)};};function _167(word){return word.substring(0,1).toUpperCase()+word.substring(1);};function size(_168,dim){var _169=_168.resize?_168.resize(dim):_163.setMarginBox(_168.domNode,dim);if(_169){lang.mixin(_168,_169);}else{lang.mixin(_168,_163.getMarginBox(_168.domNode));lang.mixin(_168,dim);}};_166.layoutChildren=function(_16a,dim,_16b,_16c,_16d){dim=lang.mixin({},dim);_162.add(_16a,"dijitLayoutContainer");_16b=_161.filter(_16b,function(item){return item.region!="center"&&item.layoutAlign!="client";}).concat(_161.filter(_16b,function(item){return item.region=="center"||item.layoutAlign=="client";}));_161.forEach(_16b,function(_16e){var elm=_16e.domNode,pos=(_16e.region||_16e.layoutAlign);if(!pos){throw new Error("No region setting for "+_16e.id);}var _16f=elm.style;_16f.left=dim.l+"px";_16f.top=dim.t+"px";_16f.position="absolute";_162.add(elm,"dijitAlign"+_167(pos));var _170={};if(_16c&&_16c==_16e.id){_170[_16e.region=="top"||_16e.region=="bottom"?"h":"w"]=_16d;}if(pos=="top"||pos=="bottom"){_170.w=dim.w;size(_16e,_170);dim.h-=_16e.h;if(pos=="top"){dim.t+=_16e.h;}else{_16f.top=dim.t+dim.h+"px";}}else{if(pos=="left"||pos=="right"){_170.h=dim.h;size(_16e,_170);dim.w-=_16e.w;if(pos=="left"){dim.l+=_16e.w;}else{_16f.left=dim.l+dim.w+"px";}}else{if(pos=="client"||pos=="center"){size(_16e,dim);}}}});};return {marginBox2contentBox:_166.marginBox2contentBox,layoutChildren:_166.layoutChildren};});},"dojo/html":function(){define("dojo/html",["./_base/kernel","./_base/lang","./_base/array","./_base/declare","./dom","./dom-construct","./parser"],function(_171,lang,_172,_173,dom,_174,_175){var html={};lang.setObject("dojo.html",html);var _176=0;html._secureForInnerHtml=function(cont){return cont.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"");};html._emptyNode=_174.empty;html._setNodeContent=function(node,cont){_174.empty(node);if(cont){if(typeof cont=="string"){cont=_174.toDom(cont,node.ownerDocument);}if(!cont.nodeType&&lang.isArrayLike(cont)){for(var _177=cont.length,i=0;i<cont.length;i=_177==cont.length?i+1:0){_174.place(cont[i],node,"last");}}else{_174.place(cont,node,"last");}}return node;};html._ContentSetter=_173("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:false,extractContent:false,parseContent:false,parserScope:_171._scopeName,startup:true,constructor:function(_178,node){lang.mixin(this,_178||{});node=this.node=dom.byId(this.node||node);if(!this.id){this.id=["Setter",(node)?node.id||node.tagName:"",_176++].join("_");}},set:function(cont,_179){if(undefined!==cont){this.content=cont;}if(_179){this._mixin(_179);}this.onBegin();this.setContent();var ret=this.onEnd();if(ret&&ret.then){return ret;}else{return this.node;}},setContent:function(){var node=this.node;if(!node){throw new Error(this.declaredClass+": setContent given no node");}try{node=html._setNodeContent(node,this.content);}catch(e){var _17a=this.onContentError(e);try{node.innerHTML=_17a;}catch(e){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+e.message,e);}}this.node=node;},empty:function(){if(this.parseDeferred){if(!this.parseDeferred.isResolved()){this.parseDeferred.cancel();}delete this.parseDeferred;}if(this.parseResults&&this.parseResults.length){_172.forEach(this.parseResults,function(w){if(w.destroy){w.destroy();}});delete this.parseResults;}_174.empty(this.node);},onBegin:function(){var cont=this.content;if(lang.isString(cont)){if(this.cleanContent){cont=html._secureForInnerHtml(cont);}if(this.extractContent){var _17b=cont.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_17b){cont=_17b[1];}}}this.empty();this.content=cont;return this.node;},onEnd:function(){if(this.parseContent){this._parse();}return this.node;},tearDown:function(){delete this.parseResults;delete this.parseDeferred;delete this.node;delete this.content;},onContentError:function(err){return "Error occurred setting content: "+err;},onExecError:function(err){return "Error occurred executing scripts: "+err;},_mixin:function(_17c){var _17d={},key;for(key in _17c){if(key in _17d){continue;}this[key]=_17c[key];}},_parse:function(){var _17e=this.node;try{var _17f={};_172.forEach(["dir","lang","textDir"],function(name){if(this[name]){_17f[name]=this[name];}},this);var self=this;this.parseDeferred=_175.parse({rootNode:_17e,noStart:!this.startup,inherited:_17f,scope:this.parserScope}).then(function(_180){return self.parseResults=_180;});}catch(e){this._onError("Content",e,"Error parsing in _ContentSetter#"+this.id);}},_onError:function(type,err,_181){var _182=this["on"+type+"Error"].call(this,err);if(_181){console.error(_181,err);}else{if(_182){html._setNodeContent(this.node,_182,true);}}}});html.set=function(node,cont,_183){if(undefined==cont){cont="";}if(!_183){return html._setNodeContent(node,cont,true);}else{var op=new html._ContentSetter(lang.mixin(_183,{content:cont,node:node}));return op.set();}};return html;});},"dojo/parser":function(){define("dojo/parser",["require","./_base/kernel","./_base/lang","./_base/array","./_base/config","./_base/html","./_base/window","./_base/url","./_base/json","./aspect","./date/stamp","./Deferred","./has","./query","./on","./ready"],function(_184,dojo,_185,_186,_187,_188,_189,_18a,_18b,_18c,_18d,_18e,has,_18f,don,_190){new Date("X");var _191=0;_18c.after(_185,"extend",function(){_191++;},true);function _192(ctor){var map=ctor._nameCaseMap,_193=ctor.prototype;if(!map||map._extendCnt<_191){map=ctor._nameCaseMap={};for(var name in _193){if(name.charAt(0)==="_"){continue;}map[name.toLowerCase()]=name;}map._extendCnt=_191;}return map;};var _194={};function _195(_196){var ts=_196.join();if(!_194[ts]){var _197=[];for(var i=0,l=_196.length;i<l;i++){var t=_196[i];_197[_197.length]=(_194[t]=_194[t]||(_185.getObject(t)||(~t.indexOf("/")&&_184(t))));}var ctor=_197.shift();_194[ts]=_197.length?(ctor.createSubclass?ctor.createSubclass(_197):ctor.extend.apply(ctor,_197)):ctor;}return _194[ts];};var _198={_clearCache:function(){_191++;_194={};},_functionFromScript:function(_199,_19a){var _19b="",_19c="",_19d=(_199.getAttribute(_19a+"args")||_199.getAttribute("args")),_19e=_199.getAttribute("with");var _19f=(_19d||"").split(/\s*,\s*/);if(_19e&&_19e.length){_186.forEach(_19e.split(/\s*,\s*/),function(part){_19b+="with("+part+"){";_19c+="}";});}return new Function(_19f,_19b+_199.innerHTML+_19c);},instantiate:function(_1a0,_1a1,_1a2){_1a1=_1a1||{};_1a2=_1a2||{};var _1a3=(_1a2.scope||dojo._scopeName)+"Type",_1a4="data-"+(_1a2.scope||dojo._scopeName)+"-",_1a5=_1a4+"type",_1a6=_1a4+"mixins";var list=[];_186.forEach(_1a0,function(node){var type=_1a3 in _1a1?_1a1[_1a3]:node.getAttribute(_1a5)||node.getAttribute(_1a3);if(type){var _1a7=node.getAttribute(_1a6),_1a8=_1a7?[type].concat(_1a7.split(/\s*,\s*/)):[type];list.push({node:node,types:_1a8});}});return this._instantiate(list,_1a1,_1a2);},_instantiate:function(_1a9,_1aa,_1ab){var _1ac=_186.map(_1a9,function(obj){var ctor=obj.ctor||_195(obj.types);if(!ctor){throw new Error("Unable to resolve constructor for: '"+obj.types.join()+"'");}return this.construct(ctor,obj.node,_1aa,_1ab,obj.scripts,obj.inherited);},this);if(!_1aa._started&&!_1ab.noStart){_186.forEach(_1ac,function(_1ad){if(typeof _1ad.startup==="function"&&!_1ad._started){_1ad.startup();}});}return _1ac;},construct:function(ctor,node,_1ae,_1af,_1b0,_1b1){var _1b2=ctor&&ctor.prototype;_1af=_1af||{};var _1b3={};if(_1af.defaults){_185.mixin(_1b3,_1af.defaults);}if(_1b1){_185.mixin(_1b3,_1b1);}var _1b4;if(has("dom-attributes-explicit")){_1b4=node.attributes;}else{if(has("dom-attributes-specified-flag")){_1b4=_186.filter(node.attributes,function(a){return a.specified;});}else{var _1b5=/^input$|^img$/i.test(node.nodeName)?node:node.cloneNode(false),_1b6=_1b5.outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,"");_1b4=_186.map(_1b6.split(/\s+/),function(name){var _1b7=name.toLowerCase();return {name:name,value:(node.nodeName=="LI"&&name=="value")||_1b7=="enctype"?node.getAttribute(_1b7):node.getAttributeNode(_1b7).value};});}}var _1b8=_1af.scope||dojo._scopeName,_1b9="data-"+_1b8+"-",hash={};if(_1b8!=="dojo"){hash[_1b9+"props"]="data-dojo-props";hash[_1b9+"type"]="data-dojo-type";hash[_1b9+"mixins"]="data-dojo-mixins";hash[_1b8+"type"]="dojoType";hash[_1b9+"id"]="data-dojo-id";}var i=0,item,_1ba=[],_1bb,_1bc;while(item=_1b4[i++]){var name=item.name,_1bd=name.toLowerCase(),_1be=item.value;switch(hash[_1bd]||_1bd){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;case "data-dojo-props":_1bc=_1be;break;case "data-dojo-id":case "jsid":_1bb=_1be;break;case "data-dojo-attach-point":case "dojoattachpoint":_1b3.dojoAttachPoint=_1be;break;case "data-dojo-attach-event":case "dojoattachevent":_1b3.dojoAttachEvent=_1be;break;case "class":_1b3["class"]=node.className;break;case "style":_1b3["style"]=node.style&&node.style.cssText;break;default:if(!(name in _1b2)){var map=_192(ctor);name=map[_1bd]||name;}if(name in _1b2){switch(typeof _1b2[name]){case "string":_1b3[name]=_1be;break;case "number":_1b3[name]=_1be.length?Number(_1be):NaN;break;case "boolean":_1b3[name]=_1be.toLowerCase()!="false";break;case "function":if(_1be===""||_1be.search(/[^\w\.]+/i)!=-1){_1b3[name]=new Function(_1be);}else{_1b3[name]=_185.getObject(_1be,false)||new Function(_1be);}_1ba.push(name);break;default:var pVal=_1b2[name];_1b3[name]=(pVal&&"length" in pVal)?(_1be?_1be.split(/\s*,\s*/):[]):(pVal instanceof Date)?(_1be==""?new Date(""):_1be=="now"?new Date():_18d.fromISOString(_1be)):(pVal instanceof _18a)?(dojo.baseUrl+_1be):_18b.fromJson(_1be);}}else{_1b3[name]=_1be;}}}for(var j=0;j<_1ba.length;j++){var _1bf=_1ba[j].toLowerCase();node.removeAttribute(_1bf);node[_1bf]=null;}if(_1bc){try{_1bc=_18b.fromJson.call(_1af.propsThis,"{"+_1bc+"}");_185.mixin(_1b3,_1bc);}catch(e){throw new Error(e.toString()+" in data-dojo-props='"+_1bc+"'");}}_185.mixin(_1b3,_1ae);if(!_1b0){_1b0=(ctor&&(ctor._noScript||_1b2._noScript)?[]:_18f("> script[type^='dojo/']",node));}var _1c0=[],_1c1=[],_1c2=[],ons=[];if(_1b0){for(i=0;i<_1b0.length;i++){var _1c3=_1b0[i];node.removeChild(_1c3);var _1c4=(_1c3.getAttribute(_1b9+"event")||_1c3.getAttribute("event")),prop=_1c3.getAttribute(_1b9+"prop"),_1c5=_1c3.getAttribute(_1b9+"method"),_1c6=_1c3.getAttribute(_1b9+"advice"),_1c7=_1c3.getAttribute("type"),nf=this._functionFromScript(_1c3,_1b9);if(_1c4){if(_1c7=="dojo/connect"){_1c0.push({method:_1c4,func:nf});}else{if(_1c7=="dojo/on"){ons.push({event:_1c4,func:nf});}else{_1b3[_1c4]=nf;}}}else{if(_1c7=="dojo/aspect"){_1c0.push({method:_1c5,advice:_1c6,func:nf});}else{if(_1c7=="dojo/watch"){_1c2.push({prop:prop,func:nf});}else{_1c1.push(nf);}}}}}var _1c8=ctor.markupFactory||_1b2.markupFactory;var _1c9=_1c8?_1c8(_1b3,node,ctor):new ctor(_1b3,node);if(_1bb){_185.setObject(_1bb,_1c9);}for(i=0;i<_1c0.length;i++){_18c[_1c0[i].advice||"after"](_1c9,_1c0[i].method,_185.hitch(_1c9,_1c0[i].func),true);}for(i=0;i<_1c1.length;i++){_1c1[i].call(_1c9);}for(i=0;i<_1c2.length;i++){_1c9.watch(_1c2[i].prop,_1c2[i].func);}for(i=0;i<ons.length;i++){don(_1c9,ons[i].event,ons[i].func);}return _1c9;},scan:function(root,_1ca){var list=[],mids=[],_1cb={};var _1cc=(_1ca.scope||dojo._scopeName)+"Type",_1cd="data-"+(_1ca.scope||dojo._scopeName)+"-",_1ce=_1cd+"type",_1cf=_1cd+"textdir",_1d0=_1cd+"mixins";var node=root.firstChild;var _1d1=_1ca.inherited;if(!_1d1){function _1d2(node,attr){return (node.getAttribute&&node.getAttribute(attr))||(node.parentNode&&_1d2(node.parentNode,attr));};_1d1={dir:_1d2(root,"dir"),lang:_1d2(root,"lang"),textDir:_1d2(root,_1cf)};for(var key in _1d1){if(!_1d1[key]){delete _1d1[key];}}}var _1d3={inherited:_1d1};var _1d4;var _1d5;function _1d6(_1d7){if(!_1d7.inherited){_1d7.inherited={};var node=_1d7.node,_1d8=_1d6(_1d7.parent);var _1d9={dir:node.getAttribute("dir")||_1d8.dir,lang:node.getAttribute("lang")||_1d8.lang,textDir:node.getAttribute(_1cf)||_1d8.textDir};for(var key in _1d9){if(_1d9[key]){_1d7.inherited[key]=_1d9[key];}}}return _1d7.inherited;};while(true){if(!node){if(!_1d3||!_1d3.node){break;}node=_1d3.node.nextSibling;_1d5=false;_1d3=_1d3.parent;_1d4=_1d3.scripts;continue;}if(node.nodeType!=1){node=node.nextSibling;continue;}if(_1d4&&node.nodeName.toLowerCase()=="script"){type=node.getAttribute("type");if(type&&/^dojo\/\w/i.test(type)){_1d4.push(node);}node=node.nextSibling;continue;}if(_1d5){node=node.nextSibling;continue;}var type=node.getAttribute(_1ce)||node.getAttribute(_1cc);var _1da=node.firstChild;if(!type&&(!_1da||(_1da.nodeType==3&&!_1da.nextSibling))){node=node.nextSibling;continue;}var _1db;var ctor=null;if(type){var _1dc=node.getAttribute(_1d0),_1dd=_1dc?[type].concat(_1dc.split(/\s*,\s*/)):[type];try{ctor=_195(_1dd);}catch(e){}if(!ctor){_186.forEach(_1dd,function(t){if(~t.indexOf("/")&&!_1cb[t]){_1cb[t]=true;mids[mids.length]=t;}});}var _1de=ctor&&!ctor.prototype._noScript?[]:null;_1db={types:_1dd,ctor:ctor,parent:_1d3,node:node,scripts:_1de};_1db.inherited=_1d6(_1db);list.push(_1db);}else{_1db={node:node,scripts:_1d4,parent:_1d3};}node=_1da;_1d4=_1de;_1d5=ctor&&ctor.prototype.stopParser&&!(_1ca.template);_1d3=_1db;}var d=new _18e();if(mids.length){if(has("dojo-debug-messages")){}_184(mids,function(){d.resolve(_186.filter(list,function(_1df){if(!_1df.ctor){try{_1df.ctor=_195(_1df.types);}catch(e){}}var _1e0=_1df.parent;while(_1e0&&!_1e0.types){_1e0=_1e0.parent;}var _1e1=_1df.ctor&&_1df.ctor.prototype;_1df.instantiateChildren=!(_1e1&&_1e1.stopParser&&!(_1ca.template));_1df.instantiate=!_1e0||(_1e0.instantiate&&_1e0.instantiateChildren);return _1df.instantiate;}));});}else{d.resolve(list);}return d.promise;},_require:function(_1e2){var hash=_18b.fromJson("{"+_1e2.innerHTML+"}"),vars=[],mids=[],d=new _18e();for(var name in hash){vars.push(name);mids.push(hash[name]);}_184(mids,function(){for(var i=0;i<vars.length;i++){_185.setObject(vars[i],arguments[i]);}d.resolve(arguments);});return d.promise;},_scanAmd:function(root){var _1e3=new _18e(),_1e4=_1e3.promise;_1e3.resolve(true);var self=this;_18f("script[type='dojo/require']",root).forEach(function(node){_1e4=_1e4.then(function(){return self._require(node);});node.parentNode.removeChild(node);});return _1e4;},parse:function(_1e5,_1e6){var root;if(!_1e6&&_1e5&&_1e5.rootNode){_1e6=_1e5;root=_1e6.rootNode;}else{if(_1e5&&_185.isObject(_1e5)&&!("nodeType" in _1e5)){_1e6=_1e5;}else{root=_1e5;}}root=root?_188.byId(root):_189.body();_1e6=_1e6||{};var _1e7=_1e6.template?{template:true}:{},_1e8=[],self=this;var p=this._scanAmd(root,_1e6).then(function(){return self.scan(root,_1e6);}).then(function(_1e9){return _1e8=_1e8.concat(self._instantiate(_1e9,_1e7,_1e6));}).otherwise(function(e){console.error("dojo/parser::parse() error",e);throw e;});_185.mixin(_1e8,p);return _1e8;}};if(1){dojo.parser=_198;}if(_187.parseOnLoad){_190(100,_198,"parse");}return _198;});},"dojo/_base/url":function(){define("dojo/_base/url",["./kernel"],function(dojo){var ore=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),ire=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$"),_1ea=function(){var n=null,_1eb=arguments,uri=[_1eb[0]];for(var i=1;i<_1eb.length;i++){if(!_1eb[i]){continue;}var _1ec=new _1ea(_1eb[i]+""),_1ed=new _1ea(uri[0]+"");if(_1ec.path==""&&!_1ec.scheme&&!_1ec.authority&&!_1ec.query){if(_1ec.fragment!=n){_1ed.fragment=_1ec.fragment;}_1ec=_1ed;}else{if(!_1ec.scheme){_1ec.scheme=_1ed.scheme;if(!_1ec.authority){_1ec.authority=_1ed.authority;if(_1ec.path.charAt(0)!="/"){var path=_1ed.path.substring(0,_1ed.path.lastIndexOf("/")+1)+_1ec.path;var segs=path.split("/");for(var j=0;j<segs.length;j++){if(segs[j]=="."){if(j==segs.length-1){segs[j]="";}else{segs.splice(j,1);j--;}}else{if(j>0&&!(j==1&&segs[0]=="")&&segs[j]==".."&&segs[j-1]!=".."){if(j==(segs.length-1)){segs.splice(j,1);segs[j-1]="";}else{segs.splice(j-1,2);j-=2;}}}}_1ec.path=segs.join("/");}}}}uri=[];if(_1ec.scheme){uri.push(_1ec.scheme,":");}if(_1ec.authority){uri.push("//",_1ec.authority);}uri.push(_1ec.path);if(_1ec.query){uri.push("?",_1ec.query);}if(_1ec.fragment){uri.push("#",_1ec.fragment);}}this.uri=uri.join("");var r=this.uri.match(ore);this.scheme=r[2]||(r[1]?"":n);this.authority=r[4]||(r[3]?"":n);this.path=r[5];this.query=r[7]||(r[6]?"":n);this.fragment=r[9]||(r[8]?"":n);if(this.authority!=n){r=this.authority.match(ire);this.user=r[3]||n;this.password=r[4]||n;this.host=r[6]||r[7];this.port=r[9]||n;}};_1ea.prototype.toString=function(){return this.uri;};return dojo._Url=_1ea;});},"dijit/TooltipDialog":function(){require({cache:{"url:dijit/templates/TooltipDialog.html":"<div role=\"presentation\" tabIndex=\"-1\">\n\t<div class=\"dijitTooltipContainer\" role=\"presentation\">\n\t\t<div class =\"dijitTooltipContents dijitTooltipFocusNode\" data-dojo-attach-point=\"containerNode\" role=\"dialog\"></div>\n\t</div>\n\t<div class=\"dijitTooltipConnector\" role=\"presentation\" data-dojo-attach-point=\"connectorNode\"></div>\n</div>\n"}});define("dijit/TooltipDialog",["dojo/_base/declare","dojo/dom-class","dojo/_base/event","dojo/keys","dojo/_base/lang","./focus","./layout/ContentPane","./_DialogMixin","./form/_FormMixin","./_TemplatedMixin","dojo/text!./templates/TooltipDialog.html","./main"],function(_1ee,_1ef,_1f0,keys,lang,_1f1,_1f2,_1f3,_1f4,_1f5,_1f6,_1f7){return _1ee("dijit.TooltipDialog",[_1f2,_1f5,_1f4,_1f3],{title:"",doLayout:false,autofocus:true,baseClass:"dijitTooltipDialog",_firstFocusItem:null,_lastFocusItem:null,templateString:_1f6,_setTitleAttr:function(_1f8){this.containerNode.title=_1f8;this._set("title",_1f8);},postCreate:function(){this.inherited(arguments);this.connect(this.containerNode,"onkeypress","_onKey");},orient:function(node,_1f9,_1fa){var newC={"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[_1f9+"-"+_1fa];_1ef.replace(this.domNode,newC,this._currentOrientClass||"");this._currentOrientClass=newC;},focus:function(){this._getFocusItems(this.containerNode);_1f1.focus(this._firstFocusItem);},onOpen:function(pos){this.orient(this.domNode,pos.aroundCorner,pos.corner);var _1fb=pos.aroundNodePos;if(pos.corner.charAt(0)=="M"&&pos.aroundCorner.charAt(0)=="M"){this.connectorNode.style.top=_1fb.y+((_1fb.h-this.connectorNode.offsetHeight)>>1)-pos.y+"px";this.connectorNode.style.left="";}else{if(pos.corner.charAt(1)=="M"&&pos.aroundCorner.charAt(1)=="M"){this.connectorNode.style.left=_1fb.x+((_1fb.w-this.connectorNode.offsetWidth)>>1)-pos.x+"px";}}this._onShow();},onClose:function(){this.onHide();},_onKey:function(evt){var node=evt.target;if(evt.charOrCode===keys.TAB){this._getFocusItems(this.containerNode);}var _1fc=(this._firstFocusItem==this._lastFocusItem);if(evt.charOrCode==keys.ESCAPE){this.defer("onCancel");_1f0.stop(evt);}else{if(node==this._firstFocusItem&&evt.shiftKey&&evt.charOrCode===keys.TAB){if(!_1fc){_1f1.focus(this._lastFocusItem);}_1f0.stop(evt);}else{if(node==this._lastFocusItem&&evt.charOrCode===keys.TAB&&!evt.shiftKey){if(!_1fc){_1f1.focus(this._firstFocusItem);}_1f0.stop(evt);}else{if(evt.charOrCode===keys.TAB){evt.stopPropagation();}}}}}});});},"dijit/_DialogMixin":function(){define("dijit/_DialogMixin",["dojo/_base/declare","./a11y"],function(_1fd,a11y){return _1fd("dijit._DialogMixin",null,{execute:function(){},onCancel:function(){},onExecute:function(){},_onSubmit:function(){this.onExecute();this.execute(this.get("value"));},_getFocusItems:function(){var _1fe=a11y._getTabNavigable(this.containerNode);this._firstFocusItem=_1fe.lowest||_1fe.first||this.closeButtonNode||this.domNode;this._lastFocusItem=_1fe.last||_1fe.highest||this._firstFocusItem;}});});},"dijit/form/_FormMixin":function(){define("dijit/form/_FormMixin",["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/window"],function(_1ff,_200,_201,lang,on,_202){return _200("dijit.form._FormMixin",null,{state:"",_getDescendantFormWidgets:function(_203){var res=[];_1ff.forEach(_203||this.getChildren(),function(_204){if("value" in _204){res.push(_204);}else{res=res.concat(this._getDescendantFormWidgets(_204.getChildren()));}},this);return res;},reset:function(){_1ff.forEach(this._getDescendantFormWidgets(),function(_205){if(_205.reset){_205.reset();}});},validate:function(){var _206=false;return _1ff.every(_1ff.map(this._getDescendantFormWidgets(),function(_207){_207._hasBeenBlurred=true;var _208=_207.disabled||!_207.validate||_207.validate();if(!_208&&!_206){_202.scrollIntoView(_207.containerNode||_207.domNode);_207.focus();_206=true;}return _208;}),function(item){return item;});},setValues:function(val){_201.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");return this.set("value",val);},_setValueAttr:function(obj){var map={};_1ff.forEach(this._getDescendantFormWidgets(),function(_209){if(!_209.name){return;}var _20a=map[_209.name]||(map[_209.name]=[]);_20a.push(_209);});for(var name in map){if(!map.hasOwnProperty(name)){continue;}var _20b=map[name],_20c=lang.getObject(name,false,obj);if(_20c===undefined){continue;}if(!lang.isArray(_20c)){_20c=[_20c];}if(typeof _20b[0].checked=="boolean"){_1ff.forEach(_20b,function(w){w.set("value",_1ff.indexOf(_20c,w.value)!=-1);});}else{if(_20b[0].multiple){_20b[0].set("value",_20c);}else{_1ff.forEach(_20b,function(w,i){w.set("value",_20c[i]);});}}}},getValues:function(){_201.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0");return this.get("value");},_getValueAttr:function(){var obj={};_1ff.forEach(this._getDescendantFormWidgets(),function(_20d){var name=_20d.name;if(!name||_20d.disabled){return;}var _20e=_20d.get("value");if(typeof _20d.checked=="boolean"){if(/Radio/.test(_20d.declaredClass)){if(_20e!==false){lang.setObject(name,_20e,obj);}else{_20e=lang.getObject(name,false,obj);if(_20e===undefined){lang.setObject(name,null,obj);}}}else{var ary=lang.getObject(name,false,obj);if(!ary){ary=[];lang.setObject(name,ary,obj);}if(_20e!==false){ary.push(_20e);}}}else{var prev=lang.getObject(name,false,obj);if(typeof prev!="undefined"){if(lang.isArray(prev)){prev.push(_20e);}else{lang.setObject(name,[prev,_20e],obj);}}else{lang.setObject(name,_20e,obj);}}});return obj;},isValid:function(){return this.state=="";},onValidStateChange:function(){},_getState:function(){var _20f=_1ff.map(this._descendants,function(w){return w.get("state")||"";});return _1ff.indexOf(_20f,"Error")>=0?"Error":_1ff.indexOf(_20f,"Incomplete")>=0?"Incomplete":"";},disconnectChildren:function(){},connectChildren:function(_210){this._descendants=this._getDescendantFormWidgets();_1ff.forEach(this._descendants,function(_211){if(!_211._started){_211.startup();}});if(!_210){this._onChildChange();}},_onChildChange:function(attr){if(!attr||attr=="state"||attr=="disabled"){this._set("state",this._getState());}if(!attr||attr=="value"||attr=="disabled"||attr=="checked"){if(this._onChangeDelayTimer){this._onChangeDelayTimer.remove();}this._onChangeDelayTimer=this.defer(function(){delete this._onChangeDelayTimer;this._set("value",this.get("value"));},10);}},startup:function(){this.inherited(arguments);this._descendants=this._getDescendantFormWidgets();this.value=this.get("value");this.state=this._getState();var self=this;this.own(on(this.containerNode,"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",function(evt){if(evt.target==self.domNode){return;}self._onChildChange(evt.type.replace("attrmodified-",""));}));this.watch("state",function(attr,_212,_213){this.onValidStateChange(_213=="");});},destroy:function(){this.inherited(arguments);}});});},"dijit/_TemplatedMixin":function(){define("dijit/_TemplatedMixin",["dojo/_base/lang","dojo/touch","./_WidgetBase","dojo/string","dojo/cache","dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/sniff","dojo/_base/unload"],function(lang,_214,_215,_216,_217,_218,_219,_21a,has,_21b){var _21c=_219("dijit._TemplatedMixin",null,{templateString:null,templatePath:null,_skipNodeCache:false,_earlyTemplatedStartup:false,constructor:function(){this._attachPoints=[];this._attachEvents=[];},_stringRepl:function(tmpl){var _21d=this.declaredClass,_21e=this;return _216.substitute(tmpl,this,function(_21f,key){if(key.charAt(0)=="!"){_21f=lang.getObject(key.substr(1),false,_21e);}if(typeof _21f=="undefined"){throw new Error(_21d+" template:"+key);}if(_21f==null){return "";}return key.charAt(0)=="!"?_21f:_21f.toString().replace(/"/g,"&quot;");},this);},buildRendering:function(){if(!this.templateString){this.templateString=_217(this.templatePath,{sanitize:true});}var _220=_21c.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument);var node;if(lang.isString(_220)){node=_21a.toDom(this._stringRepl(_220),this.ownerDocument);if(node.nodeType!=1){throw new Error("Invalid template: "+_220);}}else{node=_220.cloneNode(true);}this.domNode=node;this.inherited(arguments);this._attachTemplateNodes(node,function(n,p){return n.getAttribute(p);});this._beforeFillContent();this._fillContent(this.srcNodeRef);},_beforeFillContent:function(){},_fillContent:function(_221){var dest=this.containerNode;if(_221&&dest){while(_221.hasChildNodes()){dest.appendChild(_221.firstChild);}}},_attachTemplateNodes:function(_222,_223){var _224=lang.isArray(_222)?_222:(_222.all||_222.getElementsByTagName("*"));var x=lang.isArray(_222)?0:-1;for(;x<0||_224[x];x++){var _225=(x==-1)?_222:_224[x];if(this.widgetsInTemplate&&(_223(_225,"dojoType")||_223(_225,"data-dojo-type"))){continue;}var _226=_223(_225,"dojoAttachPoint")||_223(_225,"data-dojo-attach-point");if(_226){var _227,_228=_226.split(/\s*,\s*/);while((_227=_228.shift())){if(lang.isArray(this[_227])){this[_227].push(_225);}else{this[_227]=_225;}this._attachPoints.push(_227);}}var _229=_223(_225,"dojoAttachEvent")||_223(_225,"data-dojo-attach-event");if(_229){var _22a,_22b=_229.split(/\s*,\s*/);var trim=lang.trim;while((_22a=_22b.shift())){if(_22a){var _22c=null;if(_22a.indexOf(":")!=-1){var _22d=_22a.split(":");_22a=trim(_22d[0]);_22c=trim(_22d[1]);}else{_22a=trim(_22a);}if(!_22c){_22c=_22a;}this._attachEvents.push(this.connect(_225,_214[_22a]||_22a,_22c));}}}}},destroyRendering:function(){_218.forEach(this._attachPoints,function(_22e){delete this[_22e];},this);this._attachPoints=[];_218.forEach(this._attachEvents,this.disconnect,this);this._attachEvents=[];this.inherited(arguments);}});_21c._templateCache={};_21c.getCachedTemplate=function(_22f,_230,doc){var _231=_21c._templateCache;var key=_22f;var _232=_231[key];if(_232){try{if(!_232.ownerDocument||_232.ownerDocument==(doc||document)){return _232;}}catch(e){}_21a.destroy(_232);}_22f=_216.trim(_22f);if(_230||_22f.match(/\$\{([^\}]+)\}/g)){return (_231[key]=_22f);}else{var node=_21a.toDom(_22f,doc);if(node.nodeType!=1){throw new Error("Invalid template: "+_22f);}return (_231[key]=node);}};if(has("ie")){_21b.addOnWindowUnload(function(){var _233=_21c._templateCache;for(var key in _233){var _234=_233[key];if(typeof _234=="object"){_21a.destroy(_234);}delete _233[key];}});}lang.extend(_215,{dojoAttachEvent:"",dojoAttachPoint:""});return _21c;});},"dojo/touch":function(){define("dojo/touch",["./_base/kernel","./aspect","./dom","./on","./has","./mouse","./ready","./_base/window"],function(dojo,_235,dom,on,has,_236,_237,win){var _238=has("touch");var ios4=false;if(has("ios")){var ua=navigator.userAgent;var v=ua.match(/OS ([\d_]+)/)?RegExp.$1:"1";var os=parseFloat(v.replace(/_/,".").replace(/_/g,""));ios4=os<5;}var _239,_23a;if(_238){_237(function(){_23a=win.body();win.doc.addEventListener("touchstart",function(evt){var _23b=_23a;_23a=evt.target;on.emit(_23b,"dojotouchout",{target:_23b,relatedTarget:_23a,bubbles:true});on.emit(_23a,"dojotouchover",{target:_23a,relatedTarget:_23b,bubbles:true});},true);on(win.doc,"touchmove",function(evt){var _23c=win.doc.elementFromPoint(evt.pageX-(ios4?0:win.global.pageXOffset),evt.pageY-(ios4?0:win.global.pageYOffset));if(_23c&&_23a!==_23c){on.emit(_23a,"dojotouchout",{target:_23a,relatedTarget:_23c,bubbles:true});on.emit(_23c,"dojotouchover",{target:_23c,relatedTarget:_23a,bubbles:true});_23a=_23c;}});});_239=function(node,_23d){return on(win.doc,"touchmove",function(evt){if(node===win.doc||dom.isDescendant(_23a,node)){evt.target=_23a;_23d.call(this,evt);}});};}function _23e(type){return function(node,_23f){return on(node,type,_23f);};};var _240={press:_23e(_238?"touchstart":"mousedown"),move:_238?_239:_23e("mousemove"),release:_23e(_238?"touchend":"mouseup"),cancel:_238?_23e("touchcancel"):_236.leave,over:_23e(_238?"dojotouchover":"mouseover"),out:_23e(_238?"dojotouchout":"mouseout"),enter:_236._eventHandler(_238?"dojotouchover":"mouseover"),leave:_236._eventHandler(_238?"dojotouchout":"mouseout")};1&&(dojo.touch=_240);return _240;});},"dojo/cache":function(){define("dojo/cache",["./_base/kernel","./text"],function(dojo){return dojo.cache;});},"dojo/text":function(){define("dojo/text",["./_base/kernel","require","./has","./_base/xhr"],function(dojo,_241,has,xhr){var _242;if(1){_242=function(url,sync,load){xhr("GET",{url:url,sync:!!sync,load:load,headers:dojo.config.textPluginHeaders||{}});};}else{if(_241.getText){_242=_241.getText;}else{console.error("dojo/text plugin failed to load because loader does not support getText");}}var _243={},_244=function(text){if(text){text=text.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var _245=text.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_245){text=_245[1];}}else{text="";}return text;},_246={},_247={};dojo.cache=function(_248,url,_249){var key;if(typeof _248=="string"){if(/\//.test(_248)){key=_248;_249=url;}else{key=_241.toUrl(_248.replace(/\./g,"/")+(url?("/"+url):""));}}else{key=_248+"";_249=url;}var val=(_249!=undefined&&typeof _249!="string")?_249.value:_249,_24a=_249&&_249.sanitize;if(typeof val=="string"){_243[key]=val;return _24a?_244(val):val;}else{if(val===null){delete _243[key];return null;}else{if(!(key in _243)){_242(key,true,function(text){_243[key]=text;});}return _24a?_244(_243[key]):_243[key];}}};return {dynamic:true,normalize:function(id,_24b){var _24c=id.split("!"),url=_24c[0];return (/^\./.test(url)?_24b(url):url)+(_24c[1]?"!"+_24c[1]:"");},load:function(id,_24d,load){var _24e=id.split("!"),_24f=_24e.length>1,_250=_24e[0],url=_24d.toUrl(_24e[0]),_251="url:"+url,text=_246,_252=function(text){load(_24f?_244(text):text);};if(_250 in _243){text=_243[_250];}else{if(_251 in _24d.cache){text=_24d.cache[_251];}else{if(url in _243){text=_243[url];}}}if(text===_246){if(_247[url]){_247[url].push(_252);}else{var _253=_247[url]=[_252];_242(url,!_24d.async,function(text){_243[_250]=_243[url]=text;for(var i=0;i<_253.length;){_253[i++](text);}delete _247[url];});}}else{_252(text);}}};});},"url:dijit/templates/TooltipDialog.html":"<div role=\"presentation\" tabIndex=\"-1\">\n\t<div class=\"dijitTooltipContainer\" role=\"presentation\">\n\t\t<div class =\"dijitTooltipContents dijitTooltipFocusNode\" data-dojo-attach-point=\"containerNode\" role=\"dialog\"></div>\n\t</div>\n\t<div class=\"dijitTooltipConnector\" role=\"presentation\" data-dojo-attach-point=\"connectorNode\"></div>\n</div>\n","dijit/form/Textarea":function(){define("dijit/form/Textarea",["dojo/_base/declare","dojo/dom-style","./_ExpandingTextAreaMixin","./SimpleTextarea"],function(_254,_255,_256,_257){return _254("dijit.form.Textarea",[_257,_256],{baseClass:"dijitTextBox dijitTextArea dijitExpandingTextArea",cols:"",buildRendering:function(){this.inherited(arguments);_255.set(this.textbox,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"});}});});},"dijit/form/_ExpandingTextAreaMixin":function(){define("dijit/form/_ExpandingTextAreaMixin",["dojo/_base/declare","dojo/dom-construct","dojo/has","dojo/_base/lang","dojo/on","dojo/_base/window","../Viewport"],function(_258,_259,has,lang,on,win,_25a){has.add("textarea-needs-help-shrinking",function(){var body=win.body(),te=_259.create("textarea",{rows:"5",cols:"20",value:" ",style:{zoom:1,fontSize:"12px",height:"96px",overflow:"hidden",visibility:"hidden",position:"absolute",border:"5px solid white",margin:"0",padding:"0",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"}},body,"last");var _25b=te.scrollHeight>=te.clientHeight;body.removeChild(te);return _25b;});return _258("dijit.form._ExpandingTextAreaMixin",null,{_setValueAttr:function(){this.inherited(arguments);this.resize();},postCreate:function(){this.inherited(arguments);var _25c=this.textbox;_25c.style.overflowY="hidden";this.own(on(_25c,"focus, resize",lang.hitch(this,"_resizeLater")));},startup:function(){this.inherited(arguments);this.own(_25a.on("resize",lang.hitch(this,"_resizeLater")));this._resizeLater();},_onInput:function(e){this.inherited(arguments);this.resize();},_estimateHeight:function(){var _25d=this.textbox;_25d.rows=(_25d.value.match(/\n/g)||[]).length+1;},_resizeLater:function(){this.defer("resize");},resize:function(){var _25e=this.textbox;function _25f(){var _260=false;if(_25e.value===""){_25e.value=" ";_260=true;}var sh=_25e.scrollHeight;if(_260){_25e.value="";}return sh;};if(_25e.style.overflowY=="hidden"){_25e.scrollTop=0;}if(this.busyResizing){return;}this.busyResizing=true;if(_25f()||_25e.offsetHeight){var newH=_25f()+Math.max(_25e.offsetHeight-_25e.clientHeight,0);var _261=newH+"px";if(_261!=_25e.style.height){_25e.style.height=_261;_25e.rows=1;}if(has("textarea-needs-help-shrinking")){var _262=_25f(),_263=_262,_264=_25e.style.minHeight,_265=4,_266,_267=_25e.scrollTop;_25e.style.minHeight=_261;_25e.style.height="auto";while(newH>0){_25e.style.minHeight=Math.max(newH-_265,4)+"px";_266=_25f();var _268=_263-_266;newH-=_268;if(_268<_265){break;}_263=_266;_265<<=1;}_25e.style.height=newH+"px";_25e.style.minHeight=_264;_25e.scrollTop=_267;}_25e.style.overflowY=_25f()>_25e.clientHeight?"auto":"hidden";if(_25e.style.overflowY=="hidden"){_25e.scrollTop=0;}}else{this._estimateHeight();}this.busyResizing=false;}});});},"dijit/form/SimpleTextarea":function(){define("dijit/form/SimpleTextarea",["dojo/_base/declare","dojo/dom-class","dojo/sniff","./TextBox"],function(_269,_26a,has,_26b){return _269("dijit.form.SimpleTextarea",_26b,{baseClass:"dijitTextBox dijitTextArea",rows:"3",cols:"20",templateString:"<textarea ${!nameAttrSetting} data-dojo-attach-point='focusNode,containerNode,textbox' autocomplete='off'></textarea>",postMixInProperties:function(){if(!this.value&&this.srcNodeRef){this.value=this.srcNodeRef.value;}this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);if(has("ie")&&this.cols){_26a.add(this.textbox,"dijitTextAreaCols");}},filter:function(_26c){if(_26c){_26c=_26c.replace(/\r/g,"");}return this.inherited(arguments);},_onInput:function(e){if(this.maxLength){var _26d=parseInt(this.maxLength);var _26e=this.textbox.value.replace(/\r/g,"");var _26f=_26e.length-_26d;if(_26f>0){var _270=this.textbox;if(_270.selectionStart){var pos=_270.selectionStart;var cr=0;if(has("opera")){cr=(this.textbox.value.substring(0,pos).match(/\r/g)||[]).length;}this.textbox.value=_26e.substring(0,pos-_26f-cr)+_26e.substring(pos-cr);_270.setSelectionRange(pos-_26f,pos-_26f);}else{if(this.ownerDocument.selection){_270.focus();var _271=this.ownerDocument.selection.createRange();_271.moveStart("character",-_26f);_271.text="";_271.select();}}}}this.inherited(arguments);}});});},"dijit/form/TextBox":function(){require({cache:{"url:dijit/form/templates/TextBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\" id=\"widget_${id}\" role=\"presentation\"\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${!nameAttrSetting} type='${type}'\n\t/></div\n></div>\n"}});define("dijit/form/TextBox",["dojo/_base/declare","dojo/dom-construct","dojo/dom-style","dojo/_base/kernel","dojo/_base/lang","dojo/sniff","./_FormValueWidget","./_TextBoxMixin","dojo/text!./templates/TextBox.html","../main"],function(_272,_273,_274,_275,lang,has,_276,_277,_278,_279){var _27a=_272("dijit.form.TextBox",[_276,_277],{templateString:_278,_singleNodeTemplate:"<input class=\"dijit dijitReset dijitLeft dijitInputField\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" type=\"${type}\" ${!nameAttrSetting} />",_buttonInputDisabled:has("ie")?"disabled":"",baseClass:"dijitTextBox",postMixInProperties:function(){var type=this.type.toLowerCase();if(this.templateString&&this.templateString.toLowerCase()=="input"||((type=="hidden"||type=="file")&&this.templateString==this.constructor.prototype.templateString)){this.templateString=this._singleNodeTemplate;}this.inherited(arguments);},postCreate:function(){this.inherited(arguments);if(has("ie")<9){this.defer(function(){try{var s=_274.getComputedStyle(this.domNode);if(s){var ff=s.fontFamily;if(ff){var _27b=this.domNode.getElementsByTagName("INPUT");if(_27b){for(var i=0;i<_27b.length;i++){_27b[i].style.fontFamily=ff;}}}}}catch(e){}});}},_onInput:function(e){this.inherited(arguments);if(this.intermediateChanges){this.defer(function(){this._handleOnChange(this.get("value"),false);});}},_setPlaceHolderAttr:function(v){this._set("placeHolder",v);if(!this._phspan){this._attachPoints.push("_phspan");this._phspan=_273.create("span",{onmousedown:function(e){e.preventDefault();},className:"dijitPlaceHolder dijitInputField"},this.textbox,"after");}this._phspan.innerHTML="";this._phspan.appendChild(this._phspan.ownerDocument.createTextNode(v));this._updatePlaceHolder();},_updatePlaceHolder:function(){if(this._phspan){this._phspan.style.display=(this.placeHolder&&!this.focused&&!this.textbox.value)?"":"none";}},_setValueAttr:function(_27c,_27d,_27e){this.inherited(arguments);this._updatePlaceHolder();},getDisplayedValue:function(){_275.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use get('displayedValue') instead.","","2.0");return this.get("displayedValue");},setDisplayedValue:function(_27f){_275.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0");this.set("displayedValue",_27f);},_onBlur:function(e){if(this.disabled){return;}this.inherited(arguments);this._updatePlaceHolder();if(has("mozilla")){if(this.selectOnClick){this.textbox.selectionStart=this.textbox.selectionEnd=undefined;}}},_onFocus:function(by){if(this.disabled||this.readOnly){return;}this.inherited(arguments);this._updatePlaceHolder();}});if(has("ie")){_27a.prototype._isTextSelected=function(){var _280=this.ownerDocument.selection.createRange();var _281=_280.parentElement();return _281==this.textbox&&_280.text.length>0;};_279._setSelectionRange=_277._setSelectionRange=function(_282,_283,stop){if(_282.createTextRange){var r=_282.createTextRange();r.collapse(true);r.moveStart("character",-99999);r.moveStart("character",_283);r.moveEnd("character",stop-_283);r.select();}};}return _27a;});},"dijit/form/_FormValueWidget":function(){define("dijit/form/_FormValueWidget",["dojo/_base/declare","dojo/sniff","./_FormWidget","./_FormValueMixin"],function(_284,has,_285,_286){return _284("dijit.form._FormValueWidget",[_285,_286],{_layoutHackIE7:function(){if(has("ie")==7){var _287=this.domNode;var _288=_287.parentNode;var _289=_287.firstChild||_287;var _28a=_289.style.filter;var _28b=this;while(_288&&_288.clientHeight==0){(function ping(){var _28c=_28b.connect(_288,"onscroll",function(){_28b.disconnect(_28c);_289.style.filter=(new Date()).getMilliseconds();_28b.defer(function(){_289.style.filter=_28a;});});})();_288=_288.parentNode;}}}});});},"dijit/form/_FormWidget":function(){define("dijit/form/_FormWidget",["dojo/_base/declare","dojo/has","dojo/_base/kernel","dojo/ready","../_Widget","../_CssStateMixin","../_TemplatedMixin","./_FormWidgetMixin"],function(_28d,has,_28e,_28f,_290,_291,_292,_293){if(has("dijit-legacy-requires")){_28f(0,function(){var _294=["dijit/form/_FormValueWidget"];require(_294);});}return _28d("dijit.form._FormWidget",[_290,_292,_291,_293],{setDisabled:function(_295){_28e.deprecated("setDisabled("+_295+") is deprecated. Use set('disabled',"+_295+") instead.","","2.0");this.set("disabled",_295);},setValue:function(_296){_28e.deprecated("dijit.form._FormWidget:setValue("+_296+") is deprecated.  Use set('value',"+_296+") instead.","","2.0");this.set("value",_296);},getValue:function(){_28e.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value");},postMixInProperties:function(){this.nameAttrSetting=this.name?("name=\""+this.name.replace(/"/g,"&quot;")+"\""):"";this.inherited(arguments);},_setTypeAttr:null});});},"dijit/_CssStateMixin":function(){define("dijit/_CssStateMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-class","dojo/has","dojo/_base/lang","dojo/on","dojo/ready","dojo/_base/window","./registry"],function(_297,_298,dom,_299,has,lang,on,_29a,win,_29b){var _29c=_298("dijit._CssStateMixin",[],{cssStateNodes:{},hovering:false,active:false,_applyAttributes:function(){this.inherited(arguments);_297.forEach(["disabled","readOnly","checked","selected","focused","state","hovering","active","_opened"],function(attr){this.watch(attr,lang.hitch(this,"_setStateClass"));},this);for(var ap in this.cssStateNodes){this._trackMouseState(this[ap],this.cssStateNodes[ap]);}this._trackMouseState(this.domNode,this.baseClass);this._setStateClass();},_cssMouseEvent:function(_29d){if(!this.disabled){switch(_29d.type){case "mouseover":this._set("hovering",true);this._set("active",this._mouseDown);break;case "mouseout":this._set("hovering",false);this._set("active",false);break;case "mousedown":case "touchstart":this._set("active",true);break;case "mouseup":case "touchend":this._set("active",false);break;}}},_setStateClass:function(){var _29e=this.baseClass.split(" ");function _29f(_2a0){_29e=_29e.concat(_297.map(_29e,function(c){return c+_2a0;}),"dijit"+_2a0);};if(!this.isLeftToRight()){_29f("Rtl");}var _2a1=this.checked=="mixed"?"Mixed":(this.checked?"Checked":"");if(this.checked){_29f(_2a1);}if(this.state){_29f(this.state);}if(this.selected){_29f("Selected");}if(this._opened){_29f("Opened");}if(this.disabled){_29f("Disabled");}else{if(this.readOnly){_29f("ReadOnly");}else{if(this.active){_29f("Active");}else{if(this.hovering){_29f("Hover");}}}}if(this.focused){_29f("Focused");}var tn=this.stateNode||this.domNode,_2a2={};_297.forEach(tn.className.split(" "),function(c){_2a2[c]=true;});if("_stateClasses" in this){_297.forEach(this._stateClasses,function(c){delete _2a2[c];});}_297.forEach(_29e,function(c){_2a2[c]=true;});var _2a3=[];for(var c in _2a2){_2a3.push(c);}tn.className=_2a3.join(" ");this._stateClasses=_29e;},_subnodeCssMouseEvent:function(node,_2a4,evt){if(this.disabled||this.readOnly){return;}function _2a5(_2a6){_299.toggle(node,_2a4+"Hover",_2a6);};function _2a7(_2a8){_299.toggle(node,_2a4+"Active",_2a8);};function _2a9(_2aa){_299.toggle(node,_2a4+"Focused",_2aa);};switch(evt.type){case "mouseover":_2a5(true);break;case "mouseout":_2a5(false);_2a7(false);break;case "mousedown":case "touchstart":_2a7(true);break;case "mouseup":case "touchend":_2a7(false);break;case "focus":case "focusin":_2a9(true);break;case "blur":case "focusout":_2a9(false);break;}},_trackMouseState:function(node,_2ab){node._cssState=_2ab;}});_29a(function(){function _2ac(evt){if(!dom.isDescendant(evt.relatedTarget,evt.target)){for(var node=evt.target;node&&node!=evt.relatedTarget;node=node.parentNode){if(node._cssState){var _2ad=_29b.getEnclosingWidget(node);if(_2ad){if(node==_2ad.domNode){_2ad._cssMouseEvent(evt);}else{_2ad._subnodeCssMouseEvent(node,node._cssState,evt);}}}}}};function _2ae(evt){evt.target=evt.srcElement;_2ac(evt);};var body=win.body(),_2af=(has("touch")?[]:["mouseover","mouseout"]).concat(["mousedown","touchstart","mouseup","touchend"]);_297.forEach(_2af,function(type){if(body.addEventListener){body.addEventListener(type,_2ac,true);}else{body.attachEvent("on"+type,_2ae);}});on(body,"focusin, focusout",function(evt){var node=evt.target;if(node._cssState&&!node.getAttribute("widgetId")){var _2b0=_29b.getEnclosingWidget(node);_2b0._subnodeCssMouseEvent(node,node._cssState,evt);}});});return _29c;});},"dijit/form/_FormWidgetMixin":function(){define("dijit/form/_FormWidgetMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/sniff","dojo/window","../a11y"],function(_2b1,_2b2,_2b3,_2b4,lang,_2b5,has,_2b6,a11y){return _2b2("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:false,intermediateChanges:false,scrollOnFocus:true,_setIdAttr:"focusNode",_setDisabledAttr:function(_2b7){this._set("disabled",_2b7);_2b3.set(this.focusNode,"disabled",_2b7);if(this.valueNode){_2b3.set(this.valueNode,"disabled",_2b7);}this.focusNode.setAttribute("aria-disabled",_2b7?"true":"false");if(_2b7){this._set("hovering",false);this._set("active",false);var _2b8="tabIndex" in this.attributeMap?this.attributeMap.tabIndex:("_setTabIndexAttr" in this)?this._setTabIndexAttr:"focusNode";_2b1.forEach(lang.isArray(_2b8)?_2b8:[_2b8],function(_2b9){var node=this[_2b9];if(has("webkit")||a11y.hasDefaultTabStop(node)){node.setAttribute("tabIndex","-1");}else{node.removeAttribute("tabIndex");}},this);}else{if(this.tabIndex!=""){this.set("tabIndex",this.tabIndex);}}},_onFocus:function(by){if(by=="mouse"&&this.isFocusable()){var _2ba=this.connect(this.focusNode,"onfocus",function(){this.disconnect(_2bb);this.disconnect(_2ba);});var _2bb=this.connect(this.ownerDocumentBody,"onmouseup",function(){this.disconnect(_2bb);this.disconnect(_2ba);if(this.focused){this.focus();}});}if(this.scrollOnFocus){this.defer(function(){_2b6.scrollIntoView(this.domNode);});}this.inherited(arguments);},isFocusable:function(){return !this.disabled&&this.focusNode&&(_2b4.get(this.domNode,"display")!="none");},focus:function(){if(!this.disabled&&this.focusNode.focus){try{this.focusNode.focus();}catch(e){}}},compare:function(val1,val2){if(typeof val1=="number"&&typeof val2=="number"){return (isNaN(val1)&&isNaN(val2))?0:val1-val2;}else{if(val1>val2){return 1;}else{if(val1<val2){return -1;}else{return 0;}}}},onChange:function(){},_onChangeActive:false,_handleOnChange:function(_2bc,_2bd){if(this._lastValueReported==undefined&&(_2bd===null||!this._onChangeActive)){this._resetValue=this._lastValueReported=_2bc;}this._pendingOnChange=this._pendingOnChange||(typeof _2bc!=typeof this._lastValueReported)||(this.compare(_2bc,this._lastValueReported)!=0);if((this.intermediateChanges||_2bd||_2bd===undefined)&&this._pendingOnChange){this._lastValueReported=_2bc;this._pendingOnChange=false;if(this._onChangeActive){if(this._onChangeHandle){this._onChangeHandle.remove();}this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(_2bc);});}}},create:function(){this.inherited(arguments);this._onChangeActive=true;},destroy:function(){if(this._onChangeHandle){this._onChangeHandle.remove();this.onChange(this._lastValueReported);}this.inherited(arguments);}});});},"dijit/form/_FormValueMixin":function(){define("dijit/form/_FormValueMixin",["dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/sniff","./_FormWidgetMixin"],function(_2be,_2bf,keys,has,_2c0){return _2be("dijit.form._FormValueMixin",_2c0,{readOnly:false,_setReadOnlyAttr:function(_2c1){_2bf.set(this.focusNode,"readOnly",_2c1);this._set("readOnly",_2c1);},postCreate:function(){this.inherited(arguments);if(has("ie")){this.connect(this.focusNode||this.domNode,"onkeydown",this._onKeyDown);}if(this._resetValue===undefined){this._lastValueReported=this._resetValue=this.value;}},_setValueAttr:function(_2c2,_2c3){this._handleOnChange(_2c2,_2c3);},_handleOnChange:function(_2c4,_2c5){this._set("value",_2c4);this.inherited(arguments);},undo:function(){this._setValueAttr(this._lastValueReported,false);},reset:function(){this._hasBeenBlurred=false;this._setValueAttr(this._resetValue,true);},_onKeyDown:function(e){if(e.keyCode==keys.ESCAPE&&!(e.ctrlKey||e.altKey||e.metaKey)){if(has("ie")<9||(has("ie")&&has("quirks"))){e.preventDefault();var node=e.srcElement,te=node.ownerDocument.createEventObject();te.keyCode=keys.ESCAPE;te.shiftKey=e.shiftKey;node.fireEvent("onkeypress",te);}}}});});},"dijit/form/_TextBoxMixin":function(){define("dijit/form/_TextBoxMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/_base/event","dojo/keys","dojo/_base/lang","dojo/on","../main"],function(_2c6,_2c7,dom,_2c8,keys,lang,on,_2c9){var _2ca=_2c7("dijit.form._TextBoxMixin",null,{trim:false,uppercase:false,lowercase:false,propercase:false,maxLength:"",selectOnClick:false,placeHolder:"",_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints);},_setValueAttr:function(_2cb,_2cc,_2cd){var _2ce;if(_2cb!==undefined){_2ce=this.filter(_2cb);if(typeof _2cd!="string"){if(_2ce!==null&&((typeof _2ce!="number")||!isNaN(_2ce))){_2cd=this.filter(this.format(_2ce,this.constraints));}else{_2cd="";}}}if(_2cd!=null&&((typeof _2cd)!="number"||!isNaN(_2cd))&&this.textbox.value!=_2cd){this.textbox.value=_2cd;this._set("displayedValue",this.get("displayedValue"));}if(this.textDir=="auto"){this.applyTextDir(this.focusNode,_2cd);}this.inherited(arguments,[_2ce,_2cc]);},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value);},_setDisplayedValueAttr:function(_2cf){if(_2cf==null){_2cf="";}else{if(typeof _2cf!="string"){_2cf=String(_2cf);}}this.textbox.value=_2cf;this._setValueAttr(this.get("value"),undefined);this._set("displayedValue",this.get("displayedValue"));if(this.textDir=="auto"){this.applyTextDir(this.focusNode,_2cf);}},format:function(_2d0){return _2d0==null?"":(_2d0.toString?_2d0.toString():_2d0);},parse:function(_2d1){return _2d1;},_refreshState:function(){},onInput:function(){},__skipInputEvent:false,_onInput:function(evt){if(this.textDir=="auto"){this.applyTextDir(this.focusNode,this.focusNode.value);}this._processInput(evt);},_processInput:function(evt){this._refreshState();this._set("displayedValue",this.get("displayedValue"));},postCreate:function(){this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);var _2d2=function(e){var _2d3;if(e.type=="keydown"){_2d3=e.keyCode;switch(_2d3){case keys.SHIFT:case keys.ALT:case keys.CTRL:case keys.META:case keys.CAPS_LOCK:case keys.NUM_LOCK:case keys.SCROLL_LOCK:return;}if(!e.ctrlKey&&!e.metaKey&&!e.altKey){switch(_2d3){case keys.NUMPAD_0:case keys.NUMPAD_1:case keys.NUMPAD_2:case keys.NUMPAD_3:case keys.NUMPAD_4:case keys.NUMPAD_5:case keys.NUMPAD_6:case keys.NUMPAD_7:case keys.NUMPAD_8:case keys.NUMPAD_9:case keys.NUMPAD_MULTIPLY:case keys.NUMPAD_PLUS:case keys.NUMPAD_ENTER:case keys.NUMPAD_MINUS:case keys.NUMPAD_PERIOD:case keys.NUMPAD_DIVIDE:return;}if((_2d3>=65&&_2d3<=90)||(_2d3>=48&&_2d3<=57)||_2d3==keys.SPACE){return;}var _2d4=false;for(var i in keys){if(keys[i]===e.keyCode){_2d4=true;break;}}if(!_2d4){return;}}}_2d3=e.charCode>=32?String.fromCharCode(e.charCode):e.charCode;if(!_2d3){_2d3=(e.keyCode>=65&&e.keyCode<=90)||(e.keyCode>=48&&e.keyCode<=57)||e.keyCode==keys.SPACE?String.fromCharCode(e.keyCode):e.keyCode;}if(!_2d3){_2d3=229;}if(e.type=="keypress"){if(typeof _2d3!="string"){return;}if((_2d3>="a"&&_2d3<="z")||(_2d3>="A"&&_2d3<="Z")||(_2d3>="0"&&_2d3<="9")||(_2d3===" ")){if(e.ctrlKey||e.metaKey||e.altKey){return;}}}if(e.type=="input"){if(this.__skipInputEvent){this.__skipInputEvent=false;return;}}else{this.__skipInputEvent=true;}var faux={faux:true},attr;for(attr in e){if(attr!="layerX"&&attr!="layerY"){var v=e[attr];if(typeof v!="function"&&typeof v!="undefined"){faux[attr]=v;}}}lang.mixin(faux,{charOrCode:_2d3,_wasConsumed:false,preventDefault:function(){faux._wasConsumed=true;e.preventDefault();},stopPropagation:function(){e.stopPropagation();}});if(this.onInput(faux)===false){faux.preventDefault();faux.stopPropagation();}if(faux._wasConsumed){return;}this.defer(function(){this._onInput(faux);});};this.own(on(this.textbox,"keydown, keypress, paste, cut, input, compositionend",lang.hitch(this,_2d2)));},_blankValue:"",filter:function(val){if(val===null){return this._blankValue;}if(typeof val!="string"){return val;}if(this.trim){val=lang.trim(val);}if(this.uppercase){val=val.toUpperCase();}if(this.lowercase){val=val.toLowerCase();}if(this.propercase){val=val.replace(/[^\s]+/g,function(word){return word.substring(0,1).toUpperCase()+word.substring(1);});}return val;},_setBlurValue:function(){this._setValueAttr(this.get("value"),true);},_onBlur:function(e){if(this.disabled){return;}this._setBlurValue();this.inherited(arguments);},_isTextSelected:function(){return this.textbox.selectionStart!=this.textbox.selectionEnd;},_onFocus:function(by){if(this.disabled||this.readOnly){return;}if(this.selectOnClick&&by=="mouse"){this._selectOnClickHandle=this.connect(this.domNode,"onmouseup",function(){this.disconnect(this._selectOnClickHandle);this._selectOnClickHandle=null;if(!this._isTextSelected()){_2ca.selectInputText(this.textbox);}});this.defer(function(){if(this._selectOnClickHandle){this.disconnect(this._selectOnClickHandle);this._selectOnClickHandle=null;}},500);}this.inherited(arguments);this._refreshState();},reset:function(){this.textbox.value="";this.inherited(arguments);},_setTextDirAttr:function(_2d5){if(!this._created||this.textDir!=_2d5){this._set("textDir",_2d5);this.applyTextDir(this.focusNode,this.focusNode.value);}}});_2ca._setSelectionRange=_2c9._setSelectionRange=function(_2d6,_2d7,stop){if(_2d6.setSelectionRange){_2d6.setSelectionRange(_2d7,stop);}};_2ca.selectInputText=_2c9.selectInputText=function(_2d8,_2d9,stop){_2d8=dom.byId(_2d8);if(isNaN(_2d9)){_2d9=0;}if(isNaN(stop)){stop=_2d8.value?_2d8.value.length:0;}try{_2d8.focus();_2ca._setSelectionRange(_2d8,_2d9,stop);}catch(e){}};return _2ca;});},"url:dijit/form/templates/TextBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\" id=\"widget_${id}\" role=\"presentation\"\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${!nameAttrSetting} type='${type}'\n\t/></div\n></div>\n","dojo/dnd/AutoSource":function(){define("dojo/dnd/AutoSource",["../_base/declare","./Source"],function(_2da,_2db){return _2da("dojo.dnd.AutoSource",_2db,{constructor:function(){this.autoSync=true;}});});},"dojo/dnd/Source":function(){define("dojo/dnd/Source",["../_base/array","../_base/connect","../_base/declare","../_base/kernel","../_base/lang","../dom-class","../dom-geometry","../mouse","../ready","../topic","./common","./Selector","./Manager"],function(_2dc,_2dd,_2de,_2df,lang,_2e0,_2e1,_2e2,_2e3,_2e4,dnd,_2e5,_2e6){if(!_2df.isAsync){_2e3(0,function(){var _2e7=["dojo/dnd/AutoSource","dojo/dnd/Target"];require(_2e7);});}var _2e8=_2de("dojo.dnd.Source",_2e5,{isSource:true,horizontal:false,copyOnly:false,selfCopy:false,selfAccept:true,skipForm:false,withHandles:false,autoSync:false,delay:0,accept:["text"],generateText:true,constructor:function(node,_2e9){lang.mixin(this,lang.mixin({},_2e9));var type=this.accept;if(type.length){this.accept={};for(var i=0;i<type.length;++i){this.accept[type[i]]=1;}}this.isDragging=false;this.mouseDown=false;this.targetAnchor=null;this.targetBox=null;this.before=true;this._lastX=0;this._lastY=0;this.sourceState="";if(this.isSource){_2e0.add(this.node,"dojoDndSource");}this.targetState="";if(this.accept){_2e0.add(this.node,"dojoDndTarget");}if(this.horizontal){_2e0.add(this.node,"dojoDndHorizontal");}this.topics=[_2e4.subscribe("/dnd/source/over",lang.hitch(this,"onDndSourceOver")),_2e4.subscribe("/dnd/start",lang.hitch(this,"onDndStart")),_2e4.subscribe("/dnd/drop",lang.hitch(this,"onDndDrop")),_2e4.subscribe("/dnd/cancel",lang.hitch(this,"onDndCancel"))];},checkAcceptance:function(_2ea,_2eb){if(this==_2ea){return !this.copyOnly||this.selfAccept;}for(var i=0;i<_2eb.length;++i){var type=_2ea.getItem(_2eb[i].id).type;var flag=false;for(var j=0;j<type.length;++j){if(type[j] in this.accept){flag=true;break;}}if(!flag){return false;}}return true;},copyState:function(_2ec,self){if(_2ec){return true;}if(arguments.length<2){self=this==_2e6.manager().target;}if(self){if(this.copyOnly){return this.selfCopy;}}else{return this.copyOnly;}return false;},destroy:function(){_2e8.superclass.destroy.call(this);_2dc.forEach(this.topics,function(t){t.remove();});this.targetAnchor=null;},onMouseMove:function(e){if(this.isDragging&&this.targetState=="Disabled"){return;}_2e8.superclass.onMouseMove.call(this,e);var m=_2e6.manager();if(!this.isDragging){if(this.mouseDown&&this.isSource&&(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay)){var _2ed=this.getSelectedNodes();if(_2ed.length){m.startDrag(this,_2ed,this.copyState(dnd.getCopyKeyState(e),true));}}}if(this.isDragging){var _2ee=false;if(this.current){if(!this.targetBox||this.targetAnchor!=this.current){this.targetBox=_2e1.position(this.current,true);}if(this.horizontal){_2ee=(e.pageX-this.targetBox.x<this.targetBox.w/2)==_2e1.isBodyLtr(this.current.ownerDocument);}else{_2ee=(e.pageY-this.targetBox.y)<(this.targetBox.h/2);}}if(this.current!=this.targetAnchor||_2ee!=this.before){this._markTargetAnchor(_2ee);m.canDrop(!this.current||m.source!=this||!(this.current.id in this.selection));}}},onMouseDown:function(e){if(!this.mouseDown&&this._legalMouseDown(e)&&(!this.skipForm||!dnd.isFormElement(e))){this.mouseDown=true;this._lastX=e.pageX;this._lastY=e.pageY;_2e8.superclass.onMouseDown.call(this,e);}},onMouseUp:function(e){if(this.mouseDown){this.mouseDown=false;_2e8.superclass.onMouseUp.call(this,e);}},onDndSourceOver:function(_2ef){if(this!==_2ef){this.mouseDown=false;if(this.targetAnchor){this._unmarkTargetAnchor();}}else{if(this.isDragging){var m=_2e6.manager();m.canDrop(this.targetState!="Disabled"&&(!this.current||m.source!=this||!(this.current.id in this.selection)));}}},onDndStart:function(_2f0,_2f1,copy){if(this.autoSync){this.sync();}if(this.isSource){this._changeState("Source",this==_2f0?(copy?"Copied":"Moved"):"");}var _2f2=this.accept&&this.checkAcceptance(_2f0,_2f1);this._changeState("Target",_2f2?"":"Disabled");if(this==_2f0){_2e6.manager().overSource(this);}this.isDragging=true;},onDndDrop:function(_2f3,_2f4,copy,_2f5){if(this==_2f5){this.onDrop(_2f3,_2f4,copy);}this.onDndCancel();},onDndCancel:function(){if(this.targetAnchor){this._unmarkTargetAnchor();this.targetAnchor=null;}this.before=true;this.isDragging=false;this.mouseDown=false;this._changeState("Source","");this._changeState("Target","");},onDrop:function(_2f6,_2f7,copy){if(this!=_2f6){this.onDropExternal(_2f6,_2f7,copy);}else{this.onDropInternal(_2f7,copy);}},onDropExternal:function(_2f8,_2f9,copy){var _2fa=this._normalizedCreator;if(this.creator){this._normalizedCreator=function(node,hint){return _2fa.call(this,_2f8.getItem(node.id).data,hint);};}else{if(copy){this._normalizedCreator=function(node){var t=_2f8.getItem(node.id);var n=node.cloneNode(true);n.id=dnd.getUniqueId();return {node:n,data:t.data,type:t.type};};}else{this._normalizedCreator=function(node){var t=_2f8.getItem(node.id);_2f8.delItem(node.id);return {node:node,data:t.data,type:t.type};};}}this.selectNone();if(!copy&&!this.creator){_2f8.selectNone();}this.insertNodes(true,_2f9,this.before,this.current);if(!copy&&this.creator){_2f8.deleteSelectedNodes();}this._normalizedCreator=_2fa;},onDropInternal:function(_2fb,copy){var _2fc=this._normalizedCreator;if(this.current&&this.current.id in this.selection){return;}if(copy){if(this.creator){this._normalizedCreator=function(node,hint){return _2fc.call(this,this.getItem(node.id).data,hint);};}else{this._normalizedCreator=function(node){var t=this.getItem(node.id);var n=node.cloneNode(true);n.id=dnd.getUniqueId();return {node:n,data:t.data,type:t.type};};}}else{if(!this.current){return;}this._normalizedCreator=function(node){var t=this.getItem(node.id);return {node:node,data:t.data,type:t.type};};}this._removeSelection();this.insertNodes(true,_2fb,this.before,this.current);this._normalizedCreator=_2fc;},onDraggingOver:function(){},onDraggingOut:function(){},onOverEvent:function(){_2e8.superclass.onOverEvent.call(this);_2e6.manager().overSource(this);if(this.isDragging&&this.targetState!="Disabled"){this.onDraggingOver();}},onOutEvent:function(){_2e8.superclass.onOutEvent.call(this);_2e6.manager().outSource(this);if(this.isDragging&&this.targetState!="Disabled"){this.onDraggingOut();}},_markTargetAnchor:function(_2fd){if(this.current==this.targetAnchor&&this.before==_2fd){return;}if(this.targetAnchor){this._removeItemClass(this.targetAnchor,this.before?"Before":"After");}this.targetAnchor=this.current;this.targetBox=null;this.before=_2fd;if(this.targetAnchor){this._addItemClass(this.targetAnchor,this.before?"Before":"After");}},_unmarkTargetAnchor:function(){if(!this.targetAnchor){return;}this._removeItemClass(this.targetAnchor,this.before?"Before":"After");this.targetAnchor=null;this.targetBox=null;this.before=true;},_markDndStatus:function(copy){this._changeState("Source",copy?"Copied":"Moved");},_legalMouseDown:function(e){if(e.type!="touchstart"&&!_2e2.isLeft(e)){return false;}if(!this.withHandles){return true;}for(var node=e.target;node&&node!==this.node;node=node.parentNode){if(_2e0.contains(node,"dojoDndHandle")){return true;}if(_2e0.contains(node,"dojoDndItem")||_2e0.contains(node,"dojoDndIgnore")){break;}}return false;}});return _2e8;});},"dojo/dnd/common":function(){define("dojo/dnd/common",["../_base/connect","../_base/kernel","../_base/lang","../dom"],function(_2fe,_2ff,lang,dom){var _300=lang.getObject("dojo.dnd",true);_300.getCopyKeyState=_2fe.isCopyKey;_300._uniqueId=0;_300.getUniqueId=function(){var id;do{id=_2ff._scopeName+"Unique"+(++_300._uniqueId);}while(dom.byId(id));return id;};_300._empty={};_300.isFormElement=function(e){var t=e.target;if(t.nodeType==3){t=t.parentNode;}return " button textarea input select option ".indexOf(" "+t.tagName.toLowerCase()+" ")>=0;};return _300;});},"dojo/dnd/Selector":function(){define("dojo/dnd/Selector",["../_base/array","../_base/declare","../_base/event","../_base/kernel","../_base/lang","../dom","../dom-construct","../mouse","../_base/NodeList","../on","../touch","./common","./Container"],function(_301,_302,_303,_304,lang,dom,_305,_306,_307,on,_308,dnd,_309){var _30a=_302("dojo.dnd.Selector",_309,{constructor:function(node,_30b){if(!_30b){_30b={};}this.singular=_30b.singular;this.autoSync=_30b.autoSync;this.selection={};this.anchor=null;this.simpleSelection=false;this.events.push(on(this.node,_308.press,lang.hitch(this,"onMouseDown")),on(this.node,_308.release,lang.hitch(this,"onMouseUp")));},singular:false,getSelectedNodes:function(){var t=new _307();var e=dnd._empty;for(var i in this.selection){if(i in e){continue;}t.push(dom.byId(i));}return t;},selectNone:function(){return this._removeSelection()._removeAnchor();},selectAll:function(){this.forInItems(function(data,id){this._addItemClass(dom.byId(id),"Selected");this.selection[id]=1;},this);return this._removeAnchor();},deleteSelectedNodes:function(){var e=dnd._empty;for(var i in this.selection){if(i in e){continue;}var n=dom.byId(i);this.delItem(i);_305.destroy(n);}this.anchor=null;this.selection={};return this;},forInSelectedItems:function(f,o){o=o||_304.global;var s=this.selection,e=dnd._empty;for(var i in s){if(i in e){continue;}f.call(o,this.getItem(i),i,this);}},sync:function(){_30a.superclass.sync.call(this);if(this.anchor){if(!this.getItem(this.anchor.id)){this.anchor=null;}}var t=[],e=dnd._empty;for(var i in this.selection){if(i in e){continue;}if(!this.getItem(i)){t.push(i);}}_301.forEach(t,function(i){delete this.selection[i];},this);return this;},insertNodes:function(_30c,data,_30d,_30e){var _30f=this._normalizedCreator;this._normalizedCreator=function(item,hint){var t=_30f.call(this,item,hint);if(_30c){if(!this.anchor){this.anchor=t.node;this._removeItemClass(t.node,"Selected");this._addItemClass(this.anchor,"Anchor");}else{if(this.anchor!=t.node){this._removeItemClass(t.node,"Anchor");this._addItemClass(t.node,"Selected");}}this.selection[t.node.id]=1;}else{this._removeItemClass(t.node,"Selected");this._removeItemClass(t.node,"Anchor");}return t;};_30a.superclass.insertNodes.call(this,data,_30d,_30e);this._normalizedCreator=_30f;return this;},destroy:function(){_30a.superclass.destroy.call(this);this.selection=this.anchor=null;},onMouseDown:function(e){if(this.autoSync){this.sync();}if(!this.current){return;}if(!this.singular&&!dnd.getCopyKeyState(e)&&!e.shiftKey&&(this.current.id in this.selection)){this.simpleSelection=true;if(_306.isLeft(e)){_303.stop(e);}return;}if(!this.singular&&e.shiftKey){if(!dnd.getCopyKeyState(e)){this._removeSelection();}var c=this.getAllNodes();if(c.length){if(!this.anchor){this.anchor=c[0];this._addItemClass(this.anchor,"Anchor");}this.selection[this.anchor.id]=1;if(this.anchor!=this.current){var i=0,node;for(;i<c.length;++i){node=c[i];if(node==this.anchor||node==this.current){break;}}for(++i;i<c.length;++i){node=c[i];if(node==this.anchor||node==this.current){break;}this._addItemClass(node,"Selected");this.selection[node.id]=1;}this._addItemClass(this.current,"Selected");this.selection[this.current.id]=1;}}}else{if(this.singular){if(this.anchor==this.current){if(dnd.getCopyKeyState(e)){this.selectNone();}}else{this.selectNone();this.anchor=this.current;this._addItemClass(this.anchor,"Anchor");this.selection[this.current.id]=1;}}else{if(dnd.getCopyKeyState(e)){if(this.anchor==this.current){delete this.selection[this.anchor.id];this._removeAnchor();}else{if(this.current.id in this.selection){this._removeItemClass(this.current,"Selected");delete this.selection[this.current.id];}else{if(this.anchor){this._removeItemClass(this.anchor,"Anchor");this._addItemClass(this.anchor,"Selected");}this.anchor=this.current;this._addItemClass(this.current,"Anchor");this.selection[this.current.id]=1;}}}else{if(!(this.current.id in this.selection)){this.selectNone();this.anchor=this.current;this._addItemClass(this.current,"Anchor");this.selection[this.current.id]=1;}}}}_303.stop(e);},onMouseUp:function(){if(!this.simpleSelection){return;}this.simpleSelection=false;this.selectNone();if(this.current){this.anchor=this.current;this._addItemClass(this.anchor,"Anchor");this.selection[this.current.id]=1;}},onMouseMove:function(){this.simpleSelection=false;},onOverEvent:function(){this.onmousemoveEvent=on(this.node,_308.move,lang.hitch(this,"onMouseMove"));},onOutEvent:function(){if(this.onmousemoveEvent){this.onmousemoveEvent.remove();delete this.onmousemoveEvent;}},_removeSelection:function(){var e=dnd._empty;for(var i in this.selection){if(i in e){continue;}var node=dom.byId(i);if(node){this._removeItemClass(node,"Selected");}}this.selection={};return this;},_removeAnchor:function(){if(this.anchor){this._removeItemClass(this.anchor,"Anchor");this.anchor=null;}return this;}});return _30a;});},"dojo/dnd/Container":function(){define("dojo/dnd/Container",["../_base/array","../_base/declare","../_base/event","../_base/kernel","../_base/lang","../_base/window","../dom","../dom-class","../dom-construct","../Evented","../has","../on","../query","../ready","../touch","./common"],function(_310,_311,_312,_313,lang,win,dom,_314,_315,_316,has,on,_317,_318,_319,dnd){var _31a=_311("dojo.dnd.Container",_316,{skipForm:false,allowNested:false,constructor:function(node,_31b){this.node=dom.byId(node);if(!_31b){_31b={};}this.creator=_31b.creator||null;this.skipForm=_31b.skipForm;this.parent=_31b.dropParent&&dom.byId(_31b.dropParent);this.map={};this.current=null;this.containerState="";_314.add(this.node,"dojoDndContainer");if(!(_31b&&_31b._skipStartup)){this.startup();}this.events=[on(this.node,_319.over,lang.hitch(this,"onMouseOver")),on(this.node,_319.out,lang.hitch(this,"onMouseOut")),on(this.node,"dragstart",lang.hitch(this,"onSelectStart")),on(this.node,"selectstart",lang.hitch(this,"onSelectStart"))];},creator:function(){},getItem:function(key){return this.map[key];},setItem:function(key,data){this.map[key]=data;},delItem:function(key){delete this.map[key];},forInItems:function(f,o){o=o||_313.global;var m=this.map,e=dnd._empty;for(var i in m){if(i in e){continue;}f.call(o,m[i],i,this);}return o;},clearItems:function(){this.map={};},getAllNodes:function(){return _317((this.allowNested?"":"> ")+".dojoDndItem",this.parent);},sync:function(){var map={};this.getAllNodes().forEach(function(node){if(node.id){var item=this.getItem(node.id);if(item){map[node.id]=item;return;}}else{node.id=dnd.getUniqueId();}var type=node.getAttribute("dndType"),data=node.getAttribute("dndData");map[node.id]={data:data||node.innerHTML,type:type?type.split(/\s*,\s*/):["text"]};},this);this.map=map;return this;},insertNodes:function(data,_31c,_31d){if(!this.parent.firstChild){_31d=null;}else{if(_31c){if(!_31d){_31d=this.parent.firstChild;}}else{if(_31d){_31d=_31d.nextSibling;}}}var i,t;if(_31d){for(i=0;i<data.length;++i){t=this._normalizedCreator(data[i]);this.setItem(t.node.id,{data:t.data,type:t.type});_31d.parentNode.insertBefore(t.node,_31d);}}else{for(i=0;i<data.length;++i){t=this._normalizedCreator(data[i]);this.setItem(t.node.id,{data:t.data,type:t.type});this.parent.appendChild(t.node);}}return this;},destroy:function(){_310.forEach(this.events,function(_31e){_31e.remove();});this.clearItems();this.node=this.parent=this.current=null;},markupFactory:function(_31f,node,Ctor){_31f._skipStartup=true;return new Ctor(node,_31f);},startup:function(){if(!this.parent){this.parent=this.node;if(this.parent.tagName.toLowerCase()=="table"){var c=this.parent.getElementsByTagName("tbody");if(c&&c.length){this.parent=c[0];}}}this.defaultCreator=dnd._defaultCreator(this.parent);this.sync();},onMouseOver:function(e){var n=e.relatedTarget;while(n){if(n==this.node){break;}try{n=n.parentNode;}catch(x){n=null;}}if(!n){this._changeState("Container","Over");this.onOverEvent();}n=this._getChildByEvent(e);if(this.current==n){return;}if(this.current){this._removeItemClass(this.current,"Over");}if(n){this._addItemClass(n,"Over");}this.current=n;},onMouseOut:function(e){for(var n=e.relatedTarget;n;){if(n==this.node){return;}try{n=n.parentNode;}catch(x){n=null;}}if(this.current){this._removeItemClass(this.current,"Over");this.current=null;}this._changeState("Container","");this.onOutEvent();},onSelectStart:function(e){if(!this.skipForm||!dnd.isFormElement(e)){_312.stop(e);}},onOverEvent:function(){},onOutEvent:function(){},_changeState:function(type,_320){var _321="dojoDnd"+type;var _322=type.toLowerCase()+"State";_314.replace(this.node,_321+_320,_321+this[_322]);this[_322]=_320;},_addItemClass:function(node,type){_314.add(node,"dojoDndItem"+type);},_removeItemClass:function(node,type){_314.remove(node,"dojoDndItem"+type);},_getChildByEvent:function(e){var node=e.target;if(node){for(var _323=node.parentNode;_323;node=_323,_323=node.parentNode){if((_323==this.parent||this.allowNested)&&_314.contains(node,"dojoDndItem")){return node;}}}return null;},_normalizedCreator:function(item,hint){var t=(this.creator||this.defaultCreator).call(this,item,hint);if(!lang.isArray(t.type)){t.type=["text"];}if(!t.node.id){t.node.id=dnd.getUniqueId();}_314.add(t.node,"dojoDndItem");return t;}});dnd._createNode=function(tag){if(!tag){return dnd._createSpan;}return function(text){return _315.create(tag,{innerHTML:text});};};dnd._createTrTd=function(text){var tr=_315.create("tr");_315.create("td",{innerHTML:text},tr);return tr;};dnd._createSpan=function(text){return _315.create("span",{innerHTML:text});};dnd._defaultCreatorNodes={ul:"li",ol:"li",div:"div",p:"div"};dnd._defaultCreator=function(node){var tag=node.tagName.toLowerCase();var c=tag=="tbody"||tag=="thead"?dnd._createTrTd:dnd._createNode(dnd._defaultCreatorNodes[tag]);return function(item,hint){var _324=item&&lang.isObject(item),data,type,n;if(_324&&item.tagName&&item.nodeType&&item.getAttribute){data=item.getAttribute("dndData")||item.innerHTML;type=item.getAttribute("dndType");type=type?type.split(/\s*,\s*/):["text"];n=item;}else{data=(_324&&item.data)?item.data:item;type=(_324&&item.type)?item.type:["text"];n=(hint=="avatar"?dnd._createSpan:c)(String(data));}if(!n.id){n.id=dnd.getUniqueId();}return {node:n,data:data,type:type};};};return _31a;});},"dojo/dnd/Manager":function(){define("dojo/dnd/Manager",["../_base/array","../_base/declare","../_base/event","../_base/lang","../_base/window","../dom-class","../Evented","../has","../keys","../on","../topic","../touch","./common","./autoscroll","./Avatar"],function(_325,_326,_327,lang,win,_328,_329,has,keys,on,_32a,_32b,dnd,_32c,_32d){var _32e=_326("dojo.dnd.Manager",[_329],{constructor:function(){this.avatar=null;this.source=null;this.nodes=[];this.copy=true;this.target=null;this.canDropFlag=false;this.events=[];},OFFSET_X:has("touch")?0:16,OFFSET_Y:has("touch")?-64:16,overSource:function(_32f){if(this.avatar){this.target=(_32f&&_32f.targetState!="Disabled")?_32f:null;this.canDropFlag=Boolean(this.target);this.avatar.update();}_32a.publish("/dnd/source/over",_32f);},outSource:function(_330){if(this.avatar){if(this.target==_330){this.target=null;this.canDropFlag=false;this.avatar.update();_32a.publish("/dnd/source/over",null);}}else{_32a.publish("/dnd/source/over",null);}},startDrag:function(_331,_332,copy){_32c.autoScrollStart(win.doc);this.source=_331;this.nodes=_332;this.copy=Boolean(copy);this.avatar=this.makeAvatar();win.body().appendChild(this.avatar.node);_32a.publish("/dnd/start",_331,_332,this.copy);this.events=[on(win.doc,_32b.move,lang.hitch(this,"onMouseMove")),on(win.doc,_32b.release,lang.hitch(this,"onMouseUp")),on(win.doc,"keydown",lang.hitch(this,"onKeyDown")),on(win.doc,"keyup",lang.hitch(this,"onKeyUp")),on(win.doc,"dragstart",_327.stop),on(win.body(),"selectstart",_327.stop)];var c="dojoDnd"+(copy?"Copy":"Move");_328.add(win.body(),c);},canDrop:function(flag){var _333=Boolean(this.target&&flag);if(this.canDropFlag!=_333){this.canDropFlag=_333;this.avatar.update();}},stopDrag:function(){_328.remove(win.body(),["dojoDndCopy","dojoDndMove"]);_325.forEach(this.events,function(_334){_334.remove();});this.events=[];this.avatar.destroy();this.avatar=null;this.source=this.target=null;this.nodes=[];},makeAvatar:function(){return new _32d(this);},updateAvatar:function(){this.avatar.update();},onMouseMove:function(e){var a=this.avatar;if(a){_32c.autoScrollNodes(e);var s=a.node.style;s.left=(e.pageX+this.OFFSET_X)+"px";s.top=(e.pageY+this.OFFSET_Y)+"px";var copy=Boolean(this.source.copyState(dnd.getCopyKeyState(e)));if(this.copy!=copy){this._setCopyStatus(copy);}}if(has("touch")){e.preventDefault();}},onMouseUp:function(e){if(this.avatar){if(this.target&&this.canDropFlag){var copy=Boolean(this.source.copyState(dnd.getCopyKeyState(e)));_32a.publish("/dnd/drop/before",this.source,this.nodes,copy,this.target,e);_32a.publish("/dnd/drop",this.source,this.nodes,copy,this.target,e);}else{_32a.publish("/dnd/cancel");}this.stopDrag();}},onKeyDown:function(e){if(this.avatar){switch(e.keyCode){case keys.CTRL:var copy=Boolean(this.source.copyState(true));if(this.copy!=copy){this._setCopyStatus(copy);}break;case keys.ESCAPE:_32a.publish("/dnd/cancel");this.stopDrag();break;}}},onKeyUp:function(e){if(this.avatar&&e.keyCode==keys.CTRL){var copy=Boolean(this.source.copyState(false));if(this.copy!=copy){this._setCopyStatus(copy);}}},_setCopyStatus:function(copy){this.copy=copy;this.source._markDndStatus(this.copy);this.updateAvatar();_328.replace(win.body(),"dojoDnd"+(this.copy?"Copy":"Move"),"dojoDnd"+(this.copy?"Move":"Copy"));}});dnd._manager=null;_32e.manager=dnd.manager=function(){if(!dnd._manager){dnd._manager=new _32e();}return dnd._manager;};return _32e;});},"dojo/dnd/autoscroll":function(){define("dojo/dnd/autoscroll",["../_base/lang","../sniff","../_base/window","../dom-geometry","../dom-style","../window"],function(lang,has,win,_335,_336,_337){var _338={};lang.setObject("dojo.dnd.autoscroll",_338);_338.getViewport=_337.getBox;_338.V_TRIGGER_AUTOSCROLL=32;_338.H_TRIGGER_AUTOSCROLL=32;_338.V_AUTOSCROLL_VALUE=16;_338.H_AUTOSCROLL_VALUE=16;var _339,doc=win.doc,_33a=Infinity,_33b=Infinity;_338.autoScrollStart=function(d){doc=d;_339=_337.getBox(doc);var html=win.body(doc).parentNode;_33a=Math.max(html.scrollHeight-_339.h,0);_33b=Math.max(html.scrollWidth-_339.w,0);};_338.autoScroll=function(e){var v=_339||_337.getBox(doc),html=win.body(doc).parentNode,dx=0,dy=0;if(e.clientX<_338.H_TRIGGER_AUTOSCROLL){dx=-_338.H_AUTOSCROLL_VALUE;}else{if(e.clientX>v.w-_338.H_TRIGGER_AUTOSCROLL){dx=Math.min(_338.H_AUTOSCROLL_VALUE,_33b-html.scrollLeft);}}if(e.clientY<_338.V_TRIGGER_AUTOSCROLL){dy=-_338.V_AUTOSCROLL_VALUE;}else{if(e.clientY>v.h-_338.V_TRIGGER_AUTOSCROLL){dy=Math.min(_338.V_AUTOSCROLL_VALUE,_33a-html.scrollTop);}}window.scrollBy(dx,dy);};_338._validNodes={"div":1,"p":1,"td":1};_338._validOverflow={"auto":1,"scroll":1};_338.autoScrollNodes=function(e){var b,t,w,h,rx,ry,dx=0,dy=0,_33c,_33d;for(var n=e.target;n;){if(n.nodeType==1&&(n.tagName.toLowerCase() in _338._validNodes)){var s=_336.getComputedStyle(n),_33e=(s.overflow.toLowerCase() in _338._validOverflow),_33f=(s.overflowX.toLowerCase() in _338._validOverflow),_340=(s.overflowY.toLowerCase() in _338._validOverflow);if(_33e||_33f||_340){b=_335.getContentBox(n,s);t=_335.position(n,true);}if(_33e||_33f){w=Math.min(_338.H_TRIGGER_AUTOSCROLL,b.w/2);rx=e.pageX-t.x;if(has("webkit")||has("opera")){rx+=win.body().scrollLeft;}dx=0;if(rx>0&&rx<b.w){if(rx<w){dx=-w;}else{if(rx>b.w-w){dx=w;}}_33c=n.scrollLeft;n.scrollLeft=n.scrollLeft+dx;}}if(_33e||_340){h=Math.min(_338.V_TRIGGER_AUTOSCROLL,b.h/2);ry=e.pageY-t.y;if(has("webkit")||has("opera")){ry+=win.body().scrollTop;}dy=0;if(ry>0&&ry<b.h){if(ry<h){dy=-h;}else{if(ry>b.h-h){dy=h;}}_33d=n.scrollTop;n.scrollTop=n.scrollTop+dy;}}if(dx||dy){return;}}try{n=n.parentNode;}catch(x){n=null;}}_338.autoScroll(e);};return _338;});},"dojo/dnd/Avatar":function(){define("dojo/dnd/Avatar",["../_base/declare","../_base/window","../dom","../dom-attr","../dom-class","../dom-construct","../hccss","../query"],function(_341,win,dom,_342,_343,_344,has,_345){return _341("dojo.dnd.Avatar",null,{constructor:function(_346){this.manager=_346;this.construct();},construct:function(){var a=_344.create("table",{"class":"dojoDndAvatar",style:{position:"absolute",zIndex:"1999",margin:"0px"}}),_347=this.manager.source,node,b=_344.create("tbody",null,a),tr=_344.create("tr",null,b),td=_344.create("td",null,tr),k=Math.min(5,this.manager.nodes.length),i=0;if(has("highcontrast")){_344.create("span",{id:"a11yIcon",innerHTML:this.manager.copy?"+":"<"},td);}_344.create("span",{innerHTML:_347.generateText?this._generateText():""},td);_342.set(tr,{"class":"dojoDndAvatarHeader",style:{opacity:0.9}});for(;i<k;++i){if(_347.creator){node=_347._normalizedCreator(_347.getItem(this.manager.nodes[i].id).data,"avatar").node;}else{node=this.manager.nodes[i].cloneNode(true);if(node.tagName.toLowerCase()=="tr"){var _348=_344.create("table"),_349=_344.create("tbody",null,_348);_349.appendChild(node);node=_348;}}node.id="";tr=_344.create("tr",null,b);td=_344.create("td",null,tr);td.appendChild(node);_342.set(tr,{"class":"dojoDndAvatarItem",style:{opacity:(9-i)/10}});}this.node=a;},destroy:function(){_344.destroy(this.node);this.node=false;},update:function(){_343.toggle(this.node,"dojoDndAvatarCanDrop",this.manager.canDropFlag);if(has("highcontrast")){var icon=dom.byId("a11yIcon");var text="+";if(this.manager.canDropFlag&&!this.manager.copy){text="< ";}else{if(!this.manager.canDropFlag&&!this.manager.copy){text="o";}else{if(!this.manager.canDropFlag){text="x";}}}icon.innerHTML=text;}_345(("tr.dojoDndAvatarHeader td span"+(has("highcontrast")?" span":"")),this.node).forEach(function(node){node.innerHTML=this.manager.source.generateText?this._generateText():"";},this);},_generateText:function(){return this.manager.nodes.length.toString();}});});},"dojo/dnd/Target":function(){define("dojo/dnd/Target",["../_base/declare","../dom-class","./Source"],function(_34a,_34b,_34c){return _34a("dojo.dnd.Target",_34c,{constructor:function(){this.isSource=false;_34b.remove(this.node,"dojoDndSource");}});});},"dojo/fx/Toggler":function(){define("dojo/fx/Toggler",["../_base/lang","../_base/declare","../_base/fx","../_base/connect"],function(lang,_34d,_34e,_34f){return _34d("dojo.fx.Toggler",null,{node:null,showFunc:_34e.fadeIn,hideFunc:_34e.fadeOut,showDuration:200,hideDuration:200,constructor:function(args){var _350=this;lang.mixin(_350,args);_350.node=args.node;_350._showArgs=lang.mixin({},args);_350._showArgs.node=_350.node;_350._showArgs.duration=_350.showDuration;_350.showAnim=_350.showFunc(_350._showArgs);_350._hideArgs=lang.mixin({},args);_350._hideArgs.node=_350.node;_350._hideArgs.duration=_350.hideDuration;_350.hideAnim=_350.hideFunc(_350._hideArgs);_34f.connect(_350.showAnim,"beforeBegin",lang.hitch(_350.hideAnim,"stop",true));_34f.connect(_350.hideAnim,"beforeBegin",lang.hitch(_350.showAnim,"stop",true));},show:function(_351){return this.showAnim.play(_351||0);},hide:function(_352){return this.hideAnim.play(_352||0);}});});},"dojox/form/Uploader":function(){require({cache:{"url:dojox/form/resources/Uploader.html":"<span class=\"dijit dijitReset dijitInline\"\n\t><span class=\"dijitReset dijitInline dijitButtonNode\"\n\t\tdojoAttachEvent=\"ondijitclick:_onClick\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdojoAttachPoint=\"titleNode,focusNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" dojoAttachPoint=\"iconNode\"></span\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t\tdojoAttachPoint=\"containerNode\"\n\t\t\t></span\n\t\t></span\n\t></span\n\t><!--no need to have this for Uploader \n\t<input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" tabIndex=\"-1\"\n\t\tdojoAttachPoint=\"valueNode\"\n/--></span>\n"}});define("dojox/form/Uploader",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/connect","dojo/_base/window","dojo/dom-style","dojo/dom-geometry","dojo/dom-attr","dojo/dom-construct","dojo/dom-form","dijit","dijit/form/Button","dojox/form/uploader/Base","dojo/i18n!./nls/Uploader","dojo/text!./resources/Uploader.html"],function(_353,_354,lang,_355,_356,win,_357,_358,_359,_35a,_35b,_35c,_35d,_35e,res,_35f){_353.experimental("dojox.form.Uploader");_354("dojox.form.Uploader",[_35e,_35d],{uploadOnSelect:false,tabIndex:0,multiple:false,label:res.label,url:"",name:"uploadedfile",flashFieldName:"",uploadType:"form",showInput:"",_nameIndex:0,templateString:_35f,baseClass:"dijitUploader "+_35d.prototype.baseClass,postMixInProperties:function(){this._inputs=[];this._cons=[];this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);_357.set(this.domNode,{overflow:"hidden",position:"relative"});this._buildDisplay();_359.set(this.titleNode,"tabIndex",-1);},_buildDisplay:function(){if(this.showInput){this.displayInput=dojo.create("input",{"class":"dijitUploadDisplayInput","tabIndex":-1,"autocomplete":"off"},this.containerNode,this.showInput);this._attachPoints.push("displayInput");this.connect(this,"onChange",function(_360){var i=0,l=_360.length,f,r=[];while((f=_360[i++])){if(f&&f.name){r.push(f.name);}}this.displayInput.value=r.join(", ");});this.connect(this,"reset",function(){this.displayInput.value="";});}},startup:function(){if(this._buildInitialized){return;}this._buildInitialized=true;this._getButtonStyle(this.domNode);this._setButtonStyle();this.inherited(arguments);},onChange:function(_361){},onBegin:function(_362){},onProgress:function(_363){},onComplete:function(_364){this.reset();},onCancel:function(){},onAbort:function(){},onError:function(_365){},upload:function(_366){},submit:function(form){form=!!form?form.tagName?form:this.getForm():this.getForm();var data=_35b.toObject(form);this.upload(data);},reset:function(){delete this._files;this._disconnectButton();_355.forEach(this._inputs,_35a.destroy,dojo);this._inputs=[];this._nameIndex=0;this._createInput();},getFileList:function(){var _367=[];if(this.supports("multiple")){_355.forEach(this._files,function(f,i){_367.push({index:i,name:f.name,size:f.size,type:f.type});},this);}else{_355.forEach(this._inputs,function(n,i){if(n.value){_367.push({index:i,name:n.value.substring(n.value.lastIndexOf("\\")+1),size:0,type:n.value.substring(n.value.lastIndexOf(".")+1)});}},this);}return _367;},_getValueAttr:function(){return this.getFileList();},_setValueAttr:function(_368){console.error("Uploader value is read only");},_setDisabledAttr:function(_369){if(this.disabled==_369||!this.inputNode){return;}this.inherited(arguments);_357.set(this.inputNode,"display",_369?"none":"");},_getButtonStyle:function(node){this.btnSize={w:_357.get(node,"width"),h:_357.get(node,"height")};},_setButtonStyle:function(){this.inputNodeFontSize=Math.max(2,Math.max(Math.ceil(this.btnSize.w/60),Math.ceil(this.btnSize.h/15)));this._createInput();},_getFileFieldName:function(){var name;if(this.multiple&&this.supports("multiple")){name=this.name+"s[]";}else{name=this.name+(this.multiple?this._nameIndex:"");}return name;},_createInput:function(){if(this._inputs.length){_357.set(this.inputNode,{top:"500px"});this._disconnectButton();this._nameIndex++;}var name=this._getFileFieldName();this.focusNode=this.inputNode=_35a.create("input",{type:"file",name:name},this.domNode,"first");if(this.supports("multiple")&&this.multiple){_359.set(this.inputNode,"multiple",true);}this._inputs.push(this.inputNode);_357.set(this.inputNode,{position:"absolute",fontSize:this.inputNodeFontSize+"em",top:"-3px",right:"-3px",opacity:0});this._connectButton();},_connectButton:function(){this._cons.push(_356.connect(this.inputNode,"change",this,function(evt){this._files=this.inputNode.files;this.onChange(this.getFileList(evt));if(!this.supports("multiple")&&this.multiple){this._createInput();}}));if(this.tabIndex>-1){this.inputNode.tabIndex=this.tabIndex;this._cons.push(_356.connect(this.inputNode,"focus",this,function(){this.titleNode.style.outline="1px dashed #ccc";}));this._cons.push(_356.connect(this.inputNode,"blur",this,function(){this.titleNode.style.outline="";}));}},_disconnectButton:function(){_355.forEach(this._cons,_356.disconnect);this._cons.splice(0,this._cons.length);}});dojox.form.UploaderOrg=dojox.form.Uploader;var _36a=[dojox.form.UploaderOrg];dojox.form.addUploaderPlugin=function(plug){_36a.push(plug);_354("dojox.form.Uploader",_36a,{});};return dojox.form.Uploader;});},"dijit/form/Button":function(){require({cache:{"url:dijit/form/templates/Button.html":"<span class=\"dijit dijitReset dijitInline\" role=\"presentation\"\n\t><span class=\"dijitReset dijitInline dijitButtonNode\"\n\t\tdata-dojo-attach-event=\"ondijitclick:_onClick\" role=\"presentation\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"titleNode,focusNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\"></span\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\n\t\t\t></span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\"\n\t\ttabIndex=\"-1\" role=\"presentation\" data-dojo-attach-point=\"valueNode\"\n/></span>\n"}});define("dijit/form/Button",["require","dojo/_base/declare","dojo/dom-class","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/ready","./_FormWidget","./_ButtonMixin","dojo/text!./templates/Button.html"],function(_36b,_36c,_36d,has,_36e,lang,_36f,_370,_371,_372){if(has("dijit-legacy-requires")){_36f(0,function(){var _373=["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"];_36b(_373);});}return _36c("dijit.form.Button",[_370,_371],{showLabel:true,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:_372,_setValueAttr:"valueNode",_onClick:function(e){var ok=this.inherited(arguments);if(ok){if(this.valueNode){this.valueNode.click();e.preventDefault();e.stopPropagation();}}return ok;},_fillContent:function(_374){if(_374&&(!this.params||!("label" in this.params))){var _375=lang.trim(_374.innerHTML);if(_375){this.label=_375;}}},_setShowLabelAttr:function(val){if(this.containerNode){_36d.toggle(this.containerNode,"dijitDisplayNone",!val);}this._set("showLabel",val);},setLabel:function(_376){_36e.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",_376);},_setLabelAttr:function(_377){this.inherited(arguments);if(!this.showLabel&&!("title" in this.params)){this.titleNode.title=lang.trim(this.containerNode.innerText||this.containerNode.textContent||"");}}});});},"dijit/form/_ButtonMixin":function(){define("dijit/form/_ButtonMixin",["dojo/_base/declare","dojo/dom","dojo/_base/event","../registry"],function(_378,dom,_379,_37a){return _378("dijit.form._ButtonMixin",null,{label:"",type:"button",_onClick:function(e){if(this.disabled){_379.stop(e);return false;}var _37b=this.onClick(e)===false;if(!_37b&&this.type=="submit"&&!(this.valueNode||this.focusNode).form){for(var node=this.domNode;node.parentNode;node=node.parentNode){var _37c=_37a.byNode(node);if(_37c&&typeof _37c._onSubmit=="function"){_37c._onSubmit(e);_37b=true;break;}}}if(_37b){e.preventDefault();}return !_37b;},postCreate:function(){this.inherited(arguments);dom.setSelectable(this.focusNode,false);},onClick:function(){return true;},_setLabelAttr:function(_37d){this._set("label",_37d);(this.containerNode||this.focusNode).innerHTML=_37d;}});});},"url:dijit/form/templates/Button.html":"<span class=\"dijit dijitReset dijitInline\" role=\"presentation\"\n\t><span class=\"dijitReset dijitInline dijitButtonNode\"\n\t\tdata-dojo-attach-event=\"ondijitclick:_onClick\" role=\"presentation\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"titleNode,focusNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\"></span\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\n\t\t\t></span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\"\n\t\ttabIndex=\"-1\" role=\"presentation\" data-dojo-attach-point=\"valueNode\"\n/></span>\n","dojox/form/uploader/Base":function(){define("dojox/form/uploader/Base",["dojo/dom-form","dojo/dom-style","dojo/dom-construct","dojo/dom-attr","dojo/has","dojo/_base/declare","dojo/_base/event","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin"],function(_37e,_37f,_380,_381,has,_382,_383,_384,_385,_386){has.add("FormData",function(){return !!window.FormData;});has.add("xhr-sendAsBinary",function(){var xhr=window.XMLHttpRequest&&new window.XMLHttpRequest();return xhr&&!!xhr.sendAsBinary;});has.add("file-multiple",function(){return !!({"true":1,"false":1}[_381.get(document.createElement("input",{type:"file"}),"multiple")]);});return _382("dojox.form.uploader.Base",[_384,_385,_386],{getForm:function(){if(!this.form){var n=this.domNode;while(n&&n.tagName&&n!==document.body){if(n.tagName.toLowerCase()=="form"){this.form=n;break;}n=n.parentNode;}}return this.form;},getUrl:function(){if(this.uploadUrl){this.url=this.uploadUrl;}if(this.url){return this.url;}if(this.getForm()){this.url=this.form.action;}return this.url;},connectForm:function(){this.url=this.getUrl();if(!this._fcon&&!!this.getForm()){this._fcon=true;this.connect(this.form,"onsubmit",function(evt){_383.stop(evt);this.submit(this.form);});}},supports:function(what){switch(what){case "multiple":if(this.force=="flash"||this.force=="iframe"){return false;}return has("file-multiple");case "FormData":return has(what);case "sendAsBinary":return has("xhr-sendAsBinary");}return false;},getMimeType:function(){return "application/octet-stream";},getFileType:function(name){return name.substring(name.lastIndexOf(".")+1).toUpperCase();},convertBytes:function(_387){var kb=Math.round(_387/1024*100000)/100000;var mb=Math.round(_387/1048576*100000)/100000;var gb=Math.round(_387/1073741824*100000)/100000;var _388=_387;if(kb>1){_388=kb.toFixed(1)+" kb";}if(mb>1){_388=mb.toFixed(1)+" mb";}if(gb>1){_388=gb.toFixed(1)+" gb";}return {kb:kb,mb:mb,gb:gb,bytes:_387,value:_388};}});});},"dijit/_WidgetsInTemplateMixin":function(){define("dijit/_WidgetsInTemplateMixin",["dojo/_base/array","dojo/_base/declare","dojo/parser"],function(_389,_38a,_38b){return _38a("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:false,widgetsInTemplate:true,_beforeFillContent:function(){if(this.widgetsInTemplate){var node=this.domNode;var cw=(this._startupWidgets=_38b.parse(node,{noStart:!this._earlyTemplatedStartup,template:true,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,scope:"dojo"}));if(!cw.isFulfilled()){throw new Error(this.declaredClass+": parser returned unfilled promise (probably waiting for module auto-load), "+"unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");}this._attachTemplateNodes(cw,function(n,p){return n[p];});}},startup:function(){_389.forEach(this._startupWidgets,function(w){if(w&&!w._started&&w.startup){w.startup();}});this.inherited(arguments);}});});},"url:dojox/form/resources/Uploader.html":"<span class=\"dijit dijitReset dijitInline\"\n\t><span class=\"dijitReset dijitInline dijitButtonNode\"\n\t\tdojoAttachEvent=\"ondijitclick:_onClick\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdojoAttachPoint=\"titleNode,focusNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" dojoAttachPoint=\"iconNode\"></span\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t\tdojoAttachPoint=\"containerNode\"\n\t\t\t></span\n\t\t></span\n\t></span\n\t><!--no need to have this for Uploader \n\t<input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" tabIndex=\"-1\"\n\t\tdojoAttachPoint=\"valueNode\"\n/--></span>\n","dojox/form/uploader/plugins/HTML5":function(){define("dojox/form/uploader/plugins/HTML5",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo"],function(_38c,lang,_38d,dojo){var _38e=_38c("dojox.form.uploader.plugins.HTML5",[],{errMsg:"Error uploading files. Try checking permissions",uploadType:"html5",postCreate:function(){this.connectForm();this.inherited(arguments);if(this.uploadOnSelect){this.connect(this,"onChange",function(data){this.upload(data[0]);});}},_drop:function(e){dojo.stopEvent(e);var dt=e.dataTransfer;this._files=dt.files;this.onChange(this.getFileList());},upload:function(_38f){this.onBegin(this.getFileList());if(this.supports("FormData")){this.uploadWithFormData(_38f);}else{if(this.supports("sendAsBinary")){this.sendAsBinary(_38f);}}},addDropTarget:function(node,_390){if(!_390){this.connect(node,"dragenter",dojo.stopEvent);this.connect(node,"dragover",dojo.stopEvent);this.connect(node,"dragleave",dojo.stopEvent);}this.connect(node,"drop","_drop");},sendAsBinary:function(data){if(!this.getUrl()){console.error("No upload url found.",this);return;}var _391="---------------------------"+(new Date).getTime();var xhr=this.createXhr();xhr.setRequestHeader("Content-Type","multipart/form-data; boundary="+_391);var msg=this._buildRequestBody(data,_391);if(!msg){this.onError(this.errMsg);}else{xhr.sendAsBinary(msg);}},uploadWithFormData:function(data){if(!this.getUrl()){console.error("No upload url found.",this);return;}var fd=new FormData(),_392=this._getFileFieldName();_38d.forEach(this._files,function(f,i){fd.append(_392,f);},this);if(data){for(var nm in data){fd.append(nm,data[nm]);}}var xhr=this.createXhr();xhr.send(fd);},_xhrProgress:function(evt){if(evt.lengthComputable){var o={bytesLoaded:evt.loaded,bytesTotal:evt.total,type:evt.type,timeStamp:evt.timeStamp};if(evt.type=="load"){o.percent="100%";o.decimal=1;}else{o.decimal=evt.loaded/evt.total;o.percent=Math.ceil((evt.loaded/evt.total)*100)+"%";}this.onProgress(o);}},createXhr:function(){var xhr=new XMLHttpRequest();var _393;xhr.upload.addEventListener("progress",lang.hitch(this,"_xhrProgress"),false);xhr.addEventListener("load",lang.hitch(this,"_xhrProgress"),false);xhr.addEventListener("error",lang.hitch(this,function(evt){this.onError(evt);clearInterval(_393);}),false);xhr.addEventListener("abort",lang.hitch(this,function(evt){this.onAbort(evt);clearInterval(_393);}),false);xhr.onreadystatechange=lang.hitch(this,function(){if(xhr.readyState===4){clearInterval(_393);this.onComplete(JSON.parse(xhr.responseText.replace(/^\{\}&&/,"")));}});xhr.open("POST",this.getUrl());_393=setInterval(lang.hitch(this,function(){try{if(typeof (xhr.statusText)){}}catch(e){clearInterval(_393);}}),250);return xhr;},_buildRequestBody:function(data,_394){var EOL="\r\n";var part="";_394="--"+_394;var _395=[],_396=this._files,_397=this._getFileFieldName();_38d.forEach(_396,function(f,i){var _398=f.fileName;var _399;try{_399=f.getAsBinary()+EOL;part+=_394+EOL;part+="Content-Disposition: form-data; ";part+="name=\""+_397+"\"; ";part+="filename=\""+_398+"\""+EOL;part+="Content-Type: "+this.getMimeType()+EOL+EOL;part+=_399;}catch(e){_395.push({index:i,name:_398});}},this);if(_395.length){if(_395.length>=_396.length){this.onError({message:this.errMsg,filesInError:_395});part=false;}}if(!part){return false;}if(data){for(var nm in data){part+=_394+EOL;part+="Content-Disposition: form-data; ";part+="name=\""+nm+"\""+EOL+EOL;part+=data[nm]+EOL;}}part+=_394+"--"+EOL;return part;}});dojox.form.addUploaderPlugin(_38e);return _38e;});},"epi/shell/component/IFrameContextComponent":function(){define(["dojo","dijit","epi/shell/widget/Iframe","epi/shell/_ContextMixin"],function(dojo,_39a,_39b,_39c){return dojo.declare([_39b,_39c],{reloadOnContextChange:true,keepUrlOnContextChange:false,postCreate:function(){dojo.when(this.getCurrentContext(),dojo.hitch(this,function(_39d){this.contextChanged(_39d);}));if(!this.reloadOnContextChange){this.load(this.get("urlTemplate"));}},_constructQuery:function(_39e){return {uri:_39e.uri,id:_39e.id||""};},contextChanged:function(_39f,_3a0){this.inherited(arguments);if(this.reloadOnContextChange){if(this.keepUrlOnContextChange){var url=this.get("url");if(url=="about:blank"){url=this.get("urlTemplate");}this.load(url,{query:this._constructQuery(_39f)},true);}else{this.load(this.get("urlTemplate"),{query:this._constructQuery(_39f)},true);}}}});});},"epi/shell/widget/Iframe":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom","dojo/dom-style","dojo/Deferred","dojo/io-query","dojo/on","dojo/sniff","dijit/_TemplatedMixin","dijit/_Widget","dijit/focus","epi","epi/Url","epi/shell/postMessage"],function(_3a1,lang,dom,_3a2,_3a3,_3a4,on,_3a5,_3a6,_3a7,_3a8,epi,Url,_3a9){return _3a1([_3a7,_3a6],{url:"about:blank",_triggeredExternally:false,templateString:"<iframe data-dojo-attach-point=\"iframe\" class=\"dijitReset\" src=\"${url}\" role=\"presentation\" frameborder=\"0\" style=\"width:100%;\"></iframe>",autoFit:false,visible:true,isLoading:false,_isInspectable:null,_loadDeferred:null,onLoading:function(url){this._set("isLoading",true);},onUnload:function(url){this._set("isLoading",true);},onLoad:function(url,_3aa){this._set("isLoading",false);},buildRendering:function(){this.inherited(arguments);dom.setSelectable(this.domNode,false);this.own(on(this.iframe,"load",lang.hitch(this,this._onIframeLoad)),_3a9.subscribe("/site/load",lang.hitch(this,function(_3ab){if(!this.isInspectable(true)){this._set("url",_3ab.url);this.onLoad(this.url,this._triggeredExternally);}})));},resize:function(size){if(this.autoFit){return;}if(size){_3a2.set(this.iframe,{width:size.w+"px",height:size.h+"px"});}},getDocument:function(){if(!this.isInspectable()){return null;}try{return this.iframe.contentWindow?this.iframe.contentWindow.document:null;}catch(ex){return null;}},getWindow:function(){return this.iframe.contentWindow;},_setVisibleAttr:function(_3ac){_3a2.set(this.domNode,"display",_3ac?"block":"none");},_onIframeLoad:function(_3ad){var url=null,_3ae,_3af;function _3b0(e){_3af.remove();this.set("_isInspectable",false);if(this._focusHandle){this._focusHandle.remove();this._focusHandle=null;}if(this._mousedownHandle){this._mousedownHandle.remove();this._mousedownHandle=null;}this.onUnload(this.url);};if(this.isInspectable(true)){url=this.getLocation().href;this._focusHandle=_3a8.registerIframe(this.iframe);this._mousedownHandle=this.connect(this.getDocument(),"onmousedown",function(){on.emit(this.domNode,"mousedown",{bubbles:true,cancelable:true});});_3ae=this.getWindow();_3af=on(_3ae,"unload",lang.hitch(this,_3b0));}this._set("url",url);if(url!=="about:blank"){if(this._loadDeferred){this._loadDeferred.resolve();this._loadDeferred=null;}this.onLoad(this.url,this._triggeredExternally);}this._triggeredExternally=false;if(this.autoFit){this._adjustSize(this._calculateActualSize());}},isInspectable:function(_3b1){if(!_3b1&&this._isInspectable!==null){return this._isInspectable;}try{return this._isInspectable=!!this.getLocation().href;}catch(ex){}return this._isInspectable=false;},load:function(url,_3b2,_3b3,_3b4){if(this._loadDeferred){this._loadDeferred.cancel();}var _3b5=new _3a3();if(!url){_3b5.cancel();return _3b5.promise;}var _3b6=new Url(this.url),_3b7=new Url(url,_3b2,_3b3);if(!_3b4&&_3b7.path===_3b6.path&&epi.areEqual(_3b7.query,_3b6.query)){_3b5.resolve();}else{this._loadDeferred=_3b5;this.set("url",_3b7.toString());}return _3b5.promise;},reload:function(){return this.load(this.get("url"),null,null,true);},getCurrentQuery:function(){return _3a4.queryToObject(this.getWindow().location.search.substring(1));},getLocation:function(){return this.getWindow().location;},_getUrlAttr:function(){return this.url;},_setUrlAttr:function(url){this._triggeredExternally=true;this.onLoading(url);if(this.iframe.contentWindow){this.iframe.contentWindow.location.replace(url);}else{this.iframe.src=url;}this._set("url",url);},_calculateActualSize:function(){var doc=this.getDocument();function _3b8(dir){if(doc&&doc.body&&doc.documentElement){return Math.max(doc.documentElement["client"+dir],doc.documentElement["scroll"+dir],doc.documentElement["offset"+dir],doc.body["scroll"+dir],doc.body["offset"+dir]);}return 0;};return {h:_3b8("Height"),w:_3b8("Width")};},_adjustSize:function(size){_3a2.set(this.iframe,"height",size.h+"px");_3a2.set(this.getWindow().document.body,"height","auto");}});});},"epi/Url":function(){define("epi/Url",["dojo","dojo/io-query"],function(dojo,_3b9){return dojo.declare(null,{scheme:null,authority:null,path:null,query:null,fragment:null,constructor:function(url,_3ba,_3bb){dojo.mixin(this,_3ba);if(url&&url!=""){this._extractParameters(url,_3bb);}},_extractParameters:function(url,_3bc){var ore=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$");var r=url.match(ore);if(!this.scheme){this.scheme=r[2]||(r[1]?"":null);}if(!this.authority){this.authority=r[4]||(r[3]?"":null);}if(!this.path){this.path=r[5];}var _3bd=r[7]||(r[6]?"":null);if(_3bd&&_3bd!==""){var _3be=_3b9.queryToObject(_3bd);if(_3bc){this.query=dojo.mixin(_3be,this.query);}else{if(!this.query){this.query=_3be;}}}else{if(!this.query){this.query={};}}if(!this.fragment){this.fragment=r[9]||(r[8]?"":null);}},getQueryParameterValue:function(_3bf){return this.query?this.query[_3bf]:null;},toString:function(){var url=[];if(this.scheme){url.push(this.scheme);if(this.scheme.lastIndexOf(":")!=this.scheme.length-1){url.push(":");}}if(this.authority){url.push("//",this.authority);}url.push(this.path);if(this.query){var _3c0=_3b9.objectToQuery(this.query);if(_3c0!==""){url.push("?",_3c0);}}if(this.fragment){url.push("#",this.fragment);}return url.join("");}});});},"epi/shell/postMessage":function(){define("epi/shell/postMessage",["dojo/Evented","dojo/on"],function(_3c1,on){var hub=new _3c1(),_3c2,_3c3,_3c4={setContext:function(ctx){_3c3=ctx;_3c5();},publish:function(_3c6,_3c7){var i=0,_3c8=_3c9().frames;for(;i<_3c8.length;i++){_3c8[i].postMessage({id:_3c6,data:_3c7},"*");}},subscribe:function(_3ca,_3cb){return hub.on.apply(hub,arguments);}};function _3c9(){return _3c3||window.top;};function _3c5(){_3c2&&_3c2.remove();_3c2=on(_3c9(),"message",function(evt){var data=evt.data;data&&data.id&&hub.emit.apply(hub,[data.id,data.message]);},false);};_3c5();return _3c4;});},"epi/shell/_ContextMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/Deferred","dojo/topic","dijit/Destroyable"],function(_3cc,lang,_3cd,_3ce,_3cf){return _3cc([_3cf],{_currentContext:null,_waitingForContext:null,constructor:function(_3d0){this.own(_3ce.subscribe("/epi/shell/context/changed",lang.hitch(this,this._contextChanged)),_3ce.subscribe("/epi/shell/context/updated",lang.hitch(this,function(ctx,_3d1){this._currentContext=ctx;this.contextUpdated(ctx,_3d1);})),_3ce.subscribe("/epi/shell/context/requestfailed",lang.hitch(this,"contextChangeFailed")));var _3d2=this.own(_3ce.subscribe("/epi/shell/context/current",lang.hitch(this,function(ctx,_3d3){if(this._currentContext||!_3d3||_3d3.sender!==this){return;}_3d2.remove();this._initialContextChanged(ctx,_3d3);})))[0];_3ce.publish("/epi/shell/context/requestcurrent",{sender:this});},getCurrentContext:function(){if(this._currentContext!=null){return this._currentContext;}if(!this._waitingForContext){this._waitingForContext=new _3cd();}return this._waitingForContext.promise;},contextChanged:function(ctx,_3d4){},contextUpdated:function(ctx,_3d5){},contextChangeFailed:function(ctx,_3d6){},_contextChanged:function(_3d7,_3d8){if(!this._currentContext){this._initialContextChanged(_3d7,_3d8);}this._currentContext=_3d7;this.contextChanged(_3d7,_3d8);},_initialContextChanged:function(_3d9,_3da){this._currentContext=_3d9;if(this._waitingForContext){this._waitingForContext.resolve(_3d9);delete this._waitingForContext;}}});});},"epi/shell/ContextService":function(){define("epi/shell/ContextService",["dojo","dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/DeferredList","dojo/topic","epi/dependency","epi/shell/widget/dialog/Confirmation","epi/UriParser","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.ContextService"],function(dojo,_3db,_3dc,lang,_3dd,_3de,_3df,_3e0,_3e1,res){return _3dc([],{currentContext:null,_contextStore:null,_listeners:[],_profile:null,_routes:{},res:res,_requestQueue:null,_requestInterceptors:null,constructor:function(_3e2,_3e3){this._contextStore=_3e2;if(_3e3===undefined){this._profile=_3df.resolve("epi.shell.Profile");}this._requestInterceptors=[];this._requestQueue=[];this._initialize();},destroy:function(){if(this._listeners){this._listeners.forEach(function(item){item.remove();},this);}},_initialize:function(){this._listeners.push(_3de.subscribe("/epi/shell/context/request",lang.hitch(this,this._handleContextChangeRequest)));this._listeners.push(_3de.subscribe("/epi/shell/context/updateRequest",lang.hitch(this,this._handleContextUpdateRequest)));this._listeners.push(_3de.subscribe("/epi/shell/context/requestcurrent",lang.hitch(this,this._handleRequestCurrentContext)));},registerRoute:function(_3e4,_3e5){this._routes[_3e4]=_3e5;},registerRequestInterceptor:function(_3e6){var _3e7=_3db.indexOf(this._requestInterceptors,_3e6);if(_3e7==-1){this._requestInterceptors.push(_3e6);}return {remove:lang.hitch(this,function(){this.unregisterRequestInterceptor(_3e6);})};},unregisterRequestInterceptor:function(_3e8){var _3e9=_3db.indexOf(this._requestInterceptors,_3e8);if(_3e9!=-1){this._requestInterceptors.splice(_3e8,1);return _3e8;}return null;},_handleContextChangeRequest:function(_3ea,_3eb){if(_3ea===null){this.currentContext={};this._publishContextChanged(this.currentContext);return;}if(this._requestInterceptors.length===0){this._loadNewContext(_3ea,_3eb,this._publishContextChanged);return;}var _3ec=_3db.map(this._requestInterceptors,function(item){return item(_3ea,_3eb);},this);var _3ed=new _3dd(_3ec);_3ed.then(lang.hitch(this,function(_3ee){var _3ef=!_3db.some(_3ee,function(_3f0){if(_3f0[0]===false){return true;}});if(_3ef){this._loadNewContext(_3ea,_3eb,this._publishContextChanged);}else{this._publishRequestFailed(_3ea,_3eb);}}));},_handleContextUpdateRequest:function(_3f1,_3f2){if(_3f1===null){return;}this._loadNewContext(_3f1,_3f2,this._publishContextUpdated);},_handleRequestCurrentContext:function(_3f3){if(this.currentContext){_3de.publish("/epi/shell/context/current",this.currentContext,_3f3);}},_loadNewContext:function(_3f4,_3f5,_3f6){var item={success:null,request:null,response:null,contextParameters:_3f4,callerData:_3f5,callback:_3f6};var _3f7=lang.hitch(this,function(_3f8){if(_3f8){item.response=_3f8;item.success=true;this._handleContextLoaded();}else{_3f9(_3f8);}});var _3f9=lang.hitch(this,function(_3fa){item.response=_3fa;item.success=false;this._handleContextLoaded();});if(this._profile&&!this._profile.get("view_publicsite")){_3f4.epiworkspaceactive=true;}this._requestQueue.push(item);var _3fb=this._getContextStore();var rq=_3fb.query(_3f4);rq.then(_3f7,_3f9);item.request=rq;},_handleContextLoaded:function(){var item=(this._requestQueue.length>0)?this._requestQueue[0]:null;while(item&&item.success!=null){this._requestQueue.shift();var _3fc=item.callback;var _3fd=item.response;var _3fe=item.contextParameters;var _3ff=item.callerData;var _400=item.success;var _401=item.request;if(_400){var uri=new _3e1(_3fd.uri);_3fd.type=uri.getType();_3fd.id=uri.getId();this.currentContext=item.response;if(this._routes&&this._routes[_3fd.type]){this._routes[_3fd.type](this.currentContext,_3ff,uri);}if(_3fc){_3fc(_3fd,_3ff,_401);}}else{if(_3ff&&!_3ff.suppressFailure){this._contextLoadFailed(_3fd,_3fe,_3ff);}}item=(this._requestQueue.length>0)?this._requestQueue[0]:null;}},_contextLoadFailed:function(_402,_403,_404){var _405=lang.hitch(this,function(_406){if(_406){this._loadNewContext(_403,_404,this._publishContextChanged);}else{this._publishRequestFailed(_403,_404,_403);}});var _407=this.res.errors.couldnotloadcontext.description,_408=this.res.errors.couldnotloadcontext["descriptioncontent"+_402.status],_409=this.res.errors.couldnotloadcontext["description"+_402.status];if(_408&&_404.sender&&_404.sender.requestedContent){var _40a=_404.sender.requestedContent;_407=lang.replace(_408,[_40a.typeName,_40a.name]);}else{if(_409){_407=lang.replace(_409,[_403.uri||_403.url]);}}var _40b=new _3e0({title:this.res.errors.couldnotloadcontext.title,description:_407,confirmActionText:this.res.errors.couldnotloadcontext.retry,cancelActionText:epi.resources.action.ignore,onAction:_405,destroyOnHide:true});_40b.show();},_getContextStore:function(){if(!this._contextStore){var _40c=_3df.resolve("epi.storeregistry");this._contextStore=_40c.get("epi.shell.context");}return this._contextStore;},_publishContextChanged:function(_40d,_40e,_40f){_3de.publish("/epi/shell/context/changed",_40d,_40e,_40f);},_publishContextUpdated:function(_410,_411,_412){_3de.publish("/epi/shell/context/updated",_410,_411,_412);},_publishRequestFailed:function(_413,_414){_3de.publish("/epi/shell/context/requestfailed",this.currentContext,_413,_414);}});});},"dojo/DeferredList":function(){define("dojo/DeferredList",["./_base/kernel","./_base/Deferred","./_base/array"],function(dojo,_415,_416){dojo.DeferredList=function(list,_417,_418,_419,_41a){var _41b=[];_415.call(this);var self=this;if(list.length===0&&!_417){this.resolve([0,[]]);}var _41c=0;_416.forEach(list,function(item,i){item.then(function(_41d){if(_417){self.resolve([i,_41d]);}else{_41e(true,_41d);}},function(_41f){if(_418){self.reject(_41f);}else{_41e(false,_41f);}if(_419){return null;}throw _41f;});function _41e(_420,_421){_41b[i]=[_420,_421];_41c++;if(_41c===list.length){self.resolve(_41b);}};});};dojo.DeferredList.prototype=new _415();dojo.DeferredList.prototype.gatherResults=function(_422){var d=new dojo.DeferredList(_422,false,true,false);d.addCallback(function(_423){var ret=[];_416.forEach(_423,function(_424){ret.push(_424[1]);});return ret;});return d;};return dojo.DeferredList;});},"epi/shell/widget/dialog/Confirmation":function(){define(["dojo/_base/declare","dojo/_base/lang","epi/shell/widget/dialog/Dialog"],function(_425,lang,_426){return _425([_426],{confirmActionText:epi.resources.action.yes,cancelActionText:epi.resources.action.no,closeIconVisible:false,dialogClass:"epi-dialog-confirm",getActions:function(){var _427={name:this._okButtonName,label:this.confirmActionText,title:null,action:lang.hitch(this,this._onConfirm)},_428={name:this._cancelButtonName,label:this.cancelActionText,title:null,action:lang.hitch(this,this._onCancel)};if(this.setFocusOnConfirmButton){_427.settings={"class":"Salt"};}return [_427,_428];},_onConfirm:function(){this.hide();this.onAction(true);},_onCancel:function(){this.hide();this.onAction(false);},onAction:function(){}});});},"epi/shell/widget/dialog/Dialog":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/dom-class","dojo/dom-style","dojo/promise/all","epi","epi/shell/widget/dialog/_DialogBase","epi/shell/widget/_ActionConsumerWidget","epi/shell/widget/Toolbar","epi/shell/widget/ToolbarSet"],function(_429,_42a,lang,_42b,_42c,_42d,epi,_42e,_42f,_430,_431){return _42a([_42e,_42f],{confirmActionText:epi.resources.action.ok,cancelActionText:epi.resources.action.cancel,contentClass:"",dialogClass:"epi-dialog-landscape",defaultActionsVisible:true,setFocusOnConfirmButton:true,destroyOnHide:false,_preferredHeight:0,_validators:null,_okButtonName:"ok",_cancelButtonName:"cancel",postMixInProperties:function(){this.inherited(arguments);this._validators=[];if(this.content&&this.content.onSubmit){this.connect(this.content,"onSubmit",this._onSubmit);}},postCreate:function(){this.inherited(arguments);this.set("definitionConsumer",new _431({baseClass:"dijitDialogPaneActionBar",layoutContainerClass:_430},this.actionContainerNode));},_size:function(){_42c.set(this.containerNode,{minHeight:this.get("_preferredHeight")+"px"});this.inherited(arguments);_42c.set(this.containerNode,{minHeight:""});_429.forEach(["height","width"],function(prop){if(this[prop]==="auto"){this[prop]="";}},this.containerNode.style);},addValidator:function(_432){this._validators.push(_432);},getActions:function(){var _433=this.inherited(arguments);if(this.defaultActionsVisible){var _434={name:this._okButtonName,label:this.confirmActionText,title:null,settings:{type:"submit"}},_435={name:this._cancelButtonName,label:this.cancelActionText,title:null,action:lang.hitch(this,this._onCancel)};if(this.setFocusOnConfirmButton){_434.settings["class"]="Salt";}else{_435.settings={"class":"Salt",firstFocusable:true};}_433.push(_434,_435);}return _433;},_onCancel:function(){this.onCancel();},_onSubmit:function(){if(!this.validate()){return;}if(this._validators.length===0){this.inherited(arguments);return;}var _436=_429.map(this._validators,function(item){return item();});var _437=arguments;var _438=new _42d(_436);_438.then(lang.hitch(this,function(_439){if(_429.some(_439,function(_43a){return !_43a[0];})){return;}this.inherited(_437);}));},_setContentClassAttr:function(_43b){_42b.remove(this.containerNode,this.contentClass);this._set("contentClass",_43b);_42b.add(this.containerNode,this.contentClass);},_get_preferredHeightAttr:function(){if(!!this.dialogClass&&this._preferredHeight<25){this._preferredHeight=_42c.get(this.containerNode,"height");}return this._preferredHeight;}});});},"epi/shell/widget/dialog/_DialogBase":function(){define(["epi","dojo","dojo/_base/array","dojo/dom-class","dojo/dom-style","dojo/query","dojo/text!./templates/Dialog.html","dojo/when","dijit/a11y","dijit/focus","dijit/Dialog","epi/shell/widget/dialog/_DialogMixin","epi/shell/widget/_FocusableMixin"],function(epi,dojo,_43c,_43d,_43e,_43f,_440,when,a11y,_441,_442,_443,_444){return dojo.declare([_442,_443,_444],{templateString:_440,heading:"",description:"",dialogClass:"",iconClass:"dijitNoIcon",destroyOnHide:true,focusActionsOnLoad:false,postMixInProperties:function(){this.inherited(arguments);this.resources=epi.resources.action;},buildRendering:function(){this.inherited(arguments);if(this.dialogClass){_43d.add(this.domNode,this.dialogClass);}this.set("closeIconVisible",this.closeIconVisible);this.set("iconClass",this.iconClass);this.set("heading",this.heading);this.set("description",this.description);},postCreate:function(){this.inherited(arguments);if(this.content&&this.content.executeDialog){this.connect(this.content,"executeDialog","onExecute");}if(this.content&&this.content.cancelDialog){this.connect(this.content,"cancelDialog","onCancel");}},hide:function(){var _445=dojo.hitch(this,function(){if(this.destroyOnHide){this.destroyRecursive();}});return when(this.inherited(arguments),_445);},_getFocusItems:function(){var node=this.focusActionsOnLoad?this.actionContainerNode:this.contentContainerNode,_446=a11y._getTabNavigable(node);this.focusActionsOnLoad=false;this._firstFocusItem=_446.lowest||_446.first||this.closeButtonNode||this.domNode;this._lastFocusItem=_446.last||_446.highest||this._firstFocusItem;},_setDialogContentNode:function(_447,_448){_447.innerHTML=_448;_43e.set(_447,"display",_448?"":"none");var _449=_43f("div",this.contentContainerNode);_449.removeClass("epi-firstVisible");_43c.some(_449,function(_44a){if(_43e.get(_44a,"display")!=="none"){_43d.add(_44a,"epi-firstVisible");return true;}});},_setHeadingAttr:function(_44b){this._setDialogContentNode(this.headingNode,_44b);},_setDescriptionAttr:function(_44c){this._setDialogContentNode(this.descriptionNode,_44c);},_setIconClassAttr:function(_44d){_43d.remove(this.iconNode,this.iconClass);this._set("iconClass",_44d);_43d.add(this.iconNode,this.iconClass);}});});},"url:epi/shell/widget/dialog/templates/Dialog.html":"<div class=\"dijitDialog\" role=\"dialog\" aria-labelledby=\"${id}_title\">\r\n    <div data-dojo-attach-point=\"titleBar\" class=\"dijitDialogTitleBar\">\r\n        <span data-dojo-attach-point=\"titleNode\" class=\"dijitDialogTitle\" id=\"${id}_title\"></span>\r\n        <span data-dojo-attach-point=\"closeButtonNode\" class=\"dijitDialogCloseIcon\" data-dojo-attach-event=\"ondijitclick: onCancel\" title=\"${resources.close}\" role=\"button\" tabIndex=\"-1\">\r\n            <span data-dojo-attach-point=\"closeText\" class=\"closeText\" title=\"${resources.cancel}\">x</span>\r\n        </span>\r\n    </div>\r\n    <div data-dojo-attach-point=\"contentContainerNode\" class=\"epi-dialogPaneContent\">\r\n        <span data-dojo-attach-point=\"iconNode\" class=\"dijitIcon dijitInline epi-dialogIcon\"></span>\r\n        <div data-dojo-attach-point=\"headingNode\" class=\"epi-dialogDescriptionHeader\"></div>\r\n        <div data-dojo-attach-point=\"descriptionNode\" class=\"epi-dialogDescriptionSummary\"></div>\r\n        <div data-dojo-attach-point=\"containerNode\" class=\"dijitDialogPaneContentArea\"></div>\r\n        <div data-dojo-attach-point=\"actionContainerNode\" class=\"dijitDialogPaneActionBar\"></div>\r\n    </div>\r\n</div>","dijit/Dialog":function(){require({cache:{"url:dijit/templates/Dialog.html":"<div class=\"dijitDialog\" role=\"dialog\" aria-labelledby=\"${id}_title\">\n\t<div data-dojo-attach-point=\"titleBar\" class=\"dijitDialogTitleBar\">\n\t\t<span data-dojo-attach-point=\"titleNode\" class=\"dijitDialogTitle\" id=\"${id}_title\"\n\t\t\t\trole=\"heading\" level=\"1\"></span>\n\t\t<span data-dojo-attach-point=\"closeButtonNode\" class=\"dijitDialogCloseIcon\" data-dojo-attach-event=\"ondijitclick: onCancel\" title=\"${buttonCancel}\" role=\"button\" tabIndex=\"-1\">\n\t\t\t<span data-dojo-attach-point=\"closeText\" class=\"closeText\" title=\"${buttonCancel}\">x</span>\n\t\t</span>\n\t</div>\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitDialogPaneContent\"></div>\n</div>\n"}});define("dijit/Dialog",["require","dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/event","dojo/_base/fx","dojo/i18n","dojo/keys","dojo/_base/lang","dojo/on","dojo/ready","dojo/sniff","dojo/window","dojo/dnd/Moveable","dojo/dnd/TimedMoveable","./focus","./_base/manager","./_Widget","./_TemplatedMixin","./_CssStateMixin","./form/_FormMixin","./_DialogMixin","./DialogUnderlay","./layout/ContentPane","dojo/text!./templates/Dialog.html","./main","dojo/i18n!./nls/common"],function(_44e,_44f,_450,_451,_452,dom,_453,_454,_455,_456,fx,i18n,keys,lang,on,_457,has,_458,_459,_45a,_45b,_45c,_45d,_45e,_45f,_460,_461,_462,_463,_464,_465){var _466=_451("dijit._DialogBase",[_45e,_460,_461,_45f],{templateString:_464,baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},_setTitleAttr:[{node:"titleNode",type:"innerHTML"},{node:"titleBar",type:"attribute"}],open:false,duration:_45c.defaultDuration,refocus:true,autofocus:true,_firstFocusItem:null,_lastFocusItem:null,doLayout:false,draggable:true,_setDraggableAttr:function(val){this._set("draggable",val);},"aria-describedby":"",maxRatio:0.9,postMixInProperties:function(){var _467=i18n.getLocalization("dijit","common");lang.mixin(this,_467);this.inherited(arguments);},postCreate:function(){_455.set(this.domNode,{display:"none",position:"absolute"});this.ownerDocumentBody.appendChild(this.domNode);this.inherited(arguments);this.connect(this,"onExecute","hide");this.connect(this,"onCancel","hide");this._modalconnects=[];},onLoad:function(){this._position();if(this.autofocus&&_468.isTop(this)){this._getFocusItems(this.domNode);_45b.focus(this._firstFocusItem);}this.inherited(arguments);},_onBlur:function(by){this.inherited(arguments);var _469=lang.hitch(this,function(){if(this.open&&!this._destroyed&&_468.isTop(this)){this._getFocusItems(this.domNode);_45b.focus(this._firstFocusItem);}});if(by=="mouse"){on.once(this.ownerDocument,"mouseup",_469);}else{_469();}},_endDrag:function(){var _46a=_454.position(this.domNode),_46b=_458.getBox(this.ownerDocument);_46a.y=Math.min(Math.max(_46a.y,0),(_46b.h-_46a.h));_46a.x=Math.min(Math.max(_46a.x,0),(_46b.w-_46a.w));this._relativePosition=_46a;this._position();},_setup:function(){var node=this.domNode;if(this.titleBar&&this.draggable){this._moveable=new ((has("ie")==6)?_45a:_459)(node,{handle:this.titleBar});this.connect(this._moveable,"onMoveStop","_endDrag");}else{_453.add(node,"dijitDialogFixed");}this.underlayAttrs={dialogId:this.id,"class":_44f.map(this["class"].split(/\s/),function(s){return s+"_underlay";}).join(" "),ownerDocument:this.ownerDocument};},_size:function(){this._checkIfSingleChild();if(this._singleChild){if(typeof this._singleChildOriginalStyle!="undefined"){this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle;delete this._singleChildOriginalStyle;}}else{_455.set(this.containerNode,{width:"auto",height:"auto"});}var bb=_454.position(this.domNode);var _46c=_458.getBox(this.ownerDocument);_46c.w*=this.maxRatio;_46c.h*=this.maxRatio;if(bb.w>=_46c.w||bb.h>=_46c.h){var _46d=_454.position(this.containerNode),w=Math.min(bb.w,_46c.w)-(bb.w-_46d.w),h=Math.min(bb.h,_46c.h)-(bb.h-_46d.h);if(this._singleChild&&this._singleChild.resize){if(typeof this._singleChildOriginalStyle=="undefined"){this._singleChildOriginalStyle=this._singleChild.domNode.style.cssText;}this._singleChild.resize({w:w,h:h});}else{_455.set(this.containerNode,{width:w+"px",height:h+"px",overflow:"auto",position:"relative"});}}else{if(this._singleChild&&this._singleChild.resize){this._singleChild.resize();}}},_position:function(){if(!_453.contains(this.ownerDocumentBody,"dojoMove")){var node=this.domNode,_46e=_458.getBox(this.ownerDocument),p=this._relativePosition,bb=p?null:_454.position(node),l=Math.floor(_46e.l+(p?p.x:(_46e.w-bb.w)/2)),t=Math.floor(_46e.t+(p?p.y:(_46e.h-bb.h)/2));_455.set(node,{left:l+"px",top:t+"px"});}},_onKey:function(evt){if(evt.charOrCode){var node=evt.target;if(evt.charOrCode===keys.TAB){this._getFocusItems(this.domNode);}var _46f=(this._firstFocusItem==this._lastFocusItem);if(node==this._firstFocusItem&&evt.shiftKey&&evt.charOrCode===keys.TAB){if(!_46f){_45b.focus(this._lastFocusItem);}_456.stop(evt);}else{if(node==this._lastFocusItem&&evt.charOrCode===keys.TAB&&!evt.shiftKey){if(!_46f){_45b.focus(this._firstFocusItem);}_456.stop(evt);}else{while(node){if(node==this.domNode||_453.contains(node,"dijitPopup")){if(evt.charOrCode==keys.ESCAPE){this.onCancel();}else{return;}}node=node.parentNode;}if(evt.charOrCode!==keys.TAB){_456.stop(evt);}else{if(!has("opera")){try{this._firstFocusItem.focus();}catch(e){}}}}}}},show:function(){if(this.open){return;}if(!this._started){this.startup();}if(!this._alreadyInitialized){this._setup();this._alreadyInitialized=true;}if(this._fadeOutDeferred){this._fadeOutDeferred.cancel();}var win=_458.get(this.ownerDocument);this._modalconnects.push(on(win,"scroll",lang.hitch(this,"resize")));this._modalconnects.push(on(this.domNode,_450._keypress,lang.hitch(this,"_onKey")));_455.set(this.domNode,{opacity:0,display:""});this._set("open",true);this._onShow();this._size();this._position();var _470;this._fadeInDeferred=new _452(lang.hitch(this,function(){_470.stop();delete this._fadeInDeferred;}));_470=fx.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:lang.hitch(this,function(){_468.show(this,this.underlayAttrs);}),onEnd:lang.hitch(this,function(){if(this.autofocus&&_468.isTop(this)){this._getFocusItems(this.domNode);_45b.focus(this._firstFocusItem);}this._fadeInDeferred.resolve(true);delete this._fadeInDeferred;})}).play();return this._fadeInDeferred;},hide:function(){if(!this._alreadyInitialized||!this.open){return;}if(this._fadeInDeferred){this._fadeInDeferred.cancel();}var _471;this._fadeOutDeferred=new _452(lang.hitch(this,function(){_471.stop();delete this._fadeOutDeferred;}));this._fadeOutDeferred.then(lang.hitch(this,"onHide"));_471=fx.fadeOut({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,function(){this.domNode.style.display="none";_468.hide(this);this._fadeOutDeferred.resolve(true);delete this._fadeOutDeferred;})}).play();if(this._scrollConnected){this._scrollConnected=false;}var h;while(h=this._modalconnects.pop()){h.remove();}if(this._relativePosition){delete this._relativePosition;}this._set("open",false);return this._fadeOutDeferred;},resize:function(){if(this.domNode.style.display!="none"){if(_462._singleton){_462._singleton.layout();}this._position();this._size();}},destroy:function(){if(this._fadeInDeferred){this._fadeInDeferred.cancel();}if(this._fadeOutDeferred){this._fadeOutDeferred.cancel();}if(this._moveable){this._moveable.destroy();}var h;while(h=this._modalconnects.pop()){h.remove();}_468.hide(this);this.inherited(arguments);}});var _472=_451("dijit.Dialog",[_463,_466],{});_472._DialogBase=_466;var _468=_472._DialogLevelManager={_beginZIndex:950,show:function(_473,_474){ds[ds.length-1].focus=_45b.curNode;var _475=_462._singleton;if(!_475||_475._destroyed){_475=_465._underlay=_462._singleton=new _462(_474);}else{_475.set(_473.underlayAttrs);}var _476=ds[ds.length-1].dialog?ds[ds.length-1].zIndex+2:_472._DialogLevelManager._beginZIndex;if(ds.length==1){_475.show();}_455.set(_462._singleton.domNode,"zIndex",_476-1);_455.set(_473.domNode,"zIndex",_476);ds.push({dialog:_473,underlayAttrs:_474,zIndex:_476});},hide:function(_477){if(ds[ds.length-1].dialog==_477){ds.pop();var pd=ds[ds.length-1];if(!_462._singleton._destroyed){if(ds.length==1){_462._singleton.hide();}else{_455.set(_462._singleton.domNode,"zIndex",pd.zIndex-1);_462._singleton.set(pd.underlayAttrs);}}if(_477.refocus){var _478=pd.focus;if(pd.dialog&&(!_478||!dom.isDescendant(_478,pd.dialog.domNode))){pd.dialog._getFocusItems(pd.dialog.domNode);_478=pd.dialog._firstFocusItem;}if(_478){try{_478.focus();}catch(e){}}}}else{var idx=_44f.indexOf(_44f.map(ds,function(elem){return elem.dialog;}),_477);if(idx!=-1){ds.splice(idx,1);}}},isTop:function(_479){return ds[ds.length-1].dialog==_479;}};var ds=_472._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];if(has("dijit-legacy-requires")){_457(0,function(){var _47a=["dijit/TooltipDialog"];_44e(_47a);});}return _472;});},"dojo/dnd/Moveable":function(){define("dojo/dnd/Moveable",["../_base/array","../_base/declare","../_base/event","../_base/lang","../dom","../dom-class","../Evented","../on","../topic","../touch","./common","./Mover","../_base/window"],function(_47b,_47c,_47d,lang,dom,_47e,_47f,on,_480,_481,dnd,_482,win){var _483=_47c("dojo.dnd.Moveable",[_47f],{handle:"",delay:0,skip:false,constructor:function(node,_484){this.node=dom.byId(node);if(!_484){_484={};}this.handle=_484.handle?dom.byId(_484.handle):null;if(!this.handle){this.handle=this.node;}this.delay=_484.delay>0?_484.delay:0;this.skip=_484.skip;this.mover=_484.mover?_484.mover:_482;this.events=[on(this.handle,_481.press,lang.hitch(this,"onMouseDown")),on(this.handle,"dragstart",lang.hitch(this,"onSelectStart")),on(this.handle,"selectstart",lang.hitch(this,"onSelectStart"))];},markupFactory:function(_485,node,Ctor){return new Ctor(node,_485);},destroy:function(){_47b.forEach(this.events,function(_486){_486.remove();});this.events=this.node=this.handle=null;},onMouseDown:function(e){if(this.skip&&dnd.isFormElement(e)){return;}if(this.delay){this.events.push(on(this.handle,_481.move,lang.hitch(this,"onMouseMove")),on(this.handle,_481.release,lang.hitch(this,"onMouseUp")));this._lastX=e.pageX;this._lastY=e.pageY;}else{this.onDragDetected(e);}_47d.stop(e);},onMouseMove:function(e){if(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay){this.onMouseUp(e);this.onDragDetected(e);}_47d.stop(e);},onMouseUp:function(e){for(var i=0;i<2;++i){this.events.pop().remove();}_47d.stop(e);},onSelectStart:function(e){if(!this.skip||!dnd.isFormElement(e)){_47d.stop(e);}},onDragDetected:function(e){new this.mover(this.node,e,this);},onMoveStart:function(_487){_480.publish("/dnd/move/start",_487);_47e.add(win.body(),"dojoMove");_47e.add(this.node,"dojoMoveItem");},onMoveStop:function(_488){_480.publish("/dnd/move/stop",_488);_47e.remove(win.body(),"dojoMove");_47e.remove(this.node,"dojoMoveItem");},onFirstMove:function(){},onMove:function(_489,_48a){this.onMoving(_489,_48a);var s=_489.node.style;s.left=_48a.l+"px";s.top=_48a.t+"px";this.onMoved(_489,_48a);},onMoving:function(){},onMoved:function(){}});return _483;});},"dojo/dnd/Mover":function(){define("dojo/dnd/Mover",["../_base/array","../_base/declare","../_base/event","../_base/lang","../sniff","../_base/window","../dom","../dom-geometry","../dom-style","../Evented","../on","../touch","./common","./autoscroll"],function(_48b,_48c,_48d,lang,has,win,dom,_48e,_48f,_490,on,_491,dnd,_492){return _48c("dojo.dnd.Mover",[_490],{constructor:function(node,e,host){this.node=dom.byId(node);this.marginBox={l:e.pageX,t:e.pageY};this.mouseButton=e.button;var h=(this.host=host),d=node.ownerDocument;this.events=[on(d,_491.move,lang.hitch(this,"onFirstMove")),on(d,_491.move,lang.hitch(this,"onMouseMove")),on(d,_491.release,lang.hitch(this,"onMouseUp")),on(d,"dragstart",_48d.stop),on(d.body,"selectstart",_48d.stop)];_492.autoScrollStart(d);if(h&&h.onMoveStart){h.onMoveStart(this);}},onMouseMove:function(e){_492.autoScroll(e);var m=this.marginBox;this.host.onMove(this,{l:m.l+e.pageX,t:m.t+e.pageY},e);_48d.stop(e);},onMouseUp:function(e){if(has("webkit")&&has("mac")&&this.mouseButton==2?e.button==0:this.mouseButton==e.button){this.destroy();}_48d.stop(e);},onFirstMove:function(e){var s=this.node.style,l,t,h=this.host;switch(s.position){case "relative":case "absolute":l=Math.round(parseFloat(s.left))||0;t=Math.round(parseFloat(s.top))||0;break;default:s.position="absolute";var m=_48e.getMarginBox(this.node);var b=win.doc.body;var bs=_48f.getComputedStyle(b);var bm=_48e.getMarginBox(b,bs);var bc=_48e.getContentBox(b,bs);l=m.l-(bc.l-bm.l);t=m.t-(bc.t-bm.t);break;}this.marginBox.l=l-this.marginBox.l;this.marginBox.t=t-this.marginBox.t;if(h&&h.onFirstMove){h.onFirstMove(this,e);}this.events.shift().remove();},destroy:function(){_48b.forEach(this.events,function(_493){_493.remove();});var h=this.host;if(h&&h.onMoveStop){h.onMoveStop(this);}this.events=this.node=this.host=null;}});});},"dojo/dnd/TimedMoveable":function(){define("dojo/dnd/TimedMoveable",["../_base/declare","./Moveable"],function(_494,_495){var _496=_495.prototype.onMove;return _494("dojo.dnd.TimedMoveable",_495,{timeout:40,constructor:function(node,_497){if(!_497){_497={};}if(_497.timeout&&typeof _497.timeout=="number"&&_497.timeout>=0){this.timeout=_497.timeout;}},onMoveStop:function(_498){if(_498._timer){clearTimeout(_498._timer);_496.call(this,_498,_498._leftTop);}_495.prototype.onMoveStop.apply(this,arguments);},onMove:function(_499,_49a){_499._leftTop=_49a;if(!_499._timer){var _49b=this;_499._timer=setTimeout(function(){_499._timer=null;_496.call(_49b,_499,_499._leftTop);},this.timeout);}}});});},"dijit/_base/manager":function(){define("dijit/_base/manager",["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(_49c,_49d,lang,_49e,_49f){var _4a0={};_49c.forEach(["byId","getUniqueId","findWidgets","_destroyAll","byNode","getEnclosingWidget"],function(name){_4a0[name]=_49e[name];});lang.mixin(_4a0,{defaultDuration:_49d["defaultDuration"]||200});lang.mixin(_49f,_4a0);return _49f;});},"dijit/DialogUnderlay":function(){define("dijit/DialogUnderlay",["dojo/_base/declare","dojo/dom-attr","dojo/window","./_Widget","./_TemplatedMixin","./BackgroundIframe"],function(_4a1,_4a2,_4a3,_4a4,_4a5,_4a6){return _4a1("dijit.DialogUnderlay",[_4a4,_4a5],{templateString:"<div class='dijitDialogUnderlayWrapper'><div class='dijitDialogUnderlay' data-dojo-attach-point='node'></div></div>",dialogId:"","class":"",_setDialogIdAttr:function(id){_4a2.set(this.node,"id",id+"_underlay");this._set("dialogId",id);},_setClassAttr:function(_4a7){this.node.className="dijitDialogUnderlay "+_4a7;this._set("class",_4a7);},postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);},layout:function(){var is=this.node.style,os=this.domNode.style;os.display="none";var _4a8=_4a3.getBox(this.ownerDocument);os.top=_4a8.t+"px";os.left=_4a8.l+"px";is.width=_4a8.w+"px";is.height=_4a8.h+"px";os.display="block";},show:function(){this.domNode.style.display="block";this.layout();this.bgIframe=new _4a6(this.domNode);},hide:function(){this.bgIframe.destroy();delete this.bgIframe;this.domNode.style.display="none";}});});},"dijit/BackgroundIframe":function(){define("dijit/BackgroundIframe",["require","./main","dojo/_base/config","dojo/dom-construct","dojo/dom-style","dojo/_base/lang","dojo/on","dojo/sniff","dojo/_base/window"],function(_4a9,_4aa,_4ab,_4ac,_4ad,lang,on,has,win){var _4ae=new function(){var _4af=[];this.pop=function(){var _4b0;if(_4af.length){_4b0=_4af.pop();_4b0.style.display="";}else{if(has("ie")<9){var burl=_4ab["dojoBlankHtmlUrl"]||_4a9.toUrl("dojo/resources/blank.html")||"javascript:\"\"";var html="<iframe src='"+burl+"' role='presentation'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_4b0=win.doc.createElement(html);}else{_4b0=_4ac.create("iframe");_4b0.src="javascript:\"\"";_4b0.className="dijitBackgroundIframe";_4b0.setAttribute("role","presentation");_4ad.set(_4b0,"opacity",0.1);}_4b0.tabIndex=-1;}return _4b0;};this.push=function(_4b1){_4b1.style.display="none";_4af.push(_4b1);};}();_4aa.BackgroundIframe=function(node){if(!node.id){throw new Error("no id");}if(has("ie")||has("mozilla")){var _4b2=(this.iframe=_4ae.pop());node.appendChild(_4b2);if(has("ie")<7||has("quirks")){this.resize(node);this._conn=on(node,"resize",lang.hitch(this,function(){this.resize(node);}));}else{_4ad.set(_4b2,{width:"100%",height:"100%"});}}};lang.extend(_4aa.BackgroundIframe,{resize:function(node){if(this.iframe){_4ad.set(this.iframe,{width:node.offsetWidth+"px",height:node.offsetHeight+"px"});}},destroy:function(){if(this._conn){this._conn.remove();this._conn=null;}if(this.iframe){_4ae.push(this.iframe);delete this.iframe;}}});return _4aa.BackgroundIframe;});},"url:dijit/templates/Dialog.html":"<div class=\"dijitDialog\" role=\"dialog\" aria-labelledby=\"${id}_title\">\n\t<div data-dojo-attach-point=\"titleBar\" class=\"dijitDialogTitleBar\">\n\t\t<span data-dojo-attach-point=\"titleNode\" class=\"dijitDialogTitle\" id=\"${id}_title\"\n\t\t\t\trole=\"heading\" level=\"1\"></span>\n\t\t<span data-dojo-attach-point=\"closeButtonNode\" class=\"dijitDialogCloseIcon\" data-dojo-attach-event=\"ondijitclick: onCancel\" title=\"${buttonCancel}\" role=\"button\" tabIndex=\"-1\">\n\t\t\t<span data-dojo-attach-point=\"closeText\" class=\"closeText\" title=\"${buttonCancel}\">x</span>\n\t\t</span>\n\t</div>\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitDialogPaneContent\"></div>\n</div>\n","epi/shell/widget/dialog/_DialogMixin":function(){define(["dojo","dojo/dom-style"],function(dojo,_4b3){return dojo.declare(null,{closeIconVisible:true,_setCloseIconVisibleAttr:function(){this._set("closeIconVisible",this.closeIconVisible);_4b3.set(this.closeButtonNode,"visibility",this.closeIconVisible?"visible":"hidden");}});});},"epi/shell/widget/_FocusableMixin":function(){define(["dojo/dom-class","dojo/_base/declare","dijit/_FocusMixin"],function(_4b4,_4b5,_4b6){return _4b5(_4b6,{onFocus:function(){_4b4.add(this.domNode,"epi-focused");},onBlur:function(){_4b4.remove(this.domNode,"epi-focused");}});});},"epi/shell/widget/_ActionConsumerWidget":function(){define(["dojo/_base/declare","./_ActionConsumer"],function(_4b7,_4b8){return _4b7(_4b8,{definitionConsumer:null,startup:function(){this.inherited(arguments);this._populateActions();},_setDefinitionConsumerAttr:function(_4b9){this._set("definitionConsumer",_4b9);if(this._started){this._populateActions();}},onActionAdded:function(_4ba){if(this.definitionConsumer){this.definitionConsumer.add(_4ba);}},onActionRemoved:function(_4bb){if(this.definitionConsumer){this.definitionConsumer.remove(_4bb.name);}},onActionPropertyChanged:function(_4bc,_4bd,_4be){if(this.definitionConsumer){this.definitionConsumer.setItemProperty(_4bc.name,_4bd,_4be);}},_populateActions:function(){if(this.definitionConsumer){this.definitionConsumer.add(this.getActions());}}});});},"epi/shell/widget/_ActionConsumer":function(){define(["dojo","dojo/_base/kernel","epi/shell/widget/_ActionProviderBase"],function(dojo,_4bf,_4c0){return dojo.declare(_4c0,{_actionProviders:null,constructor:function(args){_4bf.deprecated("epi/shell/widget/_ActionConsumer","use the command pattern with epi/shell/command/_CommandConsumerMixin instead");this._actionProviders=[];if(typeof (args)!=="undefined"||args!=null&&dojo.isArray(args.actionProviders)){dojo.forEach(args.actionProviders,function(_4c1){this.addProvider(_4c1);},this);}},isProviderRegistered:function(_4c2){if(typeof (_4c2)==="undefined"||_4c2==null){return false;}return dojo.some(this._actionProviders,function(_4c3){return _4c3.provider===_4c2;});},addProvider:function(_4c4){if(typeof (_4c4)==="undefined"||_4c4==null||this.isProviderRegistered(_4c4)){return;}this._actionProviders.push({provider:_4c4,connects:[dojo.connect(_4c4,"onActionAdded",this,"onActionAdded"),dojo.connect(_4c4,"onActionRemoved",this,"onActionRemoved"),dojo.connect(_4c4,"onActionPropertyChanged",this,"onActionPropertyChanged")]});},removeProvider:function(_4c5){if(typeof (_4c5)==="undefined"||_4c5==null||!this.isProviderRegistered(_4c5)){return;}for(var i=0;i<this._actionProviders.length;i++){if(this._actionProviders[i].provider==_4c5){var _4c6=this._actionProviders.splice(i,1);dojo.forEach(_4c6.connects,dojo.disconnect);break;}}},getActions:function(){var _4c7=[];dojo.forEach(this._actionProviders,function(_4c8,_4c9){_4c7=_4c7.concat(this._getProviderActions(_4c8.provider));},this);return _4c7;},_getProviderActions:function(_4ca){if(typeof (_4ca)!=="undefined"&&_4ca!=null&&typeof (_4ca.getActions)=="function"){return _4ca.getActions();}else{return [];}}});});},"epi/shell/widget/_ActionProviderBase":function(){define(["epi","dojo"],function(epi,dojo){return dojo.declare(null,{getActions:function(){return [];},onActionAdded:function(_4cb){},onActionRemoved:function(_4cc){},onActionPropertyChanged:function(_4cd,_4ce,_4cf){}});});},"epi/shell/widget/Toolbar":function(){define(["dojo/_base/declare","dojo/_base/lang","dijit/Toolbar","epi/shell/DestroyableByKey"],function(_4d0,lang,_4d1,_4d2){return _4d0([_4d1,_4d2],{_originalTabIndex:null,_focusable:null,_firstFocusableItem:null,postCreate:function(){this.inherited(arguments);this._originalTabIndex=this.get("tabIndex");this._correctTabIndex();},addChild:function(_4d3){this.inherited(arguments);if(_4d3.firstFocusable){this.set("_firstFocusableItem",_4d3);}this.destroyByKey(_4d3);this.ownByKey(_4d3,_4d3.watch("itemVisibility",lang.hitch(this,function(){this._correctTabIndex();})));this._correctTabIndex();},removeChild:function(_4d4){this.destroyByKey(_4d4);this.inherited(arguments);this._correctTabIndex();},_correctTabIndex:function(){this._focusable=(this._getFirstFocusableChild()!==null);this.set("tabIndex",this._focusable?this._originalTabIndex:-1);},_getFirstFocusableChild:function(){return this._firstFocusableItem||this.inherited(arguments);},_startupChild:function(_4d5){_4d5.set("tabIndex","-1");},_onChildBlur:function(_4d6){_4d6.set("tabIndex","-1");}});});},"dijit/Toolbar":function(){define("dijit/Toolbar",["require","dojo/_base/declare","dojo/has","dojo/keys","dojo/ready","./_Widget","./_KeyNavContainer","./_TemplatedMixin"],function(_4d7,_4d8,has,keys,_4d9,_4da,_4db,_4dc){if(has("dijit-legacy-requires")){_4d9(0,function(){var _4dd=["dijit/ToolbarSeparator"];_4d7(_4dd);});}return _4d8("dijit.Toolbar",[_4da,_4dc,_4db],{templateString:"<div class=\"dijit\" role=\"toolbar\" tabIndex=\"${tabIndex}\" data-dojo-attach-point=\"containerNode\">"+"</div>",baseClass:"dijitToolbar",postCreate:function(){this.inherited(arguments);this.connectKeyNavHandlers(this.isLeftToRight()?[keys.LEFT_ARROW]:[keys.RIGHT_ARROW],this.isLeftToRight()?[keys.RIGHT_ARROW]:[keys.LEFT_ARROW]);}});});},"dijit/_KeyNavContainer":function(){define("dijit/_KeyNavContainer",["dojo/_base/kernel","./_Container","./_FocusMixin","dojo/_base/array","dojo/keys","dojo/_base/declare","dojo/_base/event","dojo/dom-attr","dojo/_base/lang"],function(_4de,_4df,_4e0,_4e1,keys,_4e2,_4e3,_4e4,lang){return _4e2("dijit._KeyNavContainer",[_4e0,_4df],{tabIndex:"0",connectKeyNavHandlers:function(_4e5,_4e6){var _4e7=(this._keyNavCodes={});var prev=lang.hitch(this,"focusPrev");var next=lang.hitch(this,"focusNext");_4e1.forEach(_4e5,function(code){_4e7[code]=prev;});_4e1.forEach(_4e6,function(code){_4e7[code]=next;});_4e7[keys.HOME]=lang.hitch(this,"focusFirstChild");_4e7[keys.END]=lang.hitch(this,"focusLastChild");this.connect(this.domNode,"onkeypress","_onContainerKeypress");this.connect(this.domNode,"onfocus","_onContainerFocus");},startupKeyNavChildren:function(){_4de.deprecated("startupKeyNavChildren() call no longer needed","","2.0");},startup:function(){this.inherited(arguments);_4e1.forEach(this.getChildren(),lang.hitch(this,"_startupChild"));},addChild:function(_4e8,_4e9){this.inherited(arguments);this._startupChild(_4e8);},focus:function(){this.focusFirstChild();},focusFirstChild:function(){this.focusChild(this._getFirstFocusableChild());},focusLastChild:function(){this.focusChild(this._getLastFocusableChild());},focusNext:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,1));},focusPrev:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,-1),true);},focusChild:function(_4ea,last){if(!_4ea){return;}if(this.focusedChild&&_4ea!==this.focusedChild){this._onChildBlur(this.focusedChild);}_4ea.set("tabIndex",this.tabIndex);_4ea.focus(last?"end":"start");this._set("focusedChild",_4ea);},_startupChild:function(_4eb){_4eb.set("tabIndex","-1");this.connect(_4eb,"_onFocus",function(){_4eb.set("tabIndex",this.tabIndex);});this.connect(_4eb,"_onBlur",function(){_4eb.set("tabIndex","-1");});},_onContainerFocus:function(evt){if(evt.target!==this.domNode||this.focusedChild){return;}this.focusFirstChild();_4e4.set(this.domNode,"tabIndex","-1");},_onBlur:function(evt){if(this.tabIndex){_4e4.set(this.domNode,"tabIndex",this.tabIndex);}this.focusedChild=null;this.inherited(arguments);},_onContainerKeypress:function(evt){if(evt.ctrlKey||evt.altKey){return;}var func=this._keyNavCodes[evt.charOrCode];if(func){func();_4e3.stop(evt);}},_onChildBlur:function(){},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1);},_getLastFocusableChild:function(){return this._getNextFocusableChild(null,-1);},_getNextFocusableChild:function(_4ec,dir){if(_4ec){_4ec=this._getSiblingOfChild(_4ec,dir);}var _4ed=this.getChildren();for(var i=0;i<_4ed.length;i++){if(!_4ec){_4ec=_4ed[(dir>0)?0:(_4ed.length-1)];}if(_4ec.isFocusable()){return _4ec;}_4ec=this._getSiblingOfChild(_4ec,dir);}return null;}});});},"epi/shell/DestroyableByKey":function(){define("epi/shell/DestroyableByKey",["dojo/_base/array","dojo/_base/declare","dijit/Destroyable"],function(_4ee,_4ef,_4f0){return _4ef([_4f0],{_ownedByKey:null,constructor:function(){this._ownedByKey=[];},destroy:function(){var item;while(item=this._ownedByKey.pop()){item.handler.destroy();}this.inherited(arguments);},ownByKey:function(key,_4f1){var i;var _4f2=this._findOwnedByKey(key);if(!_4f2){_4f2={"key":key,"handler":new _4f0()};this._ownedByKey.push(_4f2);}for(i=1;i<arguments.length;i++){_4f2.handler.own(arguments[i]);}return this;},destroyByKey:function(key){var _4f3=this._findOwnedByKey(key);var _4f4;if(!_4f3){return;}_4f3.handler.destroy();_4f4=_4ee.indexOf(this._ownedByKey,_4f3);this._ownedByKey.splice(_4f4,1);},_findOwnedByKey:function(key){var _4f5;_4ee.some(this._ownedByKey,function(item){if(item.key===key){_4f5=item;return false;}});return _4f5;}});});},"epi/shell/widget/ToolbarSet":function(){define(["dojo/_base/declare","dijit/_WidgetBase","epi/shell/layout/ToolbarContainer","epi/shell/widget/_AddByDefinition"],function(_4f6,_4f7,_4f8,_4f9){return _4f6([_4f7,_4f9],{_layoutContainer:null,layoutContainerClass:null,postMixInProperties:function(){this.inherited(arguments);this.layoutContainerClass=this.layoutContainerClass||_4f8;},buildRendering:function(){this.inherited(arguments);this._layoutContainer=new this.layoutContainerClass();this._layoutContainer.placeAt(this.domNode);this.own(this._layoutContainer);},addChild:function(_4fa){return this._layoutContainer.addChild(_4fa);},_getLayoutContainerAttr:function(){return this._layoutContainer;}});});},"epi/shell/layout/ToolbarContainer":function(){define(["dojo/_base/declare","dojo/dom-style","dijit/_Container","dijit/_TemplatedMixin","dijit/_WidgetBase"],function(_4fb,_4fc,_4fd,_4fe,_4ff){return _4fb([_4ff,_4fe,_4fd],{cssClasses:{container:"epi-toolbarGroupContainer",leading:"epi-toolbarGroup epi-toolbarLeading",center:"epi-toolbarGroup epi-toolbarCenter",trailing:"epi-toolbarGroup epi-toolbarTrailing"},templateString:"<div class='${cssClasses.container}'>                            <div data-dojo-attach-point='leadingNode' class='${cssClasses.leading}'></div>                            <div data-dojo-attach-point='centerNode' class='${cssClasses.center}'></div>                            <div data-dojo-attach-point='trailingNode' class='${cssClasses.trailing}'></div>                        </div>",addChild:function(_500){_500.region=_500.region||"center";var _501;switch(_500.region){case "leading":_501=this.leadingNode;break;case "center":_501=this.centerNode;break;case "trailing":_501=this.trailingNode;break;}_500.placeAt(_501);}});});},"epi/shell/widget/_AddByDefinition":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/Deferred","dojo/dom","dojo/dom-construct","dojo/dom-style","dojo/when","dijit","dijit/_Widget","dijit/ToolbarSeparator","dijit/Menu","dijit/MenuSeparator","epi/shell/widget/WidgetFactory","dijit/CheckedMenuItem","dijit/MenuItem","dijit/form/Button","dijit/form/ComboButton","dijit/form/DropDownButton","dijit/form/RadioButton","epi/shell/widget/PopupMenuItem","epi/shell/widget/Toolbar","epi/shell/widget/ToolbarLabel","epi/shell/widget/ToolbarDropDownButton"],function(_502,_503,lang,_504,dom,_505,_506,when,_507,_508,_509,Menu,_50a,_50b){return _503(null,{_widgetTypeTemplates:{checkedmenuitem:{widgetType:"dijit.CheckedMenuItem"},menu:{widgetType:"dijit.Menu"},menuitem:{widgetType:"dijit.MenuItem"},popupmenu:{widgetType:"epi.shell.widget.PopupMenuItem"},button:{widgetType:"dijit.form.Button"},combo:{widgetType:"dijit.form.ComboButton"},dropdown:{widgetType:"epi.shell.widget.ToolbarDropDownButton"},radio:{widgetType:"dijit.form.RadioButton"},toolbargroup:{widgetType:"epi.shell.widget.Toolbar"},label:{widgetType:"epi.shell.widget.ToolbarLabel"}},constructor:function(){this._widgetFactory=new _50b();this._widgetMap={};},postMixInProperties:function(){this.connect(this._widgetFactory,"onWidgetHierarchyCreated",lang.hitch(this,function(_50c,_50d){this._widgetMap[_50d.name]=_50c;if(_50d.firstChildIsContainer){_50c.containerWidget=_50c.getChildren()[0];}}));var _50e=function(_50f,_510){var _511=_50f.get("dropDown");if(!_511){_511=new Menu();_50f.set("dropDown",_511);}_511.addChild(_510);if(!_510.separator){_510.set("separator","dijit.MenuSeparator");}};this._widgetFactory.addHandler("dijit.form.ComboButton",_50e);},buildRendering:function(){this.inherited(arguments);dom.setSelectable(this.domNode,false);},_toComponentDefinition:function(_512){var _513=this._getComponentDefinitionTemplate(_512);_513.name=_512.name;_513.settings=lang.mixin({label:_512.label||"",showLabel:_512.label,title:_512.title||"",disabled:_512.disabled||false},_512.settings);if(_512.iconClass){_513.settings.iconClass=_512.iconClass;}var _514={onClick:_512.action};_513.connections=lang.mixin(_514,_512.connections);return _513;},_getComponentDefinitionTemplate:function(_515){var _516=lang.mixin({},this._widgetTypeTemplates[_515.type]||this._widgetTypeTemplates["button"]);if(_515.widgetType){_516.widgetType=_515.widgetType;}return _516;},_getWidget:function(name){return this._widgetMap[name];},_addSingle:function(_517){if(this._getWidget(_517.name)){return;}var _518=this._getWidget(_517.parent)||this;var _519=this._toComponentDefinition(_517);var def=new _504();when(this._widgetFactory.createWidgets(_518,_519),lang.hitch(this,function(_51a){var _51b=_51a[0];if(_517.tooltip){var html=_517.tooltip;var show=function(e){_507.showTooltip(html,e.target);};var hide=function(e){_507.hideTooltip(e.target);};this.connect(_51b.domNode,"onmouseenter",show);this.connect(_51b.domNode,"onmouseleave",hide);}this._addSeparators(_51b);def.resolve();}),function(e){console.error(e.stack||e);def.reject(e);});return def.promise;},_addSeparators:function(_51c){var _51d=_51c.getParent();if(!_51d){return;}var _51e=_51d.getChildren();var i=_502.indexOf(_51e,_51c);var _51f=(i>0)?_51e[i-1]:null;if(_51f&&!this._isSeparator(_51f)){if(_51c.separate){this.addSeparator(_51c,"before");}else{if(_51f.separate){this.addSeparator(_51f,"after");}}}var next=(_51e.length>i)?_51e[i+1]:null;if(next&&!this._isSeparator(next)&&(_51c.separate||next.separate)){this.addSeparator(_51c,"after");}},_getSiblingOfWidget:function(_520,dir){var node=_520.domNode;do{node=node[dir];}while(node&&(node.nodeType!=1||!_507.byNode(node)));return node&&_507.byNode(node);},add:function(_521){var self=this;var _522=function(_523){var item=_523.shift();if(!item){return null;}return when(self._addSingle(item),function(){return _522(_523);});};if(lang.isArray(_521)){return _522(_521);}else{this._addSingle(_521);}},addSeparator:function(_524,_525){var _526=function(){if(_524.separator){var _527=_524.separator.replace(/\./g,"/"),_528=new _504();require([_527],function(_529){_528.resolve(new _529());});return _528.promise;}return new _509();};when(_526(),lang.hitch(this,function(_52a){var _52b=_524?_524.domNode:this.domNode;_505.place(_52a.domNode,_52b,_525);}));},_removeSingle:function(name){var _52c=this._widgetMap[name];delete this._widgetMap[name];if(_52c){this._removeSeparators(_52c);_52c.destroy();}},_removeSeparators:function(_52d){if(!_52d.domNode){return;}var _52e=_52d.getParent();if(!_52e){return;}var _52f;var _530=_52e.getChildren();var i=_502.indexOf(_530,_52d);var next=(_530.length>i)?_530[i+1]:null;var _531=(i>0)?_530[i-1]:null;if(next&&this._isSeparator(next)&&_530.length>=i+2){_52f=next;next=_530[i+2];if(next.separate&&i>0){if(_531&&this._isSeparator(_531)){_531.destroy();return;}}else{_52f.destroy();}}if(_531&&this._isSeparator(_531)&&i-2>=0){_52f=_531;_531=_530[i-2];if(!_531.separate){_52f.destroy();}}},_isSeparator:function(_532){return _532 instanceof _507.ToolbarSeparator||_532 instanceof _507.MenuSeparator;},remove:function(_533){if(lang.isArray(_533)){_502.forEach(_533,lang.hitch(this,this._removeSingle));}else{this._removeSingle(_533);}},clear:function(){for(var name in this._widgetMap){this._removeSingle(name);}},destroy:function(){this.clear();this.inherited(arguments);},setItemProperty:function(_534,_535,_536){if(lang.isArray(_534)){_502.forEach(_534,function(name){this._setInternal(name,_535,_536);});}else{this._setInternal(_534,_535,_536);}},setItemVisibility:function(name,_537){var _538=this._widgetMap[name];if(_538){_506.set(_538.domNode,{display:(_537?"":"none")});_538.set("itemVisibility",_537);}},_setInternal:function(name,_539,_53a){var _53b=this._widgetMap[name];if(_53b){_53b.set(_539,_53a);}}});});},"dijit/ToolbarSeparator":function(){define("dijit/ToolbarSeparator",["dojo/_base/declare","dojo/dom","./_Widget","./_TemplatedMixin"],function(_53c,dom,_53d,_53e){return _53c("dijit.ToolbarSeparator",[_53d,_53e],{templateString:"<div class=\"dijitToolbarSeparator dijitInline\" role=\"presentation\"></div>",buildRendering:function(){this.inherited(arguments);dom.setSelectable(this.domNode,false);},isFocusable:function(){return false;}});});},"dijit/Menu":function(){define("dijit/Menu",["require","dojo/_base/array","dojo/_base/declare","dojo/_base/event","dojo/dom","dojo/dom-attr","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","dojo/_base/window","dojo/window","./popup","./DropDownMenu","dojo/ready"],function(_53f,_540,_541,_542,dom,_543,_544,_545,keys,lang,on,has,win,_546,pm,_547,_548){if(has("dijit-legacy-requires")){_548(0,function(){var _549=["dijit/MenuItem","dijit/PopupMenuItem","dijit/CheckedMenuItem","dijit/MenuSeparator"];_53f(_549);});}return _541("dijit.Menu",_547,{constructor:function(){this._bindings=[];},targetNodeIds:[],selector:"",contextMenuForWindow:false,leftClickToOpen:false,refocus:true,postCreate:function(){if(this.contextMenuForWindow){this.bindDomNode(this.ownerDocumentBody);}else{_540.forEach(this.targetNodeIds,this.bindDomNode,this);}this.inherited(arguments);},_iframeContentWindow:function(_54a){return _546.get(this._iframeContentDocument(_54a))||this._iframeContentDocument(_54a)["__parent__"]||(_54a.name&&win.doc.frames[_54a.name])||null;},_iframeContentDocument:function(_54b){return _54b.contentDocument||(_54b.contentWindow&&_54b.contentWindow.document)||(_54b.name&&win.doc.frames[_54b.name]&&win.doc.frames[_54b.name].document)||null;},bindDomNode:function(node){node=dom.byId(node,this.ownerDocument);var cn;if(node.tagName.toLowerCase()=="iframe"){var _54c=node,_54d=this._iframeContentWindow(_54c);cn=win.body(_54d.document);}else{cn=(node==win.body(this.ownerDocument)?this.ownerDocument.documentElement:node);}var _54e={node:node,iframe:_54c};_543.set(node,"_dijitMenu"+this.id,this._bindings.push(_54e));var _54f=lang.hitch(this,function(cn){var _550=this.selector,_551=_550?function(_552){return on.selector(_550,_552);}:function(_553){return _553;},self=this;return [on(cn,_551(this.leftClickToOpen?"click":"contextmenu"),function(evt){_542.stop(evt);self._scheduleOpen(this,_54c,{x:evt.pageX,y:evt.pageY});}),on(cn,_551("keydown"),function(evt){if(evt.shiftKey&&evt.keyCode==keys.F10){_542.stop(evt);self._scheduleOpen(this,_54c);}})];});_54e.connects=cn?_54f(cn):[];if(_54c){_54e.onloadHandler=lang.hitch(this,function(){var _554=this._iframeContentWindow(_54c);cn=win.body(_554.document);_54e.connects=_54f(cn);});if(_54c.addEventListener){_54c.addEventListener("load",_54e.onloadHandler,false);}else{_54c.attachEvent("onload",_54e.onloadHandler);}}},unBindDomNode:function(_555){var node;try{node=dom.byId(_555,this.ownerDocument);}catch(e){return;}var _556="_dijitMenu"+this.id;if(node&&_543.has(node,_556)){var bid=_543.get(node,_556)-1,b=this._bindings[bid],h;while((h=b.connects.pop())){h.remove();}var _557=b.iframe;if(_557){if(_557.removeEventListener){_557.removeEventListener("load",b.onloadHandler,false);}else{_557.detachEvent("onload",b.onloadHandler);}}_543.remove(node,_556);delete this._bindings[bid];}},_scheduleOpen:function(_558,_559,_55a){if(!this._openTimer){this._openTimer=this.defer(function(){delete this._openTimer;this._openMyself({target:_558,iframe:_559,coords:_55a});},1);}},_openMyself:function(args){var _55b=args.target,_55c=args.iframe,_55d=args.coords;this.currentTarget=_55b;if(_55d){if(_55c){var ifc=_544.position(_55c,true),_55e=this._iframeContentWindow(_55c),_55f=_544.docScroll(_55e.document);var cs=_545.getComputedStyle(_55c),tp=_545.toPixelValue,left=(has("ie")&&has("quirks")?0:tp(_55c,cs.paddingLeft))+(has("ie")&&has("quirks")?tp(_55c,cs.borderLeftWidth):0),top=(has("ie")&&has("quirks")?0:tp(_55c,cs.paddingTop))+(has("ie")&&has("quirks")?tp(_55c,cs.borderTopWidth):0);_55d.x+=ifc.x+left-_55f.x;_55d.y+=ifc.y+top-_55f.y;}}else{_55d=_544.position(_55b,true);_55d.x+=10;_55d.y+=10;}var self=this;var _560=this._focusManager.get("prevNode");var _561=this._focusManager.get("curNode");var _562=!_561||(dom.isDescendant(_561,this.domNode))?_560:_561;function _563(){if(self.refocus&&_562){_562.focus();}pm.close(self);};pm.open({popup:this,x:_55d.x,y:_55d.y,onExecute:_563,onCancel:_563,orient:this.isLeftToRight()?"L":"R"});this.focus();this._onBlur=function(){this.inherited("_onBlur",arguments);pm.close(this);};},destroy:function(){_540.forEach(this._bindings,function(b){if(b){this.unBindDomNode(b.node);}},this);this.inherited(arguments);}});});},"dijit/popup":function(){define("dijit/popup",["dojo/_base/array","dojo/aspect","dojo/_base/connect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/_base/event","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","./place","./BackgroundIframe","./main"],function(_564,_565,_566,_567,dom,_568,_569,_56a,_56b,_56c,keys,lang,on,has,_56d,_56e,_56f){function _570(){if(this._popupWrapper){_569.destroy(this._popupWrapper);delete this._popupWrapper;}};var _571=_567(null,{_stack:[],_beginZIndex:1000,_idGen:1,_createWrapper:function(_572){var _573=_572._popupWrapper,node=_572.domNode;if(!_573){_573=_569.create("div",{"class":"dijitPopup",style:{display:"none"},role:"presentation"},_572.ownerDocumentBody);_573.appendChild(node);var s=node.style;s.display="";s.visibility="";s.position="";s.top="0px";_572._popupWrapper=_573;_565.after(_572,"destroy",_570,true);}return _573;},moveOffScreen:function(_574){var _575=this._createWrapper(_574);_56b.set(_575,{visibility:"hidden",top:"-9999px",display:""});},hide:function(_576){var _577=this._createWrapper(_576);_56b.set(_577,"display","none");},getTopPopup:function(){var _578=this._stack;for(var pi=_578.length-1;pi>0&&_578[pi].parent===_578[pi-1].widget;pi--){}return _578[pi];},open:function(args){var _579=this._stack,_57a=args.popup,_57b=args.orient||["below","below-alt","above","above-alt"],ltr=args.parent?args.parent.isLeftToRight():_56a.isBodyLtr(_57a.ownerDocument),_57c=args.around,id=(args.around&&args.around.id)?(args.around.id+"_dropdown"):("popup_"+this._idGen++);while(_579.length&&(!args.parent||!dom.isDescendant(args.parent.domNode,_579[_579.length-1].widget.domNode))){this.close(_579[_579.length-1].widget);}var _57d=this._createWrapper(_57a);_568.set(_57d,{id:id,style:{zIndex:this._beginZIndex+_579.length},"class":"dijitPopup "+(_57a.baseClass||_57a["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:args.parent?args.parent.id:""});if(has("ie")||has("mozilla")){if(!_57a.bgIframe){_57a.bgIframe=new _56e(_57d);}}var best=_57c?_56d.around(_57d,_57c,_57b,ltr,_57a.orient?lang.hitch(_57a,"orient"):null):_56d.at(_57d,args,_57b=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],args.padding);_57d.style.display="";_57d.style.visibility="visible";_57a.domNode.style.visibility="visible";var _57e=[];_57e.push(on(_57d,_566._keypress,lang.hitch(this,function(evt){if(evt.charOrCode==keys.ESCAPE&&args.onCancel){_56c.stop(evt);args.onCancel();}else{if(evt.charOrCode===keys.TAB){_56c.stop(evt);var _57f=this.getTopPopup();if(_57f&&_57f.onCancel){_57f.onCancel();}}}})));if(_57a.onCancel&&args.onCancel){_57e.push(_57a.on("cancel",args.onCancel));}_57e.push(_57a.on(_57a.onExecute?"execute":"change",lang.hitch(this,function(){var _580=this.getTopPopup();if(_580&&_580.onExecute){_580.onExecute();}})));_579.push({widget:_57a,parent:args.parent,onExecute:args.onExecute,onCancel:args.onCancel,onClose:args.onClose,handlers:_57e});if(_57a.onOpen){_57a.onOpen(best);}return best;},close:function(_581){var _582=this._stack;while((_581&&_564.some(_582,function(elem){return elem.widget==_581;}))||(!_581&&_582.length)){var top=_582.pop(),_583=top.widget,_584=top.onClose;if(_583.onClose){_583.onClose();}var h;while(h=top.handlers.pop()){h.remove();}if(_583&&_583.domNode){this.hide(_583);}if(_584){_584();}}}});return (_56f.popup=new _571());});},"dijit/place":function(){define("dijit/place",["dojo/_base/array","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/_base/window","dojo/window","./main"],function(_585,_586,_587,_588,win,_589,_58a){function _58b(node,_58c,_58d,_58e){var view=_589.getBox(node.ownerDocument);if(!node.parentNode||String(node.parentNode.tagName).toLowerCase()!="body"){win.body(node.ownerDocument).appendChild(node);}var best=null;_585.some(_58c,function(_58f){var _590=_58f.corner;var pos=_58f.pos;var _591=0;var _592={w:{"L":view.l+view.w-pos.x,"R":pos.x-view.l,"M":view.w}[_590.charAt(1)],h:{"T":view.t+view.h-pos.y,"B":pos.y-view.t,"M":view.h}[_590.charAt(0)]};var s=node.style;s.left=s.right="auto";if(_58d){var res=_58d(node,_58f.aroundCorner,_590,_592,_58e);_591=typeof res=="undefined"?0:res;}var _593=node.style;var _594=_593.display;var _595=_593.visibility;if(_593.display=="none"){_593.visibility="hidden";_593.display="";}var bb=_586.position(node);_593.display=_594;_593.visibility=_595;var _596={"L":pos.x,"R":pos.x-bb.w,"M":Math.max(view.l,Math.min(view.l+view.w,pos.x+(bb.w>>1))-bb.w)}[_590.charAt(1)],_597={"T":pos.y,"B":pos.y-bb.h,"M":Math.max(view.t,Math.min(view.t+view.h,pos.y+(bb.h>>1))-bb.h)}[_590.charAt(0)],_598=Math.max(view.l,_596),_599=Math.max(view.t,_597),endX=Math.min(view.l+view.w,_596+bb.w),endY=Math.min(view.t+view.h,_597+bb.h),_59a=endX-_598,_59b=endY-_599;_591+=(bb.w-_59a)+(bb.h-_59b);if(best==null||_591<best.overflow){best={corner:_590,aroundCorner:_58f.aroundCorner,x:_598,y:_599,w:_59a,h:_59b,overflow:_591,spaceAvailable:_592};}return !_591;});if(best.overflow&&_58d){_58d(node,best.aroundCorner,best.corner,best.spaceAvailable,_58e);}var l=_586.isBodyLtr(node.ownerDocument),s=node.style;s.top=best.y+"px";s[l?"left":"right"]=(l?best.x:view.w-best.x-best.w)+"px";s[l?"right":"left"]="auto";return best;};var _59c={at:function(node,pos,_59d,_59e){var _59f=_585.map(_59d,function(_5a0){var c={corner:_5a0,pos:{x:pos.x,y:pos.y}};if(_59e){c.pos.x+=_5a0.charAt(1)=="L"?_59e.x:-_59e.x;c.pos.y+=_5a0.charAt(0)=="T"?_59e.y:-_59e.y;}return c;});return _58b(node,_59f);},around:function(node,_5a1,_5a2,_5a3,_5a4){var _5a5=(typeof _5a1=="string"||"offsetWidth" in _5a1)?_586.position(_5a1,true):_5a1;if(_5a1.parentNode){var _5a6=_587.getComputedStyle(_5a1).position=="absolute";var _5a7=_5a1.parentNode;while(_5a7&&_5a7.nodeType==1&&_5a7.nodeName!="BODY"){var _5a8=_586.position(_5a7,true),pcs=_587.getComputedStyle(_5a7);if(/relative|absolute/.test(pcs.position)){_5a6=false;}if(!_5a6&&/hidden|auto|scroll/.test(pcs.overflow)){var _5a9=Math.min(_5a5.y+_5a5.h,_5a8.y+_5a8.h);var _5aa=Math.min(_5a5.x+_5a5.w,_5a8.x+_5a8.w);_5a5.x=Math.max(_5a5.x,_5a8.x);_5a5.y=Math.max(_5a5.y,_5a8.y);_5a5.h=_5a9-_5a5.y;_5a5.w=_5aa-_5a5.x;}if(pcs.position=="absolute"){_5a6=true;}_5a7=_5a7.parentNode;}}var x=_5a5.x,y=_5a5.y,_5ab="w" in _5a5?_5a5.w:(_5a5.w=_5a5.width),_5ac="h" in _5a5?_5a5.h:(_588.deprecated("place.around: dijit/place.__Rectangle: { x:"+x+", y:"+y+", height:"+_5a5.height+", width:"+_5ab+" } has been deprecated.  Please use { x:"+x+", y:"+y+", h:"+_5a5.height+", w:"+_5ab+" }","","2.0"),_5a5.h=_5a5.height);var _5ad=[];function push(_5ae,_5af){_5ad.push({aroundCorner:_5ae,corner:_5af,pos:{x:{"L":x,"R":x+_5ab,"M":x+(_5ab>>1)}[_5ae.charAt(1)],y:{"T":y,"B":y+_5ac,"M":y+(_5ac>>1)}[_5ae.charAt(0)]}});};_585.forEach(_5a2,function(pos){var ltr=_5a3;switch(pos){case "above-centered":push("TM","BM");break;case "below-centered":push("BM","TM");break;case "after-centered":ltr=!ltr;case "before-centered":push(ltr?"ML":"MR",ltr?"MR":"ML");break;case "after":ltr=!ltr;case "before":push(ltr?"TL":"TR",ltr?"TR":"TL");push(ltr?"BL":"BR",ltr?"BR":"BL");break;case "below-alt":ltr=!ltr;case "below":push(ltr?"BL":"BR",ltr?"TL":"TR");push(ltr?"BR":"BL",ltr?"TR":"TL");break;case "above-alt":ltr=!ltr;case "above":push(ltr?"TL":"TR",ltr?"BL":"BR");push(ltr?"TR":"TL",ltr?"BR":"BL");break;default:push(pos.aroundCorner,pos.corner);}});var _5b0=_58b(node,_5ad,_5a4,{w:_5ab,h:_5ac});_5b0.aroundNodePos=_5a5;return _5b0;}};return _58a.place=_59c;});},"dijit/DropDownMenu":function(){require({cache:{"url:dijit/templates/Menu.html":"<table class=\"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable\" role=\"menu\" tabIndex=\"${tabIndex}\"\n\t   data-dojo-attach-event=\"onkeypress:_onKeyPress\" cellspacing=\"0\">\n\t<tbody class=\"dijitReset\" data-dojo-attach-point=\"containerNode\"></tbody>\n</table>\n"}});define("dijit/DropDownMenu",["dojo/_base/declare","dojo/_base/event","dojo/keys","dojo/text!./templates/Menu.html","./_OnDijitClickMixin","./_MenuBase"],function(_5b1,_5b2,keys,_5b3,_5b4,_5b5){return _5b1("dijit.DropDownMenu",[_5b5,_5b4],{templateString:_5b3,baseClass:"dijitMenu",postCreate:function(){this.inherited(arguments);var l=this.isLeftToRight();this._openSubMenuKey=l?keys.RIGHT_ARROW:keys.LEFT_ARROW;this._closeSubMenuKey=l?keys.LEFT_ARROW:keys.RIGHT_ARROW;this.connectKeyNavHandlers([keys.UP_ARROW],[keys.DOWN_ARROW]);},_onKeyPress:function(evt){if(evt.ctrlKey||evt.altKey){return;}switch(evt.charOrCode){case this._openSubMenuKey:this._moveToPopup(evt);_5b2.stop(evt);break;case this._closeSubMenuKey:if(this.parentMenu){if(this.parentMenu._isMenuBar){this.parentMenu.focusPrev();}else{this.onCancel(false);}}else{_5b2.stop(evt);}break;}}});});},"url:dijit/templates/Menu.html":"<table class=\"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable\" role=\"menu\" tabIndex=\"${tabIndex}\"\n\t   data-dojo-attach-event=\"onkeypress:_onKeyPress\" cellspacing=\"0\">\n\t<tbody class=\"dijitReset\" data-dojo-attach-point=\"containerNode\"></tbody>\n</table>\n","dijit/_MenuBase":function(){define("dijit/_MenuBase",["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/_base/lang","dojo/mouse","dojo/on","dojo/window","./a11yclick","./popup","./registry","./_Widget","./_KeyNavContainer","./_TemplatedMixin"],function(_5b6,_5b7,dom,_5b8,_5b9,lang,_5ba,on,_5bb,_5bc,pm,_5bd,_5be,_5bf,_5c0){return _5b7("dijit._MenuBase",[_5be,_5c0,_5bf],{parentMenu:null,popupDelay:500,autoFocus:false,childSelector:function(node){var _5c1=_5bd.byNode(node);return node.parentNode==this.containerNode&&_5c1&&_5c1.focus;},postCreate:function(){var self=this,_5c2=typeof this.childSelector=="string"?this.childSelector:lang.hitch(this,"childSelector");this.own(on(this.containerNode,on.selector(_5c2,_5ba.enter),function(){self.onItemHover(_5bd.byNode(this));}),on(this.containerNode,on.selector(_5c2,_5ba.leave),function(){self.onItemUnhover(_5bd.byNode(this));}),on(this.containerNode,on.selector(_5c2,_5bc),function(evt){self.onItemClick(_5bd.byNode(this),evt);evt.stopPropagation();evt.preventDefault();}));this.inherited(arguments);},onExecute:function(){},onCancel:function(){},_moveToPopup:function(evt){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled){this.onItemClick(this.focusedChild,evt);}else{var _5c3=this._getTopMenu();if(_5c3&&_5c3._isMenuBar){_5c3.focusNext();}}},_onPopupHover:function(){if(this.currentPopup&&this.currentPopup._pendingClose_timer){var _5c4=this.currentPopup.parentMenu;if(_5c4.focusedChild){_5c4.focusedChild._setSelected(false);}_5c4.focusedChild=this.currentPopup.from_item;_5c4.focusedChild._setSelected(true);this._stopPendingCloseTimer(this.currentPopup);}},onItemHover:function(item){if(this.isActive){this.focusChild(item);if(this.focusedChild.popup&&!this.focusedChild.disabled&&!this.hover_timer){this.hover_timer=this.defer("_openPopup",this.popupDelay);}}if(this.focusedChild){this.focusChild(item);}this._hoveredChild=item;item._set("hovering",true);},_onChildBlur:function(item){this._stopPopupTimer();item._setSelected(false);var _5c5=item.popup;if(_5c5){this._stopPendingCloseTimer(_5c5);_5c5._pendingClose_timer=this.defer(function(){_5c5._pendingClose_timer=null;if(_5c5.parentMenu){_5c5.parentMenu.currentPopup=null;}pm.close(_5c5);},this.popupDelay);}},onItemUnhover:function(item){if(this.isActive){this._stopPopupTimer();}if(this._hoveredChild==item){this._hoveredChild=null;}item._set("hovering",false);},_stopPopupTimer:function(){if(this.hover_timer){this.hover_timer=this.hover_timer.remove();}},_stopPendingCloseTimer:function(_5c6){if(_5c6._pendingClose_timer){_5c6._pendingClose_timer=_5c6._pendingClose_timer.remove();}},_stopFocusTimer:function(){if(this._focus_timer){this._focus_timer=this._focus_timer.remove();}},_getTopMenu:function(){for(var top=this;top.parentMenu;top=top.parentMenu){}return top;},onItemClick:function(item,evt){if(typeof this.isShowingNow=="undefined"){this._markActive();}this.focusChild(item);if(item.disabled){return false;}if(item.popup){this._openPopup(evt.type=="keypress");}else{this.onExecute();item._onClick?item._onClick(evt):item.onClick(evt);}},_openPopup:function(_5c7){this._stopPopupTimer();var _5c8=this.focusedChild;if(!_5c8){return;}var _5c9=_5c8.popup;if(!_5c9.isShowingNow){if(this.currentPopup){this._stopPendingCloseTimer(this.currentPopup);pm.close(this.currentPopup);}_5c9.parentMenu=this;_5c9.from_item=_5c8;var self=this;pm.open({parent:this,popup:_5c9,around:_5c8.domNode,orient:this._orient||["after","before"],onCancel:function(){self.focusChild(_5c8);self._cleanUp();_5c8._setSelected(true);self.focusedChild=_5c8;},onExecute:lang.hitch(this,"_cleanUp")});this.currentPopup=_5c9;_5c9.connect(_5c9.domNode,"onmouseenter",lang.hitch(self,"_onPopupHover"));}if(_5c7&&_5c9.focus){_5c9._focus_timer=this.defer(lang.hitch(_5c9,function(){this._focus_timer=null;this.focus();}));}},_markActive:function(){this.isActive=true;_5b9.replace(this.domNode,"dijitMenuActive","dijitMenuPassive");},onOpen:function(){this.isShowingNow=true;this._markActive();},_markInactive:function(){this.isActive=false;_5b9.replace(this.domNode,"dijitMenuPassive","dijitMenuActive");},onClose:function(){this._stopFocusTimer();this._markInactive();this.isShowingNow=false;this.parentMenu=null;},_closeChild:function(){this._stopPopupTimer();if(this.currentPopup){if(_5b6.indexOf(this._focusManager.activeStack,this.id)>=0){_5b8.set(this.focusedChild.focusNode,"tabIndex",this.tabIndex);this.focusedChild.focusNode.focus();}pm.close(this.currentPopup);this.currentPopup=null;}if(this.focusedChild){this.focusedChild._setSelected(false);this.onItemUnhover(this.focusedChild);this.focusedChild=null;}},_onItemFocus:function(item){if(this._hoveredChild&&this._hoveredChild!=item){this.onItemUnhover(this._hoveredChild);}},_onBlur:function(){this._cleanUp();this.inherited(arguments);},_cleanUp:function(){this._closeChild();if(typeof this.isShowingNow=="undefined"){this._markInactive();}}});});},"dijit/MenuSeparator":function(){require({cache:{"url:dijit/templates/MenuSeparator.html":"<tr class=\"dijitMenuSeparator\">\n\t<td class=\"dijitMenuSeparatorIconCell\">\n\t\t<div class=\"dijitMenuSeparatorTop\"></div>\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\n\t</td>\n\t<td colspan=\"3\" class=\"dijitMenuSeparatorLabelCell\">\n\t\t<div class=\"dijitMenuSeparatorTop dijitMenuSeparatorLabel\"></div>\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\n\t</td>\n</tr>"}});define("dijit/MenuSeparator",["dojo/_base/declare","dojo/dom","./_WidgetBase","./_TemplatedMixin","./_Contained","dojo/text!./templates/MenuSeparator.html"],function(_5ca,dom,_5cb,_5cc,_5cd,_5ce){return _5ca("dijit.MenuSeparator",[_5cb,_5cc,_5cd],{templateString:_5ce,buildRendering:function(){this.inherited(arguments);dom.setSelectable(this.domNode,false);},isFocusable:function(){return false;}});});},"dijit/_Contained":function(){define("dijit/_Contained",["dojo/_base/declare","./registry"],function(_5cf,_5d0){return _5cf("dijit._Contained",null,{_getSibling:function(_5d1){var node=this.domNode;do{node=node[_5d1+"Sibling"];}while(node&&node.nodeType!=1);return node&&_5d0.byNode(node);},getPreviousSibling:function(){return this._getSibling("previous");},getNextSibling:function(){return this._getSibling("next");},getIndexInParent:function(){var p=this.getParent();if(!p||!p.getIndexOfChild){return -1;}return p.getIndexOfChild(this);}});});},"url:dijit/templates/MenuSeparator.html":"<tr class=\"dijitMenuSeparator\">\n\t<td class=\"dijitMenuSeparatorIconCell\">\n\t\t<div class=\"dijitMenuSeparatorTop\"></div>\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\n\t</td>\n\t<td colspan=\"3\" class=\"dijitMenuSeparatorLabelCell\">\n\t\t<div class=\"dijitMenuSeparatorTop dijitMenuSeparatorLabel\"></div>\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\n\t</td>\n</tr>","epi/shell/widget/WidgetFactory":function(){define(["dojo/_base/array","dojo/_base/Deferred","dojo/_base/declare","dojo/_base/lang","dojo/dom","dojo/promise/all","dojo/when","epi/string","epi/dependency","dijit/_Widget","dijit/_Container","dojox/layout/GridContainerLite","epi/shell/widget/ToolbarDropDownButton","epi/shell/widget/ToolbarSet"],function(_5d2,_5d3,_5d4,lang,dom,all,when,_5d5,_5d6){return _5d4(null,{_domNodeName:"[domnode]",_handlers:null,moduleManager:null,messageService:undefined,onWidgetHierarchyCreated:null,onWidgetCreated:null,constructor:function(_5d7){_5d4.safeMixin(this,_5d7);this._handlers=[];this._addDefaultHandlers();this.messageService=this.messageService||_5d6.resolve("epi.shell.MessageService");this.moduleManager=this.moduleManager||_5d6.resolve("epi.ModuleManager");},createWidgets:function(root,_5d8){if(typeof (root)==="string"){root=dom.byId(root);}if(_5d8&&!lang.isArray(_5d8)){_5d8=[_5d8];}var _5d9=[];var _5da=[];var _5db=lang.hitch(this,function(_5dc){if(_5dc instanceof Array){for(var i in _5dc){_5db(_5dc[i]);}}if(_5dc.components instanceof Array){_5db(_5dc.components);}if(_5dc.moduleName){_5da.push(this.moduleManager.startModules(_5dc.moduleName));}if(_5dc.widgetPackage){_5d9.push(_5d5.slashName(_5dc.widgetPackage));}else{if(_5dc.widgetType){_5d9.push(_5d5.slashName(_5dc.widgetType));}}});_5db(_5d8);var _5dd=new _5d3();var _5de=require.on("error",function(_5df){console.error(_5df.stack||_5df);_5de.remove();_5dd.reject(_5df);});all(_5da).then(lang.hitch(this,function(){require(_5d9,lang.hitch(this,function(){_5de.remove();this._createWidgets(root,_5d8).then(function(_5e0){try{_5d2.forEach(_5e0,function(w){if(!w._started&&w.startup){w.startup();}});_5dd.resolve(_5e0);}catch(err){_5dd.reject(err);}},_5dd.reject);}));}));return _5dd;},_createWidgets:function(root,_5e1){var dfd=new _5d3();var _5e2=[];var _5e3=this.getHandler(root);if(!_5e3||!lang.isArray(_5e1)){dfd.resolve(_5e2);return dfd;}var _5e4=_5d2.map(_5e1,lang.hitch(this,function(_5e5){var done=new _5d3();var _5e6=this._createInternal(root,_5e5,_5e3);_5e6.then(function(_5e7){if(_5e7){_5e2.push(_5e7);}done.resolve(_5e7);},function(e){console.error(e.stack||e);done.reject(e);});return done;}));all(_5e4).then(function(){dfd.resolve(_5e2);},function(_5e8){console.error("WidgetFactory: Could not resolve one or more widgets");dfd.reject(_5e8);});return dfd;},_createInternal:function(root,_5e9,_5ea){var _5eb=new _5d3();when(_5ea.instantiateWidgetFunction(_5e9),lang.hitch(this,function(_5ec){if(_5ec){try{if(typeof this.onWidgetCreated=="function"){this.onWidgetCreated(_5ec,_5e9);}var _5ed=(_5ea.type==this._domNodeName);if(!_5ed){_5ea.addWidgetToRootFunction(root,_5ec);}}catch(e){_5eb.reject(e);return;}var _5ee=new _5d3();if(_5e9.components&&lang.isArray(_5e9.components)&&_5e9.components.length>0){_5ee=this._createWidgets(_5ec,_5e9.components);}else{_5ee.resolve();}_5ee.then(lang.hitch(this,function(){try{if(_5ed){_5ea.addWidgetToRootFunction(root,_5ec);}if(typeof this.onWidgetHierarchyCreated=="function"){this.onWidgetHierarchyCreated(_5ec,_5e9);}_5eb.resolve(_5ec);}catch(e){_5eb.reject(e);}}),_5eb.reject);}else{_5eb.reject();}}),function(_5ef){console.error(_5ef.stack||_5ef);_5eb.reject(_5ef);});return _5eb;},defaultWidgetInstantiator:function(_5f0){var def=new _5d3();var _5f1=lang.mixin({},_5f0.settings,{componentId:_5f0.id});var _5f2=_5d5.slashName(_5f0.widgetType);var _5f3=_5f0.widgetPackage&&lang.getObject(_5f0.widgetType);var _5f4=require.on("error",function(_5f5){console.error(_5f5.stack||_5f5);_5f4.remove();def.reject(_5f5);});function _5f6(ctor){var _5f7=new ctor(_5f1);if(_5f0.connections){for(var evt in _5f0.connections){if(_5f0.connections[evt]){_5f7.connect(_5f7,evt,_5f0.connections[evt]);}}}_5f4.remove();def.resolve(_5f7);};if(_5f3){_5f6(_5f3);}else{require([_5f2],lang.hitch(this,_5f6));}return def;},_notifyError:function(msg){if(this.messageService){this.messageService.put("error",msg);}},_addDefaultHandlers:function(){this.addHandler(this._domNodeName,function(_5f8,_5f9){_5f9.placeAt(_5f8);},null,function(){return true;});this.addHandler("dijit/_Widget",function(_5fa,_5fb){_5fa.set("content",_5fb);});this.addHandler("dijit/_Container",function(_5fc,_5fd){_5fc.addChild(_5fd);});this.addHandler("dojox/layout/GridContainerLite",function(_5fe,_5ff){_5fe.addChild(_5ff,_5ff.params.column);});this.addHandler("epi/shell/widget/ToolbarDropDownButton",function(_600,_601){_600.addChild(_601);});this.addHandler("epi/shell/widget/ToolbarSet",function(_602,_603){_602.addChild(_603);});},addHandler:function(_604,_605,_606,_607){var _608=function(_609,_60a){return _60a&&lang.isFunction(_609.isInstanceOf)&&_609.isInstanceOf(_60a);};var _60b=lang.hitch(this,function(type){var _60c=this.getHandlerByTypeName(_604);var _60d=_607||_608;var _60e=_60c?true:false;if(!_60e){_60c={};}var _60f=_606||lang.hitch(this,this.defaultWidgetInstantiator);_60c.type=_604;_60c.instantiateWidgetFunction=_60f;_60c.addWidgetToRootFunction=_605;_60c.widgetConstructor=type;_60c.canHandle=_60d;if(!_60e){this._handlers.push(_60c);}});if(_604!=this._domNodeName){require([_5d5.slashName(_604)],_60b);}else{_60b();}},getHandler:function(root){var _610=this._handlers;for(var i=_610.length-1;i>=0;i--){if(_610[i].canHandle(root,_610[i].widgetConstructor)){return _610[i];}}return null;},getHandlerByTypeName:function(_611){var _612=this._handlers;for(var i=0;i<_612.length;i++){if(_612[i].type===_611){return _612[i];}}return null;},removeHandler:function(_613){var _614=this._handlers;for(var i=0;i<_614.length;i++){if(_614[i].type===_613){_614.splice(i,1);}}},listHandlers:function(){var _615=this._handlers;return _5d2.map(_615,function(_616){return _616.type;});}});});},"epi/string":function(){define("epi/string",["dojo/_base/lang","dojo/dom-construct"],function(lang,_617){return {pascalToCamel:function(_618){var _619=_618.split(".");var _61a=this._toCamelCase(_619[0]);for(var i=1;i<_619.length;i++){_61a+="."+this._toCamelCase(_619[i]);}return _61a;},_toCamelCase:function(_61b){if(!_61b){return "";}if(_61b[0]===_61b[0].toLowerCase()){return _61b;}var _61c="";for(var i=0;i<_61b.length;i++){var _61d=(i+1<_61b.length);if((i===0||!_61d)||_61b[i+1]===_61b[i+1].toUpperCase()){_61c+=_61b[i].toLowerCase();}else{_61c+=_61b.substring(i);break;}}return _61c;},stripHtmlTags:function(_61e){if(this.isNullOrEmpty(_61e)){return "";}var dom=_617.toDom(_61e.replace(/&/gim,"&amp;"));return this.removeAllCarriageReturns(dom.textContent||dom.innerText);},removeAllCarriageReturns:function(_61f){if(this.isNullOrEmpty(_61f)){return "";}var _620=_61f.replace(/\t|\r|\n/gim,"");return _620.replace(/  +/gim," ");},encodeForWebString:function(_621,_622){if(this.isNullOrEmpty(_621)){return "";}var _623=_621.replace(/&/gim,"&amp;").replace(/</gim,"&lt;").replace(/>/gim,"&gt;");if(_622==null||_622.Length==0){return _623;}var _624=new RegExp("&lt;(/?("+_622.join("|")+")/?s*)&gt;","gim");return _623.replace(_624,"<$1>");},isNullOrEmpty:function(_625){return !_625||(/^\s*$/).test(_625);},toHTML:function(_626){if(this.isNullOrEmpty(_626)){return "";}return _626.replace(/\\n/gim,"<br/>");},toTooltipText:function(_627){if(this.isNullOrEmpty(_627)){return "";}return _627.replace(/\\n/gim,"\n");},slashName:function(name){return name.replace(/\./g,"/");},appendTrailingSlash:function(url){return url.replace(/\/?$/,"/");}};});},"dojox/layout/GridContainerLite":function(){require({cache:{"url:dojox/layout/resources/GridContainer.html":"<div id=\"${id}\" class=\"gridContainer\" dojoAttachPoint=\"containerNode\" tabIndex=\"0\" dojoAttachEvent=\"onkeypress:_selectFocus\">\n\t<div dojoAttachPoint=\"gridContainerDiv\">\n\t\t<table class=\"gridContainerTable\" dojoAttachPoint=\"gridContainerTable\" cellspacing=\"0\" cellpadding=\"0\">\n\t\t\t<tbody>\n\t\t\t\t<tr dojoAttachPoint=\"gridNode\" >\n\t\t\t\t\t\n\t\t\t\t</tr>\n\t\t\t</tbody>\n\t\t</table>\n\t</div>\n</div>"}});define("dojox/layout/GridContainerLite",["dojo/_base/kernel","dojo/text!./resources/GridContainer.html","dojo/_base/declare","dojo/query","dojo/_base/sniff","dojo/dom-class","dojo/dom-style","dojo/dom-geometry","dojo/dom-construct","dojo/dom-attr","dojo/_base/array","dojo/_base/lang","dojo/_base/event","dojo/keys","dojo/topic","dijit/registry","dijit/focus","dijit/_base/focus","dijit/_WidgetBase","dijit/_TemplatedMixin","dijit/layout/_LayoutWidget","dojo/_base/NodeList","dojox/mdnd/AreaManager","dojox/mdnd/DropIndicator","dojox/mdnd/dropMode/OverDropMode","dojox/mdnd/AutoScroll"],function(dojo,_628,_629,_62a,has,_62b,_62c,geom,_62d,_62e,_62f,lang,_630,keys,_631,_632,_633,_634,_635,_636,_637,_638){var gcl=_629("dojox.layout.GridContainerLite",[_637,_636],{autoRefresh:true,templateString:_628,dragHandleClass:"dojoxDragHandle",nbZones:1,doLayout:true,isAutoOrganized:true,acceptTypes:[],colWidths:"",constructor:function(_639,node){this.acceptTypes=(_639||{}).acceptTypes||["text"];this._disabled=true;},postCreate:function(){this.inherited(arguments);this._grid=[];this._createCells();this.subscribe("/dojox/mdnd/drop","resizeChildAfterDrop");this.subscribe("/dojox/mdnd/drag/start","resizeChildAfterDragStart");this._dragManager=dojox.mdnd.areaManager();this._dragManager.autoRefresh=this.autoRefresh;this._dragManager.dragHandleClass=this.dragHandleClass;if(this.doLayout){this._border={h:has("ie")?geom.getBorderExtents(this.gridContainerTable).h:0,w:(has("ie")==6)?1:0};}else{_62c.set(this.domNode,"overflowY","hidden");_62c.set(this.gridContainerTable,"height","auto");}},startup:function(){if(this._started){return;}if(this.isAutoOrganized){this._organizeChildren();}else{this._organizeChildrenManually();}_62f.forEach(this.getChildren(),function(_63a){_63a.startup();});if(this._isShown()){this.enableDnd();}this.inherited(arguments);},resizeChildAfterDrop:function(node,_63b,_63c){if(this._disabled){return false;}if(_632.getEnclosingWidget(_63b.node)==this){var _63d=_632.byNode(node);if(_63d.resize&&lang.isFunction(_63d.resize)){_63d.resize();}_63d.set("column",node.parentNode.cellIndex);if(this.doLayout){var _63e=this._contentBox.h,_63f=geom.getContentBox(this.gridContainerDiv).h;if(_63f>=_63e){_62c.set(this.gridContainerTable,"height",(_63e-this._border.h)+"px");}}return true;}return false;},resizeChildAfterDragStart:function(node,_640,_641){if(this._disabled){return false;}if(_632.getEnclosingWidget(_640.node)==this){this._draggedNode=node;if(this.doLayout){geom.getMarginBox(this.gridContainerTable,{h:geom.getContentBox(this.gridContainerDiv).h-this._border.h});}return true;}return false;},getChildren:function(){var _642=new _638();_62f.forEach(this._grid,function(_643){_62a("> [widgetId]",_643.node).map(_632.byNode).forEach(function(item){_642.push(item);});});return _642;},_isShown:function(){if("open" in this){return this.open;}else{var node=this.domNode;return (node.style.display!="none")&&(node.style.visibility!="hidden")&&!_62b.contains(node,"dijitHidden");}},layout:function(){if(this.doLayout){var _644=this._contentBox;geom.getMarginBox(this.gridContainerTable,{h:_644.h-this._border.h});geom.getContentBox(this.domNode,{w:_644.w-this._border.w});}_62f.forEach(this.getChildren(),function(_645){if(_645.resize&&lang.isFunction(_645.resize)){_645.resize();}});},onShow:function(){if(this._disabled){this.enableDnd();}},onHide:function(){if(!this._disabled){this.disableDnd();}},_createCells:function(){if(this.nbZones===0){this.nbZones=1;}var _646=this.acceptTypes.join(","),i=0;var _647=this.colWidths||[];var _648=[];var _649;var _64a=0;for(i=0;i<this.nbZones;i++){if(_648.length<_647.length){_64a+=_647[i];_648.push(_647[i]);}else{if(!_649){_649=(100-_64a)/(this.nbZones-i);}_648.push(_649);}}i=0;while(i<this.nbZones){this._grid.push({node:_62d.create("td",{"class":"gridContainerZone",accept:_646,id:this.id+"_dz"+i,style:{"width":_648[i]+"%"}},this.gridNode)});i++;}},_getZonesAttr:function(){return _62a(".gridContainerZone",this.containerNode);},enableDnd:function(){var m=this._dragManager;_62f.forEach(this._grid,function(_64b){m.registerByNode(_64b.node);});m._dropMode.updateAreas(m._areaList);this._disabled=false;},disableDnd:function(){var m=this._dragManager;_62f.forEach(this._grid,function(_64c){m.unregister(_64c.node);});m._dropMode.updateAreas(m._areaList);this._disabled=true;},_organizeChildren:function(){var _64d=dojox.layout.GridContainerLite.superclass.getChildren.call(this);var _64e=this.nbZones,_64f=Math.floor(_64d.length/_64e),mod=_64d.length%_64e,i=0;for(var z=0;z<_64e;z++){for(var r=0;r<_64f;r++){this._insertChild(_64d[i],z);i++;}if(mod>0){try{this._insertChild(_64d[i],z);i++;}catch(e){console.error("Unable to insert child in GridContainer",e);}mod--;}else{if(_64f===0){break;}}}},_organizeChildrenManually:function(){var _650=dojox.layout.GridContainerLite.superclass.getChildren.call(this),_651=_650.length,_652;for(var i=0;i<_651;i++){_652=_650[i];try{this._insertChild(_652,_652.column-1);}catch(e){console.error("Unable to insert child in GridContainer",e);}}},_insertChild:function(_653,_654,p){var zone=this._grid[_654].node,_655=zone.childNodes.length;if(typeof (p)==undefined||p>_655){p=_655;}if(this._disabled){_62d.place(_653.domNode,zone,p);_62e.set(_653.domNode,"tabIndex","0");}else{if(!_653.dragRestriction){this._dragManager.addDragItem(zone,_653.domNode,p,true);}else{_62d.place(_653.domNode,zone,p);_62e.set(_653.domNode,"tabIndex","0");}}_653.set("column",_654);return _653;},removeChild:function(_656){if(this._disabled){this.inherited(arguments);}else{this._dragManager.removeDragItem(_656.domNode.parentNode,_656.domNode);}},addService:function(_657,_658,p){kernel.deprecated("addService is deprecated.","Please use  instead.","Future");this.addChild(_657,_658,p);},addChild:function(_659,_65a,p){_659.domNode.id=_659.id;dojox.layout.GridContainerLite.superclass.addChild.call(this,_659,0);if(_65a<0||_65a==undefined){_65a=0;}if(p<=0){p=0;}try{return this._insertChild(_659,_65a,p);}catch(e){console.error("Unable to insert child in GridContainer",e);}return null;},_setColWidthsAttr:function(_65b){this.colWidths=lang.isString(_65b)?_65b.split(","):(lang.isArray(_65b)?_65b:[_65b]);if(this._started){this._updateColumnsWidth();}},_updateColumnsWidth:function(_65c){var _65d=this._grid.length;var _65e=this.colWidths||[];var _65f=[];var _660;var _661=0;var i;for(i=0;i<_65d;i++){if(_65f.length<_65e.length){_661+=_65e[i]*1;_65f.push(_65e[i]);}else{if(!_660){_660=(100-_661)/(this.nbZones-i);if(_660<0){_660=100/this.nbZones;}}_65f.push(_660);_661+=_660*1;}}if(_661>100){var _662=100/_661;for(i=0;i<_65f.length;i++){_65f[i]*=_662;}}for(i=0;i<_65d;i++){this._grid[i].node.style.width=_65f[i]+"%";}},_selectFocus:function(_663){if(this._disabled){return;}var key=_663.keyCode,k=keys,zone=null,_664=_634.getFocus(),_665=_664.node,m=this._dragManager,_666,i,j,r,_667,area,_668;if(_665==this.containerNode){area=this.gridNode.childNodes;switch(key){case k.DOWN_ARROW:case k.RIGHT_ARROW:_666=false;for(i=0;i<area.length;i++){_667=area[i].childNodes;for(j=0;j<_667.length;j++){zone=_667[j];if(zone!=null&&zone.style.display!="none"){_633.focus(zone);_630.stop(_663);_666=true;break;}}if(_666){break;}}break;case k.UP_ARROW:case k.LEFT_ARROW:area=this.gridNode.childNodes;_666=false;for(i=area.length-1;i>=0;i--){_667=area[i].childNodes;for(j=_667.length;j>=0;j--){zone=_667[j];if(zone!=null&&zone.style.display!="none"){_633.focus(zone);_630.stop(_663);_666=true;break;}}if(_666){break;}}break;}}else{if(_665.parentNode.parentNode==this.gridNode){var _669=(key==k.UP_ARROW||key==k.LEFT_ARROW)?"lastChild":"firstChild";var pos=(key==k.UP_ARROW||key==k.LEFT_ARROW)?"previousSibling":"nextSibling";switch(key){case k.UP_ARROW:case k.DOWN_ARROW:_630.stop(_663);_666=false;var _66a=_665;while(!_666){_667=_66a.parentNode.childNodes;var num=0;for(i=0;i<_667.length;i++){if(_667[i].style.display!="none"){num++;}if(num>1){break;}}if(num==1){return;}if(_66a[pos]==null){zone=_66a.parentNode[_669];}else{zone=_66a[pos];}if(zone.style.display==="none"){_66a=zone;}else{_666=true;}}if(_663.shiftKey){var _66b=_665.parentNode;for(i=0;i<this.gridNode.childNodes.length;i++){if(_66b==this.gridNode.childNodes[i]){break;}}_667=this.gridNode.childNodes[i].childNodes;for(j=0;j<_667.length;j++){if(zone==_667[j]){break;}}if(has("mozilla")||has("webkit")){i--;}_668=_632.byNode(_665);if(!_668.dragRestriction){r=m.removeDragItem(_66b,_665);this.addChild(_668,i,j);_62e.set(_665,"tabIndex","0");_633.focus(_665);}else{_631.publish("/dojox/layout/gridContainer/moveRestriction",this);}}else{_633.focus(zone);}break;case k.RIGHT_ARROW:case k.LEFT_ARROW:_630.stop(_663);if(_663.shiftKey){var z=0;if(_665.parentNode[pos]==null){if(has("ie")&&key==k.LEFT_ARROW){z=this.gridNode.childNodes.length-1;}}else{if(_665.parentNode[pos].nodeType==3){z=this.gridNode.childNodes.length-2;}else{for(i=0;i<this.gridNode.childNodes.length;i++){if(_665.parentNode[pos]==this.gridNode.childNodes[i]){break;}z++;}if(has("mozilla")||has("webkit")){z--;}}}_668=_632.byNode(_665);var _66c=_665.getAttribute("dndtype");if(_66c==null){if(_668&&_668.dndType){_66c=_668.dndType.split(/\s*,\s*/);}else{_66c=["text"];}}else{_66c=_66c.split(/\s*,\s*/);}var _66d=false;for(i=0;i<this.acceptTypes.length;i++){for(j=0;j<_66c.length;j++){if(_66c[j]==this.acceptTypes[i]){_66d=true;break;}}}if(_66d&&!_668.dragRestriction){var _66e=_665.parentNode,_66f=0;if(k.LEFT_ARROW==key){var t=z;if(has("mozilla")||has("webkit")){t=z+1;}_66f=this.gridNode.childNodes[t].childNodes.length;}r=m.removeDragItem(_66e,_665);this.addChild(_668,z,_66f);_62e.set(r,"tabIndex","0");_633.focus(r);}else{_631.publish("/dojox/layout/gridContainer/moveRestriction",this);}}else{var node=_665.parentNode;while(zone===null){if(node[pos]!==null&&node[pos].nodeType!==3){node=node[pos];}else{if(pos==="previousSibling"){node=node.parentNode.childNodes[node.parentNode.childNodes.length-1];}else{node=node.parentNode.childNodes[has("ie")?0:1];}}zone=node[_669];if(zone&&zone.style.display=="none"){_667=zone.parentNode.childNodes;var _670=null;if(pos=="previousSibling"){for(i=_667.length-1;i>=0;i--){if(_667[i].style.display!="none"){_670=_667[i];break;}}}else{for(i=0;i<_667.length;i++){if(_667[i].style.display!="none"){_670=_667[i];break;}}}if(!_670){_665=zone;node=_665.parentNode;zone=null;}else{zone=_670;}}}_633.focus(zone);}break;}}}},destroy:function(){var m=this._dragManager;_62f.forEach(this._grid,function(_671){m.unregister(_671.node);});this.inherited(arguments);}});gcl.ChildWidgetProperties={column:"1",dragRestriction:false};lang.extend(_635,gcl.ChildWidgetProperties);return gcl;});},"url:dojox/layout/resources/GridContainer.html":"<div id=\"${id}\" class=\"gridContainer\" dojoAttachPoint=\"containerNode\" tabIndex=\"0\" dojoAttachEvent=\"onkeypress:_selectFocus\">\n\t<div dojoAttachPoint=\"gridContainerDiv\">\n\t\t<table class=\"gridContainerTable\" dojoAttachPoint=\"gridContainerTable\" cellspacing=\"0\" cellpadding=\"0\">\n\t\t\t<tbody>\n\t\t\t\t<tr dojoAttachPoint=\"gridNode\" >\n\t\t\t\t\t\n\t\t\t\t</tr>\n\t\t\t</tbody>\n\t\t</table>\n\t</div>\n</div>","dijit/_base/focus":function(){define("dijit/_base/focus",["dojo/_base/array","dojo/dom","dojo/_base/lang","dojo/topic","dojo/_base/window","../focus","../main"],function(_672,dom,lang,_673,win,_674,_675){var _676={_curFocus:null,_prevFocus:null,isCollapsed:function(){return _675.getBookmark().isCollapsed;},getBookmark:function(){var bm,rg,tg,sel=win.doc.selection,cf=_674.curNode;if(win.global.getSelection){sel=win.global.getSelection();if(sel){if(sel.isCollapsed){tg=cf?cf.tagName:"";if(tg){tg=tg.toLowerCase();if(tg=="textarea"||(tg=="input"&&(!cf.type||cf.type.toLowerCase()=="text"))){sel={start:cf.selectionStart,end:cf.selectionEnd,node:cf,pRange:true};return {isCollapsed:(sel.end<=sel.start),mark:sel};}}bm={isCollapsed:true};if(sel.rangeCount){bm.mark=sel.getRangeAt(0).cloneRange();}}else{rg=sel.getRangeAt(0);bm={isCollapsed:false,mark:rg.cloneRange()};}}}else{if(sel){tg=cf?cf.tagName:"";tg=tg.toLowerCase();if(cf&&tg&&(tg=="button"||tg=="textarea"||tg=="input")){if(sel.type&&sel.type.toLowerCase()=="none"){return {isCollapsed:true,mark:null};}else{rg=sel.createRange();return {isCollapsed:rg.text&&rg.text.length?false:true,mark:{range:rg,pRange:true}};}}bm={};try{rg=sel.createRange();bm.isCollapsed=!(sel.type=="Text"?rg.htmlText.length:rg.length);}catch(e){bm.isCollapsed=true;return bm;}if(sel.type.toUpperCase()=="CONTROL"){if(rg.length){bm.mark=[];var i=0,len=rg.length;while(i<len){bm.mark.push(rg.item(i++));}}else{bm.isCollapsed=true;bm.mark=null;}}else{bm.mark=rg.getBookmark();}}else{}}return bm;},moveToBookmark:function(_677){var _678=win.doc,mark=_677.mark;if(mark){if(win.global.getSelection){var sel=win.global.getSelection();if(sel&&sel.removeAllRanges){if(mark.pRange){var n=mark.node;n.selectionStart=mark.start;n.selectionEnd=mark.end;}else{sel.removeAllRanges();sel.addRange(mark);}}else{}}else{if(_678.selection&&mark){var rg;if(mark.pRange){rg=mark.range;}else{if(lang.isArray(mark)){rg=_678.body.createControlRange();_672.forEach(mark,function(n){rg.addElement(n);});}else{rg=_678.body.createTextRange();rg.moveToBookmark(mark);}}rg.select();}}}},getFocus:function(menu,_679){var node=!_674.curNode||(menu&&dom.isDescendant(_674.curNode,menu.domNode))?_675._prevFocus:_674.curNode;return {node:node,bookmark:node&&(node==_674.curNode)&&win.withGlobal(_679||win.global,_675.getBookmark),openedForWindow:_679};},_activeStack:[],registerIframe:function(_67a){return _674.registerIframe(_67a);},unregisterIframe:function(_67b){_67b&&_67b.remove();},registerWin:function(_67c,_67d){return _674.registerWin(_67c,_67d);},unregisterWin:function(_67e){_67e&&_67e.remove();}};_674.focus=function(_67f){if(!_67f){return;}var node="node" in _67f?_67f.node:_67f,_680=_67f.bookmark,_681=_67f.openedForWindow,_682=_680?_680.isCollapsed:false;if(node){var _683=(node.tagName.toLowerCase()=="iframe")?node.contentWindow:node;if(_683&&_683.focus){try{_683.focus();}catch(e){}}_674._onFocusNode(node);}if(_680&&win.withGlobal(_681||win.global,_675.isCollapsed)&&!_682){if(_681){_681.focus();}try{win.withGlobal(_681||win.global,_675.moveToBookmark,null,[_680]);}catch(e2){}}};_674.watch("curNode",function(name,_684,_685){_675._curFocus=_685;_675._prevFocus=_684;if(_685){_673.publish("focusNode",_685);}});_674.watch("activeStack",function(name,_686,_687){_675._activeStack=_687;});_674.on("widget-blur",function(_688,by){_673.publish("widgetBlur",_688,by);});_674.on("widget-focus",function(_689,by){_673.publish("widgetFocus",_689,by);});lang.mixin(_675,_676);return _675;});},"dijit/layout/_LayoutWidget":function(){define("dijit/layout/_LayoutWidget",["dojo/_base/lang","../_Widget","../_Container","../_Contained","../Viewport","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style"],function(lang,_68a,_68b,_68c,_68d,_68e,_68f,_690,_691){return _68e("dijit.layout._LayoutWidget",[_68a,_68b,_68c],{baseClass:"dijitLayoutContainer",isLayoutContainer:true,buildRendering:function(){this.inherited(arguments);_68f.add(this.domNode,"dijitContainer");},startup:function(){if(this._started){return;}this.inherited(arguments);var _692=this.getParent&&this.getParent();if(!(_692&&_692.isLayoutContainer)){this.resize();this.own(_68d.on("resize",lang.hitch(this,"resize")));}},resize:function(_693,_694){var node=this.domNode;if(_693){_690.setMarginBox(node,_693);}var mb=_694||{};lang.mixin(mb,_693||{});if(!("h" in mb)||!("w" in mb)){mb=lang.mixin(_690.getMarginBox(node),mb);}var cs=_691.getComputedStyle(node);var me=_690.getMarginExtents(node,cs);var be=_690.getBorderExtents(node,cs);var bb=(this._borderBox={w:mb.w-(me.w+be.w),h:mb.h-(me.h+be.h)});var pe=_690.getPadExtents(node,cs);this._contentBox={l:_691.toPixelValue(node,cs.paddingLeft),t:_691.toPixelValue(node,cs.paddingTop),w:bb.w-pe.w,h:bb.h-pe.h};this.layout();},layout:function(){},_setupChild:function(_695){var cls=this.baseClass+"-child "+(_695.baseClass?this.baseClass+"-"+_695.baseClass:"");_68f.add(_695.domNode,cls);},addChild:function(_696,_697){this.inherited(arguments);if(this._started){this._setupChild(_696);}},removeChild:function(_698){var cls=this.baseClass+"-child"+(_698.baseClass?" "+this.baseClass+"-"+_698.baseClass:"");_68f.remove(_698.domNode,cls);this.inherited(arguments);}});});},"dojox/mdnd/AreaManager":function(){define("dojox/mdnd/AreaManager",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/connect","dojo/_base/window","dojo/_base/array","dojo/_base/sniff","dojo/_base/lang","dojo/query","dojo/topic","dojo/dom-class","dojo/dom-geometry","dojo/dom-construct","dijit/registry","dijit/_Widget","./Moveable"],function(dojo,_699,_69a,win,_69b,_69c,lang,_69d,_69e,_69f,geom,_6a0,_6a1,_6a2,_6a3){var am=_699("dojox.mdnd.AreaManager",null,{autoRefresh:true,areaClass:"dojoxDndArea",dragHandleClass:"dojoxDragHandle",constructor:function(){this._areaList=[];this.resizeHandler=_69a.connect(dojo.global,"onresize",this,function(){this._dropMode.updateAreas(this._areaList);});this._oldIndexArea=this._currentIndexArea=this._oldDropIndex=this._currentDropIndex=this._sourceIndexArea=this._sourceDropIndex=-1;},init:function(){this.registerByClass();},registerByNode:function(area,_6a4){var _6a5=this._getIndexArea(area);if(area&&_6a5==-1){var _6a6=area.getAttribute("accept");var _6a7=(_6a6)?_6a6.split(/\s*,\s*/):["text"];var obj={"node":area,"items":[],"coords":{},"margin":null,"accept":_6a7,"initItems":false};_69b.forEach(this._getChildren(area),function(item){this._setMarginArea(obj,item);obj.items.push(this._addMoveableItem(item));},this);this._areaList=this._dropMode.addArea(this._areaList,obj);if(!_6a4){this._dropMode.updateAreas(this._areaList);}_69a.publish("/dojox/mdnd/manager/register",[area]);}},registerByClass:function(){_69d("."+this.areaClass).forEach(function(area){this.registerByNode(area,true);},this);this._dropMode.updateAreas(this._areaList);},unregister:function(area){var _6a8=this._getIndexArea(area);if(_6a8!=-1){_69b.forEach(this._areaList[_6a8].items,function(item){this._deleteMoveableItem(item);},this);this._areaList.splice(_6a8,1);this._dropMode.updateAreas(this._areaList);return true;}return false;},_addMoveableItem:function(node){node.setAttribute("tabIndex","0");var _6a9=this._searchDragHandle(node);var _6aa=new _6a3({"handle":_6a9,"skip":true},node);_69f.add(_6a9||node,"dragHandle");var type=node.getAttribute("dndType");var item={"item":_6aa,"type":type?type.split(/\s*,\s*/):["text"],"handlers":[_69a.connect(_6aa,"onDragStart",this,"onDragStart")]};if(_6a1&&_6a1.byNode){var _6ab=_6a1.byNode(node);if(_6ab){item.type=_6ab.dndType?_6ab.dndType.split(/\s*,\s*/):["text"];item.handlers.push(_69a.connect(_6ab,"uninitialize",this,function(){this.removeDragItem(node.parentNode,_6aa.node);}));}}return item;},_deleteMoveableItem:function(_6ac){_69b.forEach(_6ac.handlers,function(_6ad){_69a.disconnect(_6ad);});var node=_6ac.item.node,_6ae=this._searchDragHandle(node);_69f.remove(_6ae||node,"dragHandle");_6ac.item.destroy();},_getIndexArea:function(area){if(area){for(var i=0;i<this._areaList.length;i++){if(this._areaList[i].node===area){return i;}}}return -1;},_searchDragHandle:function(node){if(node){var _6af=this.dragHandleClass.split(" "),_6b0=_6af.length,_6b1="";_69b.forEach(_6af,function(css,i){_6b1+="."+css;if(i!=_6b0-1){_6b1+=", ";}});return _69d(_6b1,node)[0];}},addDragItem:function(area,node,_6b2,_6b3){var add=true;if(!_6b3){add=area&&node&&(node.parentNode===null||(node.parentNode&&node.parentNode.nodeType!==1));}if(add){var _6b4=this._getIndexArea(area);if(_6b4!==-1){var item=this._addMoveableItem(node),_6b5=this._areaList[_6b4].items;if(0<=_6b2&&_6b2<_6b5.length){var _6b6=_6b5.slice(0,_6b2),_6b7=_6b5.slice(_6b2,_6b5.length);_6b6[_6b6.length]=item;this._areaList[_6b4].items=_6b6.concat(_6b7);area.insertBefore(node,_6b5[_6b2].item.node);}else{this._areaList[_6b4].items.push(item);area.appendChild(node);}this._setMarginArea(this._areaList[_6b4],node);this._areaList[_6b4].initItems=false;return true;}}return false;},removeDragItem:function(area,node){var _6b8=this._getIndexArea(area);if(area&&_6b8!==-1){var _6b9=this._areaList[_6b8].items;for(var j=0;j<_6b9.length;j++){if(_6b9[j].item.node===node){this._deleteMoveableItem(_6b9[j]);_6b9.splice(j,1);return area.removeChild(node);}}}return null;},_getChildren:function(area){var _6ba=[];_69b.forEach(area.childNodes,function(_6bb){if(_6bb.nodeType==1){if(_6a1&&_6a1.byNode){var _6bc=_6a1.byNode(_6bb);if(_6bc){if(!_6bc.dragRestriction){_6ba.push(_6bb);}}else{_6ba.push(_6bb);}}else{_6ba.push(_6bb);}}});return _6ba;},_setMarginArea:function(area,node){if(area&&area.margin===null&&node){area.margin=geom.getMarginExtents(node);}},findCurrentIndexArea:function(_6bd,size){this._oldIndexArea=this._currentIndexArea;this._currentIndexArea=this._dropMode.getTargetArea(this._areaList,_6bd,this._currentIndexArea);if(this._currentIndexArea!=this._oldIndexArea){if(this._oldIndexArea!=-1){this.onDragExit(_6bd,size);}if(this._currentIndexArea!=-1){this.onDragEnter(_6bd,size);}}return this._currentIndexArea;},_isAccepted:function(type,_6be){this._accept=false;for(var i=0;i<_6be.length;++i){for(var j=0;j<type.length;++j){if(type[j]==_6be[i]){this._accept=true;break;}}}},onDragStart:function(node,_6bf,size){if(this.autoRefresh){this._dropMode.updateAreas(this._areaList);}var _6c0=(_69c("webkit"))?dojo.body():dojo.body().parentNode;if(!this._cover){this._cover=_6a0.create("div",{"class":"dndCover"});this._cover2=lang.clone(this._cover);_69f.add(this._cover2,"dndCover2");}var h=_6c0.scrollHeight+"px";this._cover.style.height=this._cover2.style.height=h;dojo.body().appendChild(this._cover);dojo.body().appendChild(this._cover2);this._dragStartHandler=_69a.connect(node.ownerDocument,"ondragstart",dojo,"stopEvent");this._sourceIndexArea=this._lastValidIndexArea=this._currentIndexArea=this._getIndexArea(node.parentNode);var _6c1=this._areaList[this._sourceIndexArea];var _6c2=_6c1.items;for(var i=0;i<_6c2.length;i++){if(_6c2[i].item.node==node){this._dragItem=_6c2[i];this._dragItem.handlers.push(_69a.connect(this._dragItem.item,"onDrag",this,"onDrag"));this._dragItem.handlers.push(_69a.connect(this._dragItem.item,"onDragEnd",this,"onDrop"));_6c2.splice(i,1);this._currentDropIndex=this._sourceDropIndex=i;break;}}var _6c3=null;if(this._sourceDropIndex!==_6c1.items.length){_6c3=_6c1.items[this._sourceDropIndex].item.node;}if(_69c("ie")>7){this._eventsIE7=[_69a.connect(this._cover,"onmouseover",dojo,"stopEvent"),_69a.connect(this._cover,"onmouseout",dojo,"stopEvent"),_69a.connect(this._cover,"onmouseenter",dojo,"stopEvent"),_69a.connect(this._cover,"onmouseleave",dojo,"stopEvent")];}var s=node.style;s.left=_6bf.x+"px";s.top=_6bf.y+"px";if(s.position=="relative"||s.position==""){s.position="absolute";}this._cover.appendChild(node);this._dropIndicator.place(_6c1.node,_6c3,size);_69f.add(node,"dragNode");this._accept=true;_69a.publish("/dojox/mdnd/drag/start",[node,_6c1,this._sourceDropIndex]);},onDragEnter:function(_6c4,size){if(this._currentIndexArea===this._sourceIndexArea){this._accept=true;}else{this._isAccepted(this._dragItem.type,this._areaList[this._currentIndexArea].accept);}},onDragExit:function(_6c5,size){this._accept=false;},onDrag:function(node,_6c6,size,_6c7){var _6c8=this._dropMode.getDragPoint(_6c6,size,_6c7);this.findCurrentIndexArea(_6c8,size);if(this._currentIndexArea!==-1&&this._accept){this.placeDropIndicator(_6c8,size);}},placeDropIndicator:function(_6c9,size){this._oldDropIndex=this._currentDropIndex;var area=this._areaList[this._currentIndexArea];if(!area.initItems){this._dropMode.initItems(area);}this._currentDropIndex=this._dropMode.getDropIndex(area,_6c9);if(!(this._currentIndexArea===this._oldIndexArea&&this._oldDropIndex===this._currentDropIndex)){this._placeDropIndicator(size);}return this._currentDropIndex;},_placeDropIndicator:function(size){var _6ca=this._areaList[this._lastValidIndexArea];var _6cb=this._areaList[this._currentIndexArea];this._dropMode.refreshItems(_6ca,this._oldDropIndex,size,false);var node=null;if(this._currentDropIndex!=-1){node=_6cb.items[this._currentDropIndex].item.node;}this._dropIndicator.place(_6cb.node,node);this._lastValidIndexArea=this._currentIndexArea;this._dropMode.refreshItems(_6cb,this._currentDropIndex,size,true);},onDropCancel:function(){if(!this._accept){var _6cc=this._getIndexArea(this._dropIndicator.node.parentNode);if(_6cc!=-1){this._currentIndexArea=_6cc;}else{this._currentIndexArea=0;}}},onDrop:function(node){this.onDropCancel();var _6cd=this._areaList[this._currentIndexArea];_69f.remove(node,"dragNode");var _6ce=node.style;_6ce.position="relative";_6ce.left="0";_6ce.top="0";_6ce.width="auto";if(_6cd.node==this._dropIndicator.node.parentNode){_6cd.node.insertBefore(node,this._dropIndicator.node);}else{_6cd.node.appendChild(node);this._currentDropIndex=_6cd.items.length;}var _6cf=this._currentDropIndex;if(_6cf==-1){_6cf=_6cd.items.length;}var _6d0=_6cd.items;var _6d1=_6d0.slice(0,_6cf);var _6d2=_6d0.slice(_6cf,_6d0.length);_6d1[_6d1.length]=this._dragItem;_6cd.items=_6d1.concat(_6d2);this._setMarginArea(_6cd,node);_69b.forEach(this._areaList,function(obj){obj.initItems=false;});_69a.disconnect(this._dragItem.handlers.pop());_69a.disconnect(this._dragItem.handlers.pop());this._resetAfterDrop();if(this._cover){dojo.body().removeChild(this._cover);dojo.body().removeChild(this._cover2);}_69a.publish("/dojox/mdnd/drop",[node,_6cd,_6cf]);},_resetAfterDrop:function(){this._accept=false;this._dragItem=null;this._currentDropIndex=-1;this._currentIndexArea=-1;this._oldDropIndex=-1;this._sourceIndexArea=-1;this._sourceDropIndex=-1;this._dropIndicator.remove();if(this._dragStartHandler){_69a.disconnect(this._dragStartHandler);}if(_69c("ie")>7){_69b.forEach(this._eventsIE7,_69a.disconnect);}},destroy:function(){while(this._areaList.length>0){if(!this.unregister(this._areaList[0].node)){throw new Error("Error while destroying AreaManager");}}_69a.disconnect(this.resizeHandler);this._dropIndicator.destroy();this._dropMode.destroy();if(dojox.mdnd.autoScroll){dojox.mdnd.autoScroll.destroy();}if(this.refreshListener){_69a.unsubscribe(this.refreshListener);}if(this._cover){_6a0.destroy(this._cover);_6a0.destroy(this._cover2);delete this._cover;delete this._cover2;}}});if(_6a2){lang.extend(_6a2,{dndType:"text"});}dojox.mdnd._areaManager=null;dojox.mdnd.areaManager=function(){if(!dojox.mdnd._areaManager){dojox.mdnd._areaManager=new dojox.mdnd.AreaManager();}return dojox.mdnd._areaManager;};return am;});},"dojox/mdnd/Moveable":function(){define("dojox/mdnd/Moveable",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/array","dojo/_base/connect","dojo/_base/event","dojo/_base/sniff","dojo/dom","dojo/dom-geometry","dojo/dom-style","dojo/_base/window"],function(dojo,_6d3,_6d4,_6d5,_6d6,_6d7,dom,geom,_6d8){return _6d3("dojox.mdnd.Moveable",null,{handle:null,skip:true,dragDistance:3,constructor:function(_6d9,node){this.node=dom.byId(node);this.d=this.node.ownerDocument;if(!_6d9){_6d9={};}this.handle=_6d9.handle?dom.byId(_6d9.handle):null;if(!this.handle){this.handle=this.node;}this.skip=_6d9.skip;this.events=[_6d5.connect(this.handle,"onmousedown",this,"onMouseDown")];if(dojox.mdnd.autoScroll){this.autoScroll=dojox.mdnd.autoScroll;}},isFormElement:function(e){var t=e.target;if(t.nodeType==3){t=t.parentNode;}return " a button textarea input select option ".indexOf(" "+t.tagName.toLowerCase()+" ")>=0;},onMouseDown:function(e){if(this._isDragging){return;}var _6da=(e.which||e.button)==1;if(!_6da){return;}if(this.skip&&this.isFormElement(e)){return;}if(this.autoScroll){this.autoScroll.setAutoScrollNode(this.node);this.autoScroll.setAutoScrollMaxPage();}this.events.push(_6d5.connect(this.d,"onmouseup",this,"onMouseUp"));this.events.push(_6d5.connect(this.d,"onmousemove",this,"onFirstMove"));this._selectStart=_6d5.connect(dojo.body(),"onselectstart",_6d6.stop);this._firstX=e.clientX;this._firstY=e.clientY;_6d6.stop(e);},onFirstMove:function(e){_6d6.stop(e);var d=(this._firstX-e.clientX)*(this._firstX-e.clientX)+(this._firstY-e.clientY)*(this._firstY-e.clientY);if(d>this.dragDistance*this.dragDistance){this._isDragging=true;_6d5.disconnect(this.events.pop());_6d8.set(this.node,"width",geom.getContentBox(this.node).w+"px");this.initOffsetDrag(e);this.events.push(_6d5.connect(this.d,"onmousemove",this,"onMove"));}},initOffsetDrag:function(e){this.offsetDrag={"l":e.pageX,"t":e.pageY};var s=this.node.style;var _6db=geom.position(this.node,true);this.offsetDrag.l=_6db.x-this.offsetDrag.l;this.offsetDrag.t=_6db.y-this.offsetDrag.t;var _6dc={"x":_6db.x,"y":_6db.y};this.size={"w":_6db.w,"h":_6db.h};this.onDragStart(this.node,_6dc,this.size);},onMove:function(e){_6d6.stop(e);if(_6d7("ie")==8&&new Date()-this.date<20){return;}if(this.autoScroll){this.autoScroll.checkAutoScroll(e);}var _6dd={"x":this.offsetDrag.l+e.pageX,"y":this.offsetDrag.t+e.pageY};var s=this.node.style;s.left=_6dd.x+"px";s.top=_6dd.y+"px";this.onDrag(this.node,_6dd,this.size,{"x":e.pageX,"y":e.pageY});if(_6d7("ie")==8){this.date=new Date();}},onMouseUp:function(e){if(this._isDragging){_6d6.stop(e);this._isDragging=false;if(this.autoScroll){this.autoScroll.stopAutoScroll();}delete this.onMove;this.onDragEnd(this.node);this.node.focus();}_6d5.disconnect(this.events.pop());_6d5.disconnect(this.events.pop());},onDragStart:function(node,_6de,size){},onDragEnd:function(node){},onDrag:function(node,_6df,size,_6e0){},destroy:function(){_6d4.forEach(this.events,_6d5.disconnect);this.events=this.node=null;}});});},"dojox/mdnd/DropIndicator":function(){define("dojox/mdnd/DropIndicator",["dojo/_base/kernel","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","./AreaManager"],function(dojo,_6e1,_6e2,_6e3){var di=_6e1("dojox.mdnd.DropIndicator",null,{node:null,constructor:function(){var _6e4=document.createElement("div");var _6e5=document.createElement("div");_6e4.appendChild(_6e5);_6e2.add(_6e4,"dropIndicator");this.node=_6e4;},place:function(area,_6e6,size){if(size){this.node.style.height=size.h+"px";}try{if(_6e6){area.insertBefore(this.node,_6e6);}else{area.appendChild(this.node);}return this.node;}catch(e){return null;}},remove:function(){if(this.node){this.node.style.height="";if(this.node.parentNode){this.node.parentNode.removeChild(this.node);}}},destroy:function(){if(this.node){if(this.node.parentNode){this.node.parentNode.removeChild(this.node);}_6e3.destroy(this.node);delete this.node;}}});dojox.mdnd.areaManager()._dropIndicator=new dojox.mdnd.DropIndicator();return di;});},"dojox/mdnd/dropMode/OverDropMode":function(){define("dojox/mdnd/dropMode/OverDropMode",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/connect","dojo/_base/array","dojo/dom-geometry","dojox/mdnd/AreaManager"],function(dojo,_6e7,_6e8,_6e9,geom){var odm=_6e7("dojox.mdnd.dropMode.OverDropMode",null,{_oldXPoint:null,_oldYPoint:null,_oldBehaviour:"up",constructor:function(){this._dragHandler=[_6e8.connect(dojox.mdnd.areaManager(),"onDragEnter",function(_6ea,size){var m=dojox.mdnd.areaManager();if(m._oldIndexArea==-1){m._oldIndexArea=m._lastValidIndexArea;}})];},addArea:function(_6eb,_6ec){var _6ed=_6eb.length,_6ee=geom.position(_6ec.node,true);_6ec.coords={"x":_6ee.x,"y":_6ee.y};if(_6ed==0){_6eb.push(_6ec);}else{var x=_6ec.coords.x;for(var i=0;i<_6ed;i++){if(x<_6eb[i].coords.x){for(var j=_6ed-1;j>=i;j--){_6eb[j+1]=_6eb[j];}_6eb[i]=_6ec;break;}}if(i==_6ed){_6eb.push(_6ec);}}return _6eb;},updateAreas:function(_6ef){var _6f0=_6ef.length;for(var i=0;i<_6f0;i++){this._updateArea(_6ef[i]);}},_updateArea:function(area){var _6f1=geom.position(area.node,true);area.coords.x=_6f1.x;area.coords.x2=_6f1.x+_6f1.w;area.coords.y=_6f1.y;},initItems:function(area){_6e9.forEach(area.items,function(obj){var node=obj.item.node;var _6f2=geom.position(node,true);var y=_6f2.y+_6f2.h/2;obj.y=y;});area.initItems=true;},refreshItems:function(area,_6f3,size,_6f4){if(_6f3==-1){return;}else{if(area&&size&&size.h){var _6f5=size.h;if(area.margin){_6f5+=area.margin.t;}var _6f6=area.items.length;for(var i=_6f3;i<_6f6;i++){var item=area.items[i];if(_6f4){item.y+=_6f5;}else{item.y-=_6f5;}}}}},getDragPoint:function(_6f7,size,_6f8){return {"x":_6f8.x,"y":_6f8.y};},getTargetArea:function(_6f9,_6fa,_6fb){var _6fc=0;var x=_6fa.x;var y=_6fa.y;var end=_6f9.length;var _6fd=0,_6fe="right",_6ff=false;if(_6fb==-1||arguments.length<3){_6ff=true;}else{if(this._checkInterval(_6f9,_6fb,x,y)){_6fc=_6fb;}else{if(this._oldXPoint<x){_6fd=_6fb+1;}else{_6fd=_6fb-1;end=0;_6fe="left";}_6ff=true;}}if(_6ff){if(_6fe==="right"){for(var i=_6fd;i<end;i++){if(this._checkInterval(_6f9,i,x,y)){_6fc=i;break;}}if(i==end){_6fc=-1;}}else{for(var i=_6fd;i>=end;i--){if(this._checkInterval(_6f9,i,x,y)){_6fc=i;break;}}if(i==end-1){_6fc=-1;}}}this._oldXPoint=x;return _6fc;},_checkInterval:function(_700,_701,x,y){var area=_700[_701];var node=area.node;var _702=area.coords;var _703=_702.x;var endX=_702.x2;var _704=_702.y;var endY=_704+node.offsetHeight;if(_703<=x&&x<=endX&&_704<=y&&y<=endY){return true;}return false;},getDropIndex:function(_705,_706){var _707=_705.items.length;var _708=_705.coords;var y=_706.y;if(_707>0){for(var i=0;i<_707;i++){if(y<_705.items[i].y){return i;}else{if(i==_707-1){return -1;}}}}return -1;},destroy:function(){_6e9.forEach(this._dragHandler,_6e8.disconnect);}});dojox.mdnd.areaManager()._dropMode=new dojox.mdnd.dropMode.OverDropMode();return odm;});},"dojox/mdnd/AutoScroll":function(){define("dojox/mdnd/AutoScroll",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","dojo/_base/connect","dojo/_base/sniff","dojo/ready","dojo/_base/window"],function(dojo,_709,lang,_70a,_70b,_70c){var as=_709("dojox.mdnd.AutoScroll",null,{interval:3,recursiveTimer:10,marginMouse:50,constructor:function(){this.resizeHandler=_70a.connect(dojo.global,"onresize",this,function(){this.getViewport();});_70c(lang.hitch(this,"init"));},init:function(){this._html=(_70b("webkit"))?dojo.body():dojo.body().parentNode;this.getViewport();},getViewport:function(){var d=dojo.doc,dd=d.documentElement,w=window,b=dojo.body();if(dojo.isMozilla){this._v={"w":dd.clientWidth,"h":w.innerHeight};}else{if(!dojo.isOpera&&w.innerWidth){this._v={"w":w.innerWidth,"h":w.innerHeight};}else{if(!dojo.isOpera&&dd&&dd.clientWidth){this._v={"w":dd.clientWidth,"h":dd.clientHeight};}else{if(b.clientWidth){this._v={"w":b.clientWidth,"h":b.clientHeight};}}}}},setAutoScrollNode:function(node){this._node=node;},setAutoScrollMaxPage:function(){this._yMax=this._html.scrollHeight;this._xMax=this._html.scrollWidth;},checkAutoScroll:function(e){if(this._autoScrollActive){this.stopAutoScroll();}this._y=e.pageY;this._x=e.pageX;if(e.clientX<this.marginMouse){this._autoScrollActive=true;this._autoScrollLeft(e);}else{if(e.clientX>this._v.w-this.marginMouse){this._autoScrollActive=true;this._autoScrollRight(e);}}if(e.clientY<this.marginMouse){this._autoScrollActive=true;this._autoScrollUp(e);}else{if(e.clientY>this._v.h-this.marginMouse){this._autoScrollActive=true;this._autoScrollDown();}}},_autoScrollDown:function(){if(this._timer){clearTimeout(this._timer);}if(this._autoScrollActive&&this._y+this.marginMouse<this._yMax){this._html.scrollTop+=this.interval;this._node.style.top=(parseInt(this._node.style.top)+this.interval)+"px";this._y+=this.interval;this._timer=setTimeout(lang.hitch(this,"_autoScrollDown"),this.recursiveTimer);}},_autoScrollUp:function(){if(this._timer){clearTimeout(this._timer);}if(this._autoScrollActive&&this._y-this.marginMouse>0){this._html.scrollTop-=this.interval;this._node.style.top=(parseInt(this._node.style.top)-this.interval)+"px";this._y-=this.interval;this._timer=setTimeout(lang.hitch(this,"_autoScrollUp"),this.recursiveTimer);}},_autoScrollRight:function(){if(this._timer){clearTimeout(this._timer);}if(this._autoScrollActive&&this._x+this.marginMouse<this._xMax){this._html.scrollLeft+=this.interval;this._node.style.left=(parseInt(this._node.style.left)+this.interval)+"px";this._x+=this.interval;this._timer=setTimeout(lang.hitch(this,"_autoScrollRight"),this.recursiveTimer);}},_autoScrollLeft:function(e){if(this._timer){clearTimeout(this._timer);}if(this._autoScrollActive&&this._x-this.marginMouse>0){this._html.scrollLeft-=this.interval;this._node.style.left=(parseInt(this._node.style.left)-this.interval)+"px";this._x-=this.interval;this._timer=setTimeout(lang.hitch(this,"_autoScrollLeft"),this.recursiveTimer);}},stopAutoScroll:function(){if(this._timer){clearTimeout(this._timer);}this._autoScrollActive=false;},destroy:function(){_70a.disconnect(this.resizeHandler);}});dojox.mdnd.autoScroll=null;dojox.mdnd.autoScroll=new dojox.mdnd.AutoScroll();return as;});},"epi/shell/widget/ToolbarDropDownButton":function(){define(["dojo","dojo/dom-style","dijit/form/DropDownButton","dijit/Menu"],function(dojo,_70d,_70e,Menu){return dojo.declare([_70e],{constructor:function(){this.dropDown=new Menu();},buildRendering:function(){this.inherited(arguments);this._setVisibility();},addChild:function(_70f,_710){if(!_70f.separator){_70f.set("separator","dijit.MenuSeparator");}var _711=this.dropDown.addChild(_70f,_710);this._setVisibility();return _711;},getChildren:function(){return this.dropDown.getChildren();},removeChild:function(_712){var _713=this.dropDown.removeChild(_712);this._setVisibility();return _713;},_setVisibility:function(){if(this.hasChildren()){_70d.set(this.domNode,"display","");}else{_70d.set(this.domNode,"display","none");}}});});},"dijit/form/DropDownButton":function(){require({cache:{"url:dijit/form/templates/DropDownButton.html":"<span class=\"dijit dijitReset dijitInline\"\n\t><span class='dijitReset dijitInline dijitButtonNode'\n\t\tdata-dojo-attach-event=\"ondijitclick:_onClick\" data-dojo-attach-point=\"_buttonNode\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"focusNode,titleNode,_arrowWrapperNode\"\n\t\t\trole=\"button\" aria-haspopup=\"true\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\"\n\t\t\t\tdata-dojo-attach-point=\"iconNode\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode,_popupStateNode\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonInner\"></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonChar\">&#9660;</span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" tabIndex=\"-1\"\n\t\tdata-dojo-attach-point=\"valueNode\" role=\"presentation\"\n/></span>\n"}});define("dijit/form/DropDownButton",["dojo/_base/declare","dojo/_base/lang","dojo/query","../registry","../popup","./Button","../_Container","../_HasDropDown","dojo/text!./templates/DropDownButton.html"],function(_714,lang,_715,_716,_717,_718,_719,_71a,_71b){return _714("dijit.form.DropDownButton",[_718,_719,_71a],{baseClass:"dijitDropDownButton",templateString:_71b,_fillContent:function(){if(this.srcNodeRef){var _71c=_715("*",this.srcNodeRef);this.inherited(arguments,[_71c[0]]);this.dropDownContainer=this.srcNodeRef;}},startup:function(){if(this._started){return;}if(!this.dropDown&&this.dropDownContainer){var _71d=_715("[widgetId]",this.dropDownContainer)[0];this.dropDown=_716.byNode(_71d);delete this.dropDownContainer;}if(this.dropDown){_717.hide(this.dropDown);}this.inherited(arguments);},isLoaded:function(){var _71e=this.dropDown;return (!!_71e&&(!_71e.href||_71e.isLoaded));},loadDropDown:function(_71f){var _720=this.dropDown;var _721=_720.on("load",lang.hitch(this,function(){_721.remove();_71f();}));_720.refresh();},isFocusable:function(){return this.inherited(arguments)&&!this._mouseDown;}});});},"dijit/_HasDropDown":function(){define("dijit/_HasDropDown",["dojo/_base/declare","dojo/_base/Deferred","dojo/_base/event","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","dojo/window","./registry","./focus","./popup","./_FocusMixin"],function(_722,_723,_724,dom,_725,_726,_727,_728,has,keys,lang,on,_729,_72a,_72b,_72c,_72d){return _722("dijit._HasDropDown",_72d,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:true,forceWidth:false,maxHeight:0,dropDownPosition:["below","above"],_stopClickEvents:true,_onDropDownMouseDown:function(e){if(this.disabled||this.readOnly){return;}e.preventDefault();this._docHandler=this.connect(this.ownerDocument,"mouseup","_onDropDownMouseUp");this.toggleDropDown();},_onDropDownMouseUp:function(e){if(e&&this._docHandler){this.disconnect(this._docHandler);}var _72e=this.dropDown,_72f=false;if(e&&this._opened){var c=_727.position(this._buttonNode,true);if(!(e.pageX>=c.x&&e.pageX<=c.x+c.w)||!(e.pageY>=c.y&&e.pageY<=c.y+c.h)){var t=e.target;while(t&&!_72f){if(_726.contains(t,"dijitPopup")){_72f=true;}else{t=t.parentNode;}}if(_72f){t=e.target;if(_72e.onItemClick){var _730;while(t&&!(_730=_72a.byNode(t))){t=t.parentNode;}if(_730&&_730.onClick&&_730.getParent){_730.getParent().onItemClick(_730,e);}}return;}}}if(this._opened){if(_72e.focus&&_72e.autoFocus!==false){this._focusDropDownTimer=this.defer(function(){_72e.focus();delete this._focusDropDownTimer;});}}else{this.defer("focus");}if(has("touch")){this._justGotMouseUp=true;this.defer(function(){this._justGotMouseUp=false;});}},_onDropDownClick:function(e){if(has("touch")&&!this._justGotMouseUp){this._onDropDownMouseDown(e);this._onDropDownMouseUp(e);}if(this._stopClickEvents){_724.stop(e);}},buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var _731={"after":this.isLeftToRight()?"Right":"Left","before":this.isLeftToRight()?"Left":"Right","above":"Up","below":"Down","left":"Left","right":"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";_726.add(this._arrowWrapperNode||this._buttonNode,"dijit"+_731+"ArrowButton");},postCreate:function(){this.inherited(arguments);var _732=this.focusNode||this.domNode;this.own(on(this._buttonNode,"mousedown",lang.hitch(this,"_onDropDownMouseDown")),on(this._buttonNode,"click",lang.hitch(this,"_onDropDownClick")),on(_732,"keydown",lang.hitch(this,"_onKey")),on(_732,"keyup",lang.hitch(this,"_onKeyUp")));},destroy:function(){if(this.dropDown){if(!this.dropDown._destroyed){this.dropDown.destroyRecursive();}delete this.dropDown;}this.inherited(arguments);},_onKey:function(e){if(this.disabled||this.readOnly){return;}var d=this.dropDown,_733=e.target;if(d&&this._opened&&d.handleKey){if(d.handleKey(e)===false){_724.stop(e);return;}}if(d&&this._opened&&e.keyCode==keys.ESCAPE){this.closeDropDown();_724.stop(e);}else{if(!this._opened&&(e.keyCode==keys.DOWN_ARROW||((e.keyCode==keys.ENTER||e.keyCode==keys.SPACE)&&((_733.tagName||"").toLowerCase()!=="input"||(_733.type&&_733.type.toLowerCase()!=="text"))))){this._toggleOnKeyUp=true;_724.stop(e);}}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;this.toggleDropDown();var d=this.dropDown;if(d&&d.focus){this.defer(lang.hitch(d,"focus"),1);}}},_onBlur:function(){var _734=_72b.curNode&&this.dropDown&&dom.isDescendant(_72b.curNode,this.dropDown.domNode);this.closeDropDown(_734);this.inherited(arguments);},isLoaded:function(){return true;},loadDropDown:function(_735){_735();},loadAndOpenDropDown:function(){var d=new _723(),_736=lang.hitch(this,function(){this.openDropDown();d.resolve(this.dropDown);});if(!this.isLoaded()){this.loadDropDown(_736);}else{_736();}return d;},toggleDropDown:function(){if(this.disabled||this.readOnly){return;}if(!this._opened){this.loadAndOpenDropDown();}else{this.closeDropDown();}},openDropDown:function(){var _737=this.dropDown,_738=_737.domNode,_739=this._aroundNode||this.domNode,self=this;if(!this._preparedNode){this._preparedNode=true;if(_738.style.width){this._explicitDDWidth=true;}if(_738.style.height){this._explicitDDHeight=true;}}if(this.maxHeight||this.forceWidth||this.autoWidth){var _73a={display:"",visibility:"hidden"};if(!this._explicitDDWidth){_73a.width="";}if(!this._explicitDDHeight){_73a.height="";}_728.set(_738,_73a);var _73b=this.maxHeight;if(_73b==-1){var _73c=_729.getBox(this.ownerDocument),_73d=_727.position(_739,false);_73b=Math.floor(Math.max(_73d.y,_73c.h-(_73d.y+_73d.h)));}_72c.moveOffScreen(_737);if(_737.startup&&!_737._started){_737.startup();}var mb=_727.getMarginSize(_738);var _73e=(_73b&&mb.h>_73b);_728.set(_738,{overflowX:"visible",overflowY:_73e?"auto":"visible"});if(_73e){mb.h=_73b;if("w" in mb){mb.w+=16;}}else{delete mb.h;}if(this.forceWidth){mb.w=_739.offsetWidth;}else{if(this.autoWidth){mb.w=Math.max(mb.w,_739.offsetWidth);}else{delete mb.w;}}if(lang.isFunction(_737.resize)){_737.resize(mb);}else{_727.setMarginBox(_738,mb);}}var _73f=_72c.open({parent:this,popup:_737,around:_739,orient:this.dropDownPosition,onExecute:function(){self.closeDropDown(true);},onCancel:function(){self.closeDropDown(true);},onClose:function(){_725.set(self._popupStateNode,"popupActive",false);_726.remove(self._popupStateNode,"dijitHasDropDownOpen");self._set("_opened",false);}});_725.set(this._popupStateNode,"popupActive","true");_726.add(this._popupStateNode,"dijitHasDropDownOpen");this._set("_opened",true);this.domNode.setAttribute("aria-expanded","true");return _73f;},closeDropDown:function(_740){if(this._focusDropDownTimer){this._focusDropDownTimer.remove();delete this._focusDropDownTimer;}if(this._opened){this.domNode.setAttribute("aria-expanded","false");if(_740){this.focus();}_72c.close(this.dropDown);this._opened=false;}}});});},"url:dijit/form/templates/DropDownButton.html":"<span class=\"dijit dijitReset dijitInline\"\n\t><span class='dijitReset dijitInline dijitButtonNode'\n\t\tdata-dojo-attach-event=\"ondijitclick:_onClick\" data-dojo-attach-point=\"_buttonNode\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"focusNode,titleNode,_arrowWrapperNode\"\n\t\t\trole=\"button\" aria-haspopup=\"true\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\"\n\t\t\t\tdata-dojo-attach-point=\"iconNode\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode,_popupStateNode\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonInner\"></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonChar\">&#9660;</span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" tabIndex=\"-1\"\n\t\tdata-dojo-attach-point=\"valueNode\" role=\"presentation\"\n/></span>\n","dijit/CheckedMenuItem":function(){require({cache:{"url:dijit/templates/CheckedMenuItem.html":"<tr class=\"dijitReset dijitMenuItem\" data-dojo-attach-point=\"focusNode\" role=\"menuitemcheckbox\" tabIndex=\"-1\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuItemIcon dijitCheckedMenuItemIcon\" data-dojo-attach-point=\"iconNode\"/>\n\t\t<span class=\"dijitCheckedMenuItemIconChar\">&#10003;</span>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" data-dojo-attach-point=\"containerNode,labelNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">&#160;</td>\n</tr>\n"}});define("dijit/CheckedMenuItem",["dojo/_base/declare","dojo/dom-class","./MenuItem","dojo/text!./templates/CheckedMenuItem.html","./hccss"],function(_741,_742,_743,_744){return _741("dijit.CheckedMenuItem",_743,{templateString:_744,checked:false,_setCheckedAttr:function(_745){_742.toggle(this.domNode,"dijitCheckedMenuItemChecked",_745);this.domNode.setAttribute("aria-checked",_745?"true":"false");this._set("checked",_745);},iconClass:"",onChange:function(){},_onClick:function(evt){if(!this.disabled){this.set("checked",!this.checked);this.onChange(this.checked);}this.onClick(evt);}});});},"dijit/MenuItem":function(){require({cache:{"url:dijit/templates/MenuItem.html":"<tr class=\"dijitReset dijitMenuItem\" data-dojo-attach-point=\"focusNode\" role=\"menuitem\" tabIndex=\"-1\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitMenuItemIcon\" data-dojo-attach-point=\"iconNode\"/>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" data-dojo-attach-point=\"containerNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">\n\t\t<div data-dojo-attach-point=\"arrowWrapper\" style=\"visibility: hidden\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuExpand\"/>\n\t\t\t<span class=\"dijitMenuExpandA11y\">+</span>\n\t\t</div>\n\t</td>\n</tr>\n"}});define("dijit/MenuItem",["dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/_base/kernel","dojo/sniff","./_Widget","./_TemplatedMixin","./_Contained","./_CssStateMixin","dojo/text!./templates/MenuItem.html"],function(_746,dom,_747,_748,_749,has,_74a,_74b,_74c,_74d,_74e){return _746("dijit.MenuItem",[_74a,_74b,_74c,_74d],{templateString:_74e,baseClass:"dijitMenuItem",label:"",_setLabelAttr:function(val){this.containerNode.innerHTML=val;this._set("label",val);if(this.textDir==="auto"){this.applyTextDir(this.focusNode,this.label);}},iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},accelKey:"",disabled:false,_fillContent:function(_74f){if(_74f&&!("label" in this.params)){this.set("label",_74f.innerHTML);}},buildRendering:function(){this.inherited(arguments);var _750=this.id+"_text";_747.set(this.containerNode,"id",_750);if(this.accelKeyNode){_747.set(this.accelKeyNode,"id",this.id+"_accel");_750+=" "+this.id+"_accel";}this.domNode.setAttribute("aria-labelledby",_750);dom.setSelectable(this.domNode,false);},onClick:function(){},focus:function(){try{if(has("ie")==8){this.containerNode.focus();}this.focusNode.focus();}catch(e){}},_onFocus:function(){this._setSelected(true);this.getParent()._onItemFocus(this);this.inherited(arguments);},_setSelected:function(_751){_748.toggle(this.domNode,"dijitMenuItemSelected",_751);},setLabel:function(_752){_749.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",_752);},setDisabled:function(_753){_749.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",_753);},_setDisabledAttr:function(_754){this.focusNode.setAttribute("aria-disabled",_754?"true":"false");this._set("disabled",_754);},_setAccelKeyAttr:function(_755){this.accelKeyNode.style.display=_755?"":"none";this.accelKeyNode.innerHTML=_755;_747.set(this.containerNode,"colSpan",_755?"1":"2");this._set("accelKey",_755);},_setTextDirAttr:function(_756){if(!this._created||this.textDir!=_756){this._set("textDir",_756);this.applyTextDir(this.focusNode,this.label);}}});});},"url:dijit/templates/MenuItem.html":"<tr class=\"dijitReset dijitMenuItem\" data-dojo-attach-point=\"focusNode\" role=\"menuitem\" tabIndex=\"-1\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitMenuItemIcon\" data-dojo-attach-point=\"iconNode\"/>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" data-dojo-attach-point=\"containerNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">\n\t\t<div data-dojo-attach-point=\"arrowWrapper\" style=\"visibility: hidden\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuExpand\"/>\n\t\t\t<span class=\"dijitMenuExpandA11y\">+</span>\n\t\t</div>\n\t</td>\n</tr>\n","url:dijit/templates/CheckedMenuItem.html":"<tr class=\"dijitReset dijitMenuItem\" data-dojo-attach-point=\"focusNode\" role=\"menuitemcheckbox\" tabIndex=\"-1\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuItemIcon dijitCheckedMenuItemIcon\" data-dojo-attach-point=\"iconNode\"/>\n\t\t<span class=\"dijitCheckedMenuItemIconChar\">&#10003;</span>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" data-dojo-attach-point=\"containerNode,labelNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">&#160;</td>\n</tr>\n","dijit/form/ComboButton":function(){require({cache:{"url:dijit/form/templates/ComboButton.html":"<table class=\"dijit dijitReset dijitInline dijitLeft\"\n\tcellspacing='0' cellpadding='0' role=\"presentation\"\n\t><tbody role=\"presentation\"><tr role=\"presentation\"\n\t\t><td class=\"dijitReset dijitStretch dijitButtonNode\" data-dojo-attach-point=\"buttonNode\" data-dojo-attach-event=\"ondijitclick:_onClick,onkeypress:_onButtonKeyPress\"\n\t\t><div id=\"${id}_button\" class=\"dijitReset dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"titleNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><div class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitInline dijitButtonText\" id=\"${id}_label\" data-dojo-attach-point=\"containerNode\" role=\"presentation\"></div\n\t\t></div\n\t\t></td\n\t\t><td id=\"${id}_arrow\" class='dijitReset dijitRight dijitButtonNode dijitArrowButton'\n\t\t\tdata-dojo-attach-point=\"_popupStateNode,focusNode,_buttonNode\"\n\t\t\tdata-dojo-attach-event=\"onkeypress:_onArrowKeyPress\"\n\t\t\ttitle=\"${optionsTitle}\"\n\t\t\trole=\"button\" aria-haspopup=\"true\"\n\t\t\t><div class=\"dijitReset dijitArrowButtonInner\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitArrowButtonChar\" role=\"presentation\">&#9660;</div\n\t\t></td\n\t\t><td style=\"display:none !important;\"\n\t\t\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" data-dojo-attach-point=\"valueNode\" role=\"presentation\"\n\t\t/></td></tr></tbody\n></table>\n"}});define("dijit/form/ComboButton",["dojo/_base/declare","dojo/_base/event","dojo/keys","../focus","./DropDownButton","dojo/text!./templates/ComboButton.html"],function(_757,_758,keys,_759,_75a,_75b){return _757("dijit.form.ComboButton",_75a,{templateString:_75b,_setIdAttr:"",_setTabIndexAttr:["focusNode","titleNode"],_setTitleAttr:"titleNode",optionsTitle:"",baseClass:"dijitComboButton",cssStateNodes:{"buttonNode":"dijitButtonNode","titleNode":"dijitButtonContents","_popupStateNode":"dijitDownArrowButton"},_focusedNode:null,_onButtonKeyPress:function(evt){if(evt.charOrCode==keys[this.isLeftToRight()?"RIGHT_ARROW":"LEFT_ARROW"]){_759.focus(this._popupStateNode);_758.stop(evt);}},_onArrowKeyPress:function(evt){if(evt.charOrCode==keys[this.isLeftToRight()?"LEFT_ARROW":"RIGHT_ARROW"]){_759.focus(this.titleNode);_758.stop(evt);}},focus:function(_75c){if(!this.disabled){_759.focus(_75c=="start"?this.titleNode:this._popupStateNode);}}});});},"url:dijit/form/templates/ComboButton.html":"<table class=\"dijit dijitReset dijitInline dijitLeft\"\n\tcellspacing='0' cellpadding='0' role=\"presentation\"\n\t><tbody role=\"presentation\"><tr role=\"presentation\"\n\t\t><td class=\"dijitReset dijitStretch dijitButtonNode\" data-dojo-attach-point=\"buttonNode\" data-dojo-attach-event=\"ondijitclick:_onClick,onkeypress:_onButtonKeyPress\"\n\t\t><div id=\"${id}_button\" class=\"dijitReset dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"titleNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><div class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitInline dijitButtonText\" id=\"${id}_label\" data-dojo-attach-point=\"containerNode\" role=\"presentation\"></div\n\t\t></div\n\t\t></td\n\t\t><td id=\"${id}_arrow\" class='dijitReset dijitRight dijitButtonNode dijitArrowButton'\n\t\t\tdata-dojo-attach-point=\"_popupStateNode,focusNode,_buttonNode\"\n\t\t\tdata-dojo-attach-event=\"onkeypress:_onArrowKeyPress\"\n\t\t\ttitle=\"${optionsTitle}\"\n\t\t\trole=\"button\" aria-haspopup=\"true\"\n\t\t\t><div class=\"dijitReset dijitArrowButtonInner\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitArrowButtonChar\" role=\"presentation\">&#9660;</div\n\t\t></td\n\t\t><td style=\"display:none !important;\"\n\t\t\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" data-dojo-attach-point=\"valueNode\" role=\"presentation\"\n\t\t/></td></tr></tbody\n></table>\n","dijit/form/RadioButton":function(){define("dijit/form/RadioButton",["dojo/_base/declare","./CheckBox","./_RadioButtonMixin"],function(_75d,_75e,_75f){return _75d("dijit.form.RadioButton",[_75e,_75f],{baseClass:"dijitRadio"});});},"dijit/form/CheckBox":function(){require({cache:{"url:dijit/form/templates/CheckBox.html":"<div class=\"dijit dijitReset dijitInline\" role=\"presentation\"\n\t><input\n\t \t${!nameAttrSetting} type=\"${type}\" role=\"${type}\" aria-checked=\"false\" ${checkedAttrSetting}\n\t\tclass=\"dijitReset dijitCheckBoxInput\"\n\t\tdata-dojo-attach-point=\"focusNode\"\n\t \tdata-dojo-attach-event=\"onclick:_onClick\"\n/></div>\n"}});define("dijit/form/CheckBox",["require","dojo/_base/declare","dojo/dom-attr","dojo/has","dojo/query","dojo/ready","./ToggleButton","./_CheckBoxMixin","dojo/text!./templates/CheckBox.html","dojo/NodeList-dom"],function(_760,_761,_762,has,_763,_764,_765,_766,_767){if(has("dijit-legacy-requires")){_764(0,function(){var _768=["dijit/form/RadioButton"];_760(_768);});}return _761("dijit.form.CheckBox",[_765,_766],{templateString:_767,baseClass:"dijitCheckBox",_setValueAttr:function(_769,_76a){if(typeof _769=="string"){this.inherited(arguments);_769=true;}if(this._created){this.set("checked",_769,_76a);}},_getValueAttr:function(){return (this.checked?this.value:false);},_setIconClassAttr:null,postMixInProperties:function(){this.inherited(arguments);this.checkedAttrSetting=this.checked?"checked":"";},_fillContent:function(){},_onFocus:function(){if(this.id){_763("label[for='"+this.id+"']").addClass("dijitFocusedLabel");}this.inherited(arguments);},_onBlur:function(){if(this.id){_763("label[for='"+this.id+"']").removeClass("dijitFocusedLabel");}this.inherited(arguments);}});});},"dijit/form/ToggleButton":function(){define("dijit/form/ToggleButton",["dojo/_base/declare","dojo/_base/kernel","./Button","./_ToggleButtonMixin"],function(_76b,_76c,_76d,_76e){return _76b("dijit.form.ToggleButton",[_76d,_76e],{baseClass:"dijitToggleButton",setChecked:function(_76f){_76c.deprecated("setChecked("+_76f+") is deprecated. Use set('checked',"+_76f+") instead.","","2.0");this.set("checked",_76f);}});});},"dijit/form/_ToggleButtonMixin":function(){define("dijit/form/_ToggleButtonMixin",["dojo/_base/declare","dojo/dom-attr"],function(_770,_771){return _770("dijit.form._ToggleButtonMixin",null,{checked:false,_aria_attr:"aria-pressed",_onClick:function(evt){var _772=this.checked;this._set("checked",!_772);var ret=this.inherited(arguments);this.set("checked",ret?this.checked:_772);return ret;},_setCheckedAttr:function(_773,_774){this._set("checked",_773);var node=this.focusNode||this.domNode;_771.set(node,"checked",!!_773);if(_773){node.setAttribute("checked","");}else{node.removeAttribute("checked");}node.setAttribute(this._aria_attr,String(_773));this._handleOnChange(_773,_774);},reset:function(){this._hasBeenBlurred=false;this.set("checked",this.params.checked||false);}});});},"dijit/form/_CheckBoxMixin":function(){define("dijit/form/_CheckBoxMixin",["dojo/_base/declare","dojo/dom-attr","dojo/_base/event"],function(_775,_776,_777){return _775("dijit.form._CheckBoxMixin",null,{type:"checkbox",value:"on",readOnly:false,_aria_attr:"aria-checked",_setReadOnlyAttr:function(_778){this._set("readOnly",_778);_776.set(this.focusNode,"readOnly",_778);},_setLabelAttr:undefined,_getSubmitValue:function(_779){return !_779&&_779!==0?"on":_779;},_setValueAttr:function(_77a){_77a=this._getSubmitValue(_77a);this._set("value",_77a);_776.set(this.focusNode,"value",_77a);},reset:function(){this.inherited(arguments);this._set("value",this.params.value||"on");_776.set(this.focusNode,"value",this.value);},_onClick:function(e){if(this.readOnly){_777.stop(e);return false;}return this.inherited(arguments);}});});},"url:dijit/form/templates/CheckBox.html":"<div class=\"dijit dijitReset dijitInline\" role=\"presentation\"\n\t><input\n\t \t${!nameAttrSetting} type=\"${type}\" role=\"${type}\" aria-checked=\"false\" ${checkedAttrSetting}\n\t\tclass=\"dijitReset dijitCheckBoxInput\"\n\t\tdata-dojo-attach-point=\"focusNode\"\n\t \tdata-dojo-attach-event=\"onclick:_onClick\"\n/></div>\n","dijit/form/_RadioButtonMixin":function(){define("dijit/form/_RadioButtonMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/_base/event","dojo/_base/lang","dojo/query","../registry"],function(_77b,_77c,_77d,_77e,lang,_77f,_780){return _77c("dijit.form._RadioButtonMixin",null,{type:"radio",_getRelatedWidgets:function(){var ary=[];_77f("input[type=radio]",this.focusNode.form||this.ownerDocument).forEach(lang.hitch(this,function(_781){if(_781.name==this.name&&_781.form==this.focusNode.form){var _782=_780.getEnclosingWidget(_781);if(_782){ary.push(_782);}}}));return ary;},_setCheckedAttr:function(_783){this.inherited(arguments);if(!this._created){return;}if(_783){_77b.forEach(this._getRelatedWidgets(),lang.hitch(this,function(_784){if(_784!=this&&_784.checked){_784.set("checked",false);}}));}},_getSubmitValue:function(_785){return _785===null?"on":_785;},_onClick:function(e){if(this.checked||this.disabled){_77e.stop(e);return false;}if(this.readOnly){_77e.stop(e);_77b.forEach(this._getRelatedWidgets(),lang.hitch(this,function(_786){_77d.set(this.focusNode||this.domNode,"checked",_786.checked);}));return false;}return this.inherited(arguments);}});});},"epi/shell/widget/PopupMenuItem":function(){define(["dojo/_base/declare","dijit/_Container","dijit/Menu","dijit/PopupMenuItem"],function(_787,_788,Menu,_789){return _787([_789,_788],{constructor:function(){this.popup=new Menu();},addChild:function(_78a,_78b){return this.popup.addChild(_78a,_78b);},getChildren:function(){return this.popup.getChildren();},removeChild:function(_78c){return this.popup.removeChild(_78c);}});});},"dijit/PopupMenuItem":function(){define("dijit/PopupMenuItem",["dojo/_base/declare","dojo/dom-style","dojo/query","./registry","./MenuItem","./hccss"],function(_78d,_78e,_78f,_790,_791){return _78d("dijit.PopupMenuItem",_791,{_fillContent:function(){if(this.srcNodeRef){var _792=_78f("*",this.srcNodeRef);this.inherited(arguments,[_792[0]]);this.dropDownContainer=this.srcNodeRef;}},startup:function(){if(this._started){return;}this.inherited(arguments);if(!this.popup){var node=_78f("[widgetId]",this.dropDownContainer)[0];this.popup=_790.byNode(node);}this.ownerDocumentBody.appendChild(this.popup.domNode);this.popup.startup();this.popup.domNode.style.display="none";if(this.arrowWrapper){_78e.set(this.arrowWrapper,"visibility","");}this.focusNode.setAttribute("aria-haspopup","true");},destroyDescendants:function(_793){if(this.popup){if(!this.popup._destroyed){this.popup.destroyRecursive(_793);}delete this.popup;}this.inherited(arguments);}});});},"epi/shell/widget/ToolbarLabel":function(){define(["dojo","dojo/dom-construct","dijit/_WidgetBase"],function(dojo,_794,_795){return dojo.declare([_795],{baseClass:"epi-breadCrumbsCurrentItem dijitInline",label:null,buildRendering:function(){if(!this.domNode){this.domNode=this.srcNodeRef||_794.create("h1");}this.inherited(arguments);},_setLabelAttr:{node:"domNode",type:"innerText"}});});},"epi/UriParser":function(){define("epi/UriParser",["dojo","epi"],function(dojo,epi){return dojo.declare(null,{constructor:function(uri){var ore=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$");var r=uri.match(ore);if(!this.scheme){this.scheme=r[2]||(r[1]?"":null);}if(!this.authority){this.authority=r[4]||(r[3]?"":null);}if(!this.path){this.path=r[5];}},getModuleArea:function(){return this.scheme.split(".")[1];},getStoreName:function(){return this.scheme.split(".")[2];},getType:function(){return this.scheme;},getId:function(){return this.path.substr(1);},toString:function(){return this.scheme+"://"+this.authority+this.path;}});});},"epi/shell/conversion/ObjectConverterRegistry":function(){define(["dojo/_base/array","dojo/_base/lang"],function(_796,lang){return {_converterMappings:{},clear:function(){this._converterMappings={};},registerConverter:function(_797,_798,_799){var _79a=this._converterMappings[_797];if(!_79a){_79a={};this._converterMappings[_797]=_79a;}_79a[_798]=_799;},getConverters:function(_79b){var _79c;if(lang.isArray(_79b)){_79c=_796.map(_79b,function(name){if(name in this._converterMappings){return this._converterMappings[name];}},this);_79c=_796.filter(_79c,function(item){return item!==undefined;},this);return _79c;}else{if(this._converterMappings[_79b]===undefined){return undefined;}return [this._converterMappings[_79b]];}},getConverter:function(_79d,_79e){var _79f=this.getConverters(_79d);var _7a0;if(_79f===undefined){return null;}_796.some(_79f,function(item,i){if((item[_79e])){_7a0=item[_79e];return true;}});return _7a0;}};});},"epi/shell/dnd/Target":function(){define(["dojo/_base/declare","dojo/dom-class","./Source"],function(_7a1,_7a2,_7a3){return _7a1([_7a3],{constructor:function(node,_7a4){this.isSource=false;_7a2.remove(this.node,"dojoDndSource");}});});},"epi/shell/dnd/Source":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/topic","dojo/dom-construct","dojo/dnd/Source","./_DndDataMixin"],function(_7a5,_7a6,lang,_7a7,_7a8,_7a9,_7aa){return _7a6([_7a9,_7aa],{alwaysCopy:true,createItemOnDrop:true,singular:true,generateText:false,_dummyDropItemContainer:null,readOnly:null,postscript:function(){this.inherited(arguments);if(!this.createItemOnDrop){this.parent=this._dummyDropItemContainer=_7a8.create("div");}},destroy:function(){if(this._dummyDropItemContainer){_7a8.destroy(this._dummyDropItemContainer);this._dummyDropItemContainer=null;}this.inherited(arguments);},checkAcceptance:function(_7ab,_7ac){if(this.readOnly){return false;}var _7ad=_7a5.map(_7ac,function(node){return _7ab.getItem(node.id);});return this._checkAcceptanceForItems(_7ad,this.accept);},getOrderedItems:function(){return _7a5.map(this.getAllNodes(),function(node){return this.getItem(node.id);},this);},onDndItemRemoved:function(_7ae,_7af,_7b0,copy,_7b1){},onDropData:function(_7b2,_7b3,_7b4,copy){},onDrop:function(_7b5,_7b6,copy){var _7b7=_7a5.map(_7b6,function(node){return this._getDndData(_7b5.getItem(node.id),this.accept,this===_7b5);},this);this.inherited(arguments,[_7b5,_7b6,this.alwaysCopy||copy]);if(!this.createItemOnDrop){_7a8.empty(this._dummyDropItemContainer);}this.onDropData(_7b7,_7b5,_7b6,this.alwaysCopy||copy);_7a7.publish("/epi/dnd/dropdata",_7b7,_7b5,_7b6,this.alwaysCopy||copy);}});});},"epi/shell/dnd/_DndDataMixin":function(){define(["dojo/_base/array","dojo/_base/declare","epi/dependency","epi/shell/conversion/ObjectConverterRegistry"],function(_7b8,_7b9,_7ba,_7bb){return _7b9(null,{_checkAcceptanceForItems:function(_7bc,_7bd){return _7b8.every(_7bc,function(item){return this._acceptsTypeWithoutConversion(item.type,_7bd)||this._converterExistsForAnyType(item.type,_7bd);},this);},_acceptsTypeWithoutConversion:function(_7be,_7bf){var flag=false;for(var j=0;j<_7be.length;++j){if(_7be[j] in _7bf){flag=true;break;}}return flag;},_converterExistsForAnyType:function(_7c0,_7c1){for(var type in _7c1){for(var j=0;j<_7c0.length;++j){if(_7bb.getConverter(_7c0[j],type)){return true;}}}return false;},_getDndData:function(item,_7c2,_7c3){if(!item||!item.data){return null;}var _7c4=null;var data=item.data.dndData||item.data;var _7c5=null;if(this._acceptsTypeWithoutConversion(item.type,_7c2)){_7c5={type:item.type,data:data,options:item.options};_7c4=_7c5;}else{for(var type in _7c2){var _7c6=_7bb.getConverter(item.type,type);if(_7c6){_7c5={type:[type]};_7c5.data=_7c6.convert(item.type,type,data);_7c5.options=item.options;_7c4=_7c5;break;}}}if(!_7c3){item.data.getNormalizedData=function(){return _7c5;};}return _7c4;}});});},"epi/shell/HashWrapper":function(){define("epi/shell/HashWrapper",["dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/cookie","dojo/io-query","dojo/hash","dojo/Stateful","epi/epi"],function(_7c7,_7c8,lang,_7c9,io,hash,_7ca,epi){return _7c8([_7ca],{encodeEnabled:false,_requestContext:true,_hashChanged:true,constructor:function(_7cb){if(_7cb){this.encodeEnabled=_7cb.encodeEnabled;}_7c7.subscribe("/dojo/hashchange",this,"_onHashChanged");},getHash:function(){var _7cc=hash();if(!_7cc){var _7cd=_7c9("epihash");if(_7cd){_7cc=hash(_7cd);}_7c9("epihash",null,{expires:-1,path:"/"});}return io.queryToObject(decodeURIComponent(_7cc));},setHash:function(_7ce){hash(this.encodeEnabled?encodeURIComponent(decodeURIComponent(io.objectToQuery(_7ce))):decodeURIComponent(io.objectToQuery(_7ce)));},hashEmpty:function(){return epi.isEmpty(this.getHash());},onHashChanged:function(ctx){},_hashAreEqual:function(_7cf,_7d0){if(!_7cf&&!_7d0){return true;}if(_7cf&&_7d0){return (_7cf.context===_7d0.context);}return false;},onContextChange:function(ctx,_7d1){this._onContextChange(ctx,_7d1);},extractHash:function(ctx,_7d2){var _7d3=this.getHash();var _7d4=this._getNewHash(ctx);var _7d5=this.hashEmpty()?_7d4:lang.mixin(_7d3,_7d4);return this.encodeEnabled?encodeURIComponent(decodeURIComponent(io.objectToQuery(_7d5))):decodeURIComponent(io.objectToQuery(_7d5));},_onContextChange:function(ctx,_7d6){var _7d7=this.getHash();var _7d8=this._getNewHash(ctx);if(!this._hashAreEqual(_7d7,_7d8)){if(!_7d6||_7d6.sender!=this){this._requestContext=false;hash(this.extractHash(ctx,_7d6));}this.onHashChanged(ctx);}else{if(this._hashChanged){this.onHashChanged(ctx);}}this._hashChanged=false;},_getNewHash:function(ctx){return {context:ctx.requestedUri||ctx.versionAgnosticUri||ctx.uri};},_onHashChanged:function(_7d9){if(this._requestContext){this._hashChanged=true;var _7da=io.queryToObject(decodeURIComponent(_7d9));if(_7da&&_7da.context){var _7db={uri:_7da.context};_7c7.publish("/epi/shell/context/request",[_7db,{sender:this}]);}}this._requestContext=true;}});});},"dojo/cookie":function(){define("dojo/cookie",["./_base/kernel","./regexp"],function(dojo,_7dc){dojo.cookie=function(name,_7dd,_7de){var c=document.cookie,ret;if(arguments.length==1){var _7df=c.match(new RegExp("(?:^|; )"+_7dc.escapeString(name)+"=([^;]*)"));ret=_7df?decodeURIComponent(_7df[1]):undefined;}else{_7de=_7de||{};var exp=_7de.expires;if(typeof exp=="number"){var d=new Date();d.setTime(d.getTime()+exp*24*60*60*1000);exp=_7de.expires=d;}if(exp&&exp.toUTCString){_7de.expires=exp.toUTCString();}_7dd=encodeURIComponent(_7dd);var _7e0=name+"="+_7dd,_7e1;for(_7e1 in _7de){_7e0+="; "+_7e1;var _7e2=_7de[_7e1];if(_7e2!==true){_7e0+="="+_7e2;}}document.cookie=_7e0;}return ret;};dojo.cookie.isSupported=function(){if(!("cookieEnabled" in navigator)){this("__djCookieTest__","CookiesAllowed");navigator.cookieEnabled=this("__djCookieTest__")=="CookiesAllowed";if(navigator.cookieEnabled){this("__djCookieTest__","",{expires:-1});}}return navigator.cookieEnabled;};return dojo.cookie;});},"dojo/hash":function(){define("dojo/hash",["./_base/kernel","require","./_base/config","./_base/connect","./_base/lang","./ready","./sniff"],function(dojo,_7e3,_7e4,_7e5,lang,_7e6,has){dojo.hash=function(hash,_7e7){if(!arguments.length){return _7e8();}if(hash.charAt(0)=="#"){hash=hash.substring(1);}if(_7e7){_7e9(hash);}else{location.href="#"+hash;}return hash;};var _7ea,_7eb,_7ec,_7ed=_7e4.hashPollFrequency||100;function _7ee(str,_7ef){var i=str.indexOf(_7ef);return (i>=0)?str.substring(i+1):"";};function _7e8(){return _7ee(location.href,"#");};function _7f0(){_7e5.publish("/dojo/hashchange",[_7e8()]);};function _7f1(){if(_7e8()===_7ea){return;}_7ea=_7e8();_7f0();};function _7e9(hash){if(_7eb){if(_7eb.isTransitioning()){setTimeout(lang.hitch(null,_7e9,hash),_7ed);return;}var href=_7eb.iframe.location.href;var _7f2=href.indexOf("?");_7eb.iframe.location.replace(href.substring(0,_7f2)+"?"+hash);return;}location.replace("#"+hash);!_7ec&&_7f1();};function _7f3(){var ifr=document.createElement("iframe"),_7f4="dojo-hash-iframe",_7f5=_7e4.dojoBlankHtmlUrl||_7e3.toUrl("./resources/blank.html");if(_7e4.useXDomain&&!_7e4.dojoBlankHtmlUrl){}ifr.id=_7f4;ifr.src=_7f5+"?"+_7e8();ifr.style.display="none";document.body.appendChild(ifr);this.iframe=dojo.global[_7f4];var _7f6,_7f7,_7f8,_7f9,_7fa,_7fb=this.iframe.location;function _7fc(){_7ea=_7e8();_7f6=_7fa?_7ea:_7ee(_7fb.href,"?");_7f7=false;_7f8=null;};this.isTransitioning=function(){return _7f7;};this.pollLocation=function(){if(!_7fa){try{var _7fd=_7ee(_7fb.href,"?");if(document.title!=_7f9){_7f9=this.iframe.document.title=document.title;}}catch(e){_7fa=true;console.error("dojo.hash: Error adding history entry. Server unreachable.");}}var hash=_7e8();if(_7f7&&_7ea===hash){if(_7fa||_7fd===_7f8){_7fc();_7f0();}else{setTimeout(lang.hitch(this,this.pollLocation),0);return;}}else{if(_7ea===hash&&(_7fa||_7f6===_7fd)){}else{if(_7ea!==hash){_7ea=hash;_7f7=true;_7f8=hash;ifr.src=_7f5+"?"+_7f8;_7fa=false;setTimeout(lang.hitch(this,this.pollLocation),0);return;}else{if(!_7fa){location.href="#"+_7fb.search.substring(1);_7fc();_7f0();}}}}setTimeout(lang.hitch(this,this.pollLocation),_7ed);};_7fc();setTimeout(lang.hitch(this,this.pollLocation),_7ed);};_7e6(function(){if("onhashchange" in dojo.global&&(!has("ie")||(has("ie")>=8&&document.compatMode!="BackCompat"))){_7ec=_7e5.connect(dojo.global,"onhashchange",_7f0);}else{if(document.addEventListener){_7ea=_7e8();setInterval(_7f1,_7ed);}else{if(document.attachEvent){_7eb=new _7f3();}}}});return dojo.hash;});},"epi/shell/layout/GroupContainer":function(){define(["dojo/_base/declare","dojo/dom-style","epi/shell/layout/SimpleContainer"],function(_7fe,_7ff,_800){return _7fe([_800],{templateString:"<div class='epi-containerLayout clearfix'>                            <h3 data-dojo-attach-point='labelNode'>${label}</h3>                            <ul data-dojo-attach-point='containerNode'></ul>                        </div>",postMixInProperties:function(){this.inherited(arguments);this.label=this.title;delete this.title;},postCreate:function(){this.inherited(arguments);if(!this.label&&this.labelNode){_7ff.set(this.labelNode,"display","none");}}});});},"epi/shell/layout/SimpleContainer":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dijit/_WidgetBase","dijit/_Container","dijit/_Contained","dijit/_TemplatedMixin","dijit/layout/_LayoutWidget","dijit/form/_FormWidget","epi/shell/widget/CheckBox"],function(_801,_802,lang,_803,_804,_805,_806,_807,_808,_809,_80a,_80b,_80c){var _80d=_802([_806,_807,_808,_809],{templateString:"<li class='epi-parentContainer'><div class='epi-formsWidgetWrapper' data-dojo-attach-point='containerNode'></div></li>"});var _80e=_802([_806,_807,_808,_809],{templateString:"<li><div class='epi-formsWidgetWrapper' data-dojo-attach-point='containerNode'></div></li>"});return _802([_80a,_809],{templateString:"<div class=\"epi-containerLayout clearfix\"><ul data-dojo-attach-point=\"containerNode\"></ul></div>",_FieldItem:_802([_806,_807,_808,_809],{templateString:"<li class='epi-formsRow' data-dojo-attach-point='containerNodeWrapper'>                            <label for='${labelTarget}' title='${tooltip}'>                                <span class='dijitInline dijitReset dijitIcon epi-iconPenDisabled' data-dojo-attach-point='readonlyIcon'></span>${label}                            </label>                            <div class='epi-formsWidgetWrapper' data-dojo-attach-point='containerNode'></div>                        </li>",_setReadonlyIconDisplayAttr:function(_80f){_805.set(this.readonlyIcon,"display",_80f===true?"":"none");},_setHasFullWidthValueAttr:function(_810){if(_810){_803.add(this.containerNodeWrapper,"epi-formsRow--fullWidthValue");}}}),_HiddenFieldItem:_802([_806,_807,_808,_809],{templateString:"<li class='epi-formsRow'><div class='epi-formsWidgetWrapper' data-dojo-attach-point='containerNode'></div></li>"}),addChild:function(_811){var _812;switch(_811._type){case "field":_812=new this._FieldItem({labelTarget:_811.checkbox?_811.checkbox.id:_811.id,label:_811.label,tooltip:_811.tooltip,readonlyIconDisplay:_811.readOnly,hasFullWidthValue:_811.useFullWidth});this.own(_811.watch("readOnly",function(name,_813,_814){_812.set("readonlyIconDisplay",_814);}));break;case "hiddenfield":_812=new this._HiddenFieldItem();break;case "parent":_812=new _80d();break;case "group":_812=new _80e();break;}this._addChildToWrapper(_812,_811);this.own(_812);return this.inherited(arguments,[_812]);},_addChildToWrapper:function(_815,_816){_815.addChild(_816);},layout:function(){_801.forEach(this.getChildren(),function(_817){var _818=_817.getChildren()[0];if(_818&&_818.resize){_818.resize();}});}});});},"epi/shell/widget/CheckBox":function(){define(["dojo/_base/declare","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/form/CheckBox"],function(_819,_81a,_81b,_81c){return _819([_81a,_81b,_81c],{templateString:"<div class=\"dijit dijitReset dijitInline\"><input data-dojo-type=\"dijit/form/CheckBox\" data-dojo-attach-point=\"checkbox\" data-dojo-attach-event=\"onChange: _onChange\"></div>",value:null,_setValueAttr:function(_81d){this.value=_81d;this.checkbox.set("checked",_81d);},_setReadOnlyAttr:function(_81e){this.checkbox.set("readOnly",_81e);},_getReadOnlyAttr:function(){return this.checkbox.set("readOnly");},_getValueAttr:function(){return this.checkbox.get("checked");},_onChange:function(_81f){this.value=_81f;this.onChange(_81f);},onChange:function(_820){}});});},"epi/shell/layout/ParentContainer":function(){define(["dojo/_base/declare","epi/shell/layout/GroupContainer"],function(_821,_822){return _821([_822],{templateString:"<div class='epi-containerLayout clearfix'>                            <h2>${label}</h2>                            <ul data-dojo-attach-point='containerNode'></ul>                        </div>"});});},"epi/shell/layout/PinnablePane":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/event","dojo/_base/lang","dojo/_base/window","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/topic","dojo/when","dojo/text!./templates/PinnablePane.html","dijit/_Contained","dijit/_Container","dijit/_TemplatedMixin","dijit/layout/ContentPane","epi/dependency","epi/i18n!epi/shell/ui/nls/episerver.shell.ui.resources","epi/shell/layout/PinnablePaneSplitter","epi/shell/widget/_ActionConsumerWidget","epi/shell/widget/_ActionProvider","epi/shell/widget/ToolbarSet"],function(_823,_824,_825,lang,win,_826,_827,_828,_829,when,_82a,_82b,_82c,_82d,_82e,_82f,_830,_831,_832,_833,_834){return _824([_82e,_82d,_82b,_82c,_832],{pinned:false,visible:false,templateString:_82a,baseClass:"epi-pinnable",postMixInProperties:function(){var _835=_82f.resolve("epi.shell.Profile");this.inherited(arguments);when(_835.get(this.id),lang.hitch(this,function(_836){if(_836){this.pinned=_836.pinned;this.visible=_836.visible;this.size=_836.size;}}));this._profile=_835;},buildRendering:function(){this.inherited(arguments);var _837=new _834({baseClass:"epi-pinnableToolbar"},this.toolbarNode);this.own(_837);this.set("definitionConsumer",_837);_828.set(this.containerNode,"width",(this.size||this.minSize)+"px");if(!this.pinned){this.set("pinned",this.pinned);}if(!this.visible){this.set("visible",this.visible);}},postCreate:function(){var _838="",ltr=this.isLeftToRight(),_839=function(){if(this.visible){this._dragging=true;}},_83a=function(){this._dragging=false;};this.inherited(arguments);if(this.region){switch(this.region){case "trailing":case "right":_838=ltr?"right":"left";break;case "leading":case "left":_838=ltr?"left":"right";break;case "top":_838="top";break;case "bottom":_838="bottom";break;}_826.add(this.domNode,this.baseClass+"-"+_838);}this.subscribe("/epi/layout/pinnable/"+this.id+"/toggle",function(_83b){if(typeof _83b!=="boolean"){_83b=!this.visible;}this.set("visible",_83b);});this.subscribe("/dnd/start",_839);this.subscribe("/dnd/drop",_83a);this.subscribe("/dnd/cancel",_83a);},startup:function(){var _83c=this._splitterWidget;if(this._started){return;}_823.forEach(this.getChildren(),function(_83d){if(_83d.isInstanceOf(_833)){this.addProvider(_83d);}},this);this.inherited(arguments);this._container=this.getParent();if(this.splitter&&_83c){_83c=_831(_83c);if(!this.pinned){_83c.hide();}this.connect(_83c,"_stopDrag",this.persist);}this._refreshState();},resize:function(_83e){var pos=this.region,_83f=this.visible&&this.pinned,_840=_827.getMarginBox(this.domNode),_841=_827.getMarginBox(this.containerNode),_842={},_843={t:_840.t},_844=pos=="left"||pos=="leading",_845=pos=="right"||pos=="trailing";if(!this._toolbarHeight){this._toolbarHeight=_827.getMarginBox(this.definitionConsumer.domNode).h;}_827.setMarginBox(this.domNode,{w:_83f?_841.w:0});if(_83e){if(_83e.w){_842.w=_841.w=_83e.w;if(!this.pinned){delete _83e.w;}}if(_83e.h){_840.h=_83e.h;}}var _846=this._computeMaxSize();if(this._visibilityChanged&&_846<_841.w){_842.w=_841.w=_846;}_842.h=_840.h-this._toolbarHeight;_827.setMarginBox(this.containerNode,_842);if(_844){_843.l=_840.l;}else{if(_845){_843.l=_83f?0:0-_841.w;}}_827.setMarginBox(this.pinnableNode,_843);if(this._splitterWidget){var _847=_827.getMarginBox(this._splitterWidget.domNode),_848={t:_840.t};if(_844){_848.l=_841.w;}else{if(_845){_848.l=_83f?_840.l-_847.w:_840.l-_841.w;}}_827.setMarginBox(this._splitterWidget.domNode,_848);}this.inherited(arguments);},persist:function(){var _849={pinned:this.pinned,visible:this.visible,size:_828.get(this.containerNode,"width")};this._profile.set(this.id,_849);},getActions:function(){var _84a=this.inherited(arguments),_84b=/left|leading/.test(this.region),pin={name:"pin",widgetType:"dijit.form.ToggleButton",title:this._getPinTitle(),iconClass:"epi-iconPin",settings:{showLabel:false,"class":"epi-chromelessButton",checked:this.pinned,region:_84b?"trailing":"leading"},action:lang.hitch(this,this._togglePinned)},_84c={name:"settings",title:_830.gadgetchrome.settingsmenutooltip,type:"dropdown",iconClass:"epi-iconSettings",settings:{showLabel:false,"class":"epi-chromelessButton",dropDownPosition:_84b?["below-alt"]:["below"],region:_84b?"trailing":"leading"}};_84a.splice(0,0,_84c);_84a.splice(_84b?_84a.length:0,0,pin);return _84a;},_setPinnedAttr:function(_84d){this._set("pinned",_84d);_826.toggle(this.pinnableNode,this.baseClass+"-pinned",_84d);_826.toggle(this.pinnableNode,this.baseClass+"-unpinned",!_84d);_828.set(this.pinnableNode,"position",_84d?"relative":"absolute");this.definitionConsumer.setItemProperty("pin","title",this._getPinTitle());if(this._started){this._refreshState();}if(!this.pinned){this.set("visible",false);}},_setVisibleAttr:function(_84e){this._set("visible",_84e);_828.set(this.pinnableNode,"display",_84e?"block":"none");if(this._splitterWidget){(_84e)?this._splitterWidget.show():this._splitterWidget.hide();}if(this._started){this._visibilityChanged=true;this._refreshState();this._visibilityChanged=false;}},_togglePinned:function(){this.set("pinned",!this.pinned);},_refreshState:function(){this._disconnectUnpinnedEvents();if(this.visible&&!this.pinned){this._connectUnpinnedEvents();}this._container.layout();this.resize();this.persist();_829.publish("/epi/layout/pinnable/"+this.id+"/visibilitychanged",this.visible);},_connectUnpinnedEvents:function(){this._unpinnedEvents=[this.connect(this.domNode,"onmousedown",_825.stop),this.connect(this._container.domNode,"onmousedown",lang.hitch(this,this.set,"visible",false)),this.connect(win.global,"onresize",lang.hitch(this,this.set,"visible",false)),this.connect(this.domNode,"onmouseover",_825.stop),this.connect(this._container.domNode,"onmouseover",function(){if(this._dragging){this.set("visible",false);}}),_829.subscribe("/epi/shell/action/changeview",lang.hitch(this,this.set,"visible",false))];},_disconnectUnpinnedEvents:function(){_823.forEach(this._unpinnedEvents,this.disconnect);},_computeMaxSize:function(){var _84f=_827.getMarginBox(this.domNode).w,_850=_823.filter(this._container.getChildren(),function(_851){return _851.region=="center";})[0],_852=_827.getMarginBox(_850.domNode).w;return Math.min(this.maxSize,_84f+_852);},_getPinTitle:function(){return this.pinned?_830.pinnablepane.unpin:_830.pinnablepane.pin;}});});},"url:epi/shell/layout/templates/PinnablePane.html":"<div class=\"epi-pinnableDock\">\r\n    <div class=\"epi-pinnableFacade\">\r\n        <div class=\"epi-pinnablePane\" data-dojo-attach-point=\"pinnableNode\">\r\n            <div data-dojo-attach-point=\"toolbarNode\"></div>\r\n            <div class=\"epi-pinnableContentWrapper\">\r\n                <div class=\"epi-pinnableContent\" data-dojo-attach-point=\"containerNode\"></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n","epi/shell/layout/PinnablePaneSplitter":function(){define(["dojo","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/on","dojo/touch"],function(dojo,_853,_854,_855,_856,on,_857){var _858=dojo.getObject("epi.shell.layout",true);_858.PinnablePaneSplitter=function(_859){return dojo.mixin(_859,{_startDrag:function(e){if(!this.cover){this.cover=dojo.doc.createElement("div");_853.add(this.cover,"dijitSplitterCover");_854.place(this.cover,this.child.domNode,"after");}_853.add(this.cover,"dijitSplitterCoverActive");if(this.fake){_854.destroy(this.fake);}if(!(this._resize=this.live)){(this.fake=this.domNode.cloneNode(true)).removeAttribute("id");_853.add(this.domNode,"dijitSplitterShadow");_854.place(this.fake,this.domNode,"after");}_853.add(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active");if(this.fake){_853.remove(this.fake,"dijitSplitterHover dijitSplitter"+(this.horizontal?"H":"V")+"Hover");}var _85a=this._factor,_85b=this.horizontal,axis=_85b?"pageY":"pageX",_85c=e[axis],_85d=this.domNode.style,dim=_85b?"h":"w",_85e=_855.getMarginBox(this.child.containerNode)[dim],max=this._computeMaxSize(),min=this.child.minSize||20,_85f=this.region,_860=_85f=="top"||_85f=="bottom"?"top":"left",_861=parseInt(_85d[_860],10),_862=dojo.hitch(this.child,"resize"),_863=dojo.hitch(this.container,"_layoutChildren",this.child.id),de=dojo.doc,_864=this.child.pinned;this._handlers=this._handlers.concat([on(de,_857.move,this._drag=function(e,_865){var _866=e[axis]-_85c,_867=_85a*_866+_85e,_868=Math.max(Math.min(_867,max),min);if(this.live||_865){_864?_863(_868):_862({w:_868});}_85d[_860]=_866+_861+_85a*(_868-_867)+"px";}),on(de,"dragstart",dojo.stopEvent),on(dojo.body(),"selectstart",dojo.stopEvent),on(de,_857.release,dojo.hitch(this,"_stopDrag"))]);dojo.stopEvent(e);},show:function(){_856.set(this.domNode,{display:"",margin:""});},hide:function(){_856.set(this.domNode,{display:"none",margin:"0"});}});};return _858.PinnablePaneSplitter;});},"epi/shell/widget/_ActionProvider":function(){define(["dojo","dojo/_base/array","dojo/_base/kernel","epi/shell/widget/_ActionProviderBase"],function(dojo,_869,_86a,_86b){return dojo.declare([_86b],{_actions:null,constructor:function(){_86a.deprecated("epi/shell/widget/_ActionProvider","use the command pattern with epi/shell/command/_CommandProviderMixin instead");this._actions=[];},getActions:function(){return this._actions.concat();},hasAction:function(_86c){return _869.some(this._actions,function(_86d){return _86d.name==_86c;});},setActionProperty:function(_86e,_86f,_870){var _871=typeof _86e=="string"?_86e:_86e.name;for(var i=0;i<this._actions.length;i++){var _872=this._actions[i];if(_872.name===_871){_872[_86f]=_870;this.onActionPropertyChanged(_872,_86f,_870);return;}}throw new Error("No action registered with the name: "+_871);},addActions:function(_873){if(dojo.isArray(_873)){dojo.forEach(_873,this._addAction,this);}else{this._addAction(_873);}},removeActions:function(_874){if(dojo.isArray(_874)){dojo.forEach(_874,this._removeAction,this);}else{this._removeAction(_874);}},_removeAction:function(_875){for(var i=0;i<this._actions.length;i++){if(this._actions[i].name==_875.name){this.onActionRemoved(this._actions.splice(i,1)[0]);}}},_addAction:function(_876){if(dojo.some(this._actions,function(_877){return _877.name===_876.name;})){throw new Error("An action named '"+_876.name+"' is already registered");}this._actions.push(_876);this.onActionAdded(_876);}});});},"epi/shell/layout/PositioningUtility":function(){define(["dojo","epi"],function(dojo,epi){return dojo.declare(null,{_margin:10,constructor:function(){},place:function(_878,_879){var node=this._getNode(_878);var pos=this.findPosition(node,_879);dojo.style(node,{position:"absolute",top:pos.y+"px",left:pos.x+"px"});},findPosition:function(_87a,_87b){var _87c=this._getNode(_87a);var _87d=this._getPosition(_87c);var _87e=dojo.window.getBox();if(_87b.padding){_87d.w+=_87b.padding.w;_87d.h+=_87b.padding.h;}var _87f=this._getNode(_87b.snapTo);var _880=this._getPosition(_87b.snapTo);var _881=_87b.frame||{x:0,y:0,w:_87e.w,h:_87e.h};if(_87b.frame==null&&_87c!=null&&_87f!=null){var _882="defaultView" in _87f.ownerDocument?_87f.ownerDocument.defaultView:_87f.ownerDocument.parentWindow;var _883="defaultView" in _87c.ownerDocument?_87c.ownerDocument.defaultView:_87c.ownerDocument.parentWindow;_881=this._getFramePosition(_882,_883);}_880=this._getVisiblePosition(_880,_881);return this._executeTransformers(_87d,_880,_87e)||this._fallbackTransformer(_87d,_880,_87e);},_getVisiblePosition:function(_884,_885){var _886=dojo.clone(_884);if(_885.w>0&&_886.x+_886.w>_885.w){_886.w=_885.w-_886.x;}if(_885.h>0&&_886.y+_886.h>_885.h){_886.h=_885.h-_886.y;}_886.x+=_885.x;_886.y+=_885.y;if(_886.y<_885.y){_886.h=_886.h-_885.y+_886.y;_886.y=_885.y;}if(_886.x<_885.x){_886.w=_886.w-_885.x+_886.x;_886.x=_885.x;}return _886;},_getFramePosition:function(_887,_888){if(_887.parent!==_887){var _889=_887.parent.document.getElementsByTagName("iframe");for(var i in _889){if(_889[i].contentWindow===_887){var _88a=dojo.position(_889[i]);if(_887.parent===_888){return _88a;}var _88b=this._getFramePosition(_887.parent,_888);return {x:_88a.x+_88b.x,y:_88a.y+_88b.y,w:_88a.w,h:_88a.h};}}}return {x:0,y:0,w:0,h:0};},_executeTransformers:function(pos,_88c,_88d){for(var i in this._transformers){var _88e=this._transformers[i].call(this,pos,_88c,_88d);_88e=this._moveIntoViewport(_88e,_88d);if(this._isInside(_88e,_88d)&&this._isOutside(_88e,_88c)){return _88e;}}return null;},_getNode:function(_88f){if(typeof _88f==="string"){return dojo.byId(_88f);}var node=_88f;if(node&&node.domNode){return node.domNode;}return node;},_getPosition:function(_890){if(typeof _890=="undefined"||_890===null){return {x:0,y:0,w:0,h:0};}var pos=_890;if(typeof pos.x!=="undefined"&&typeof pos.y!=="undefined"){return pos;}var node=this._getNode(_890);if(!node){return {x:0,y:0,w:0,h:0};}return dojo.position(node,false);},_moveIntoViewport:function(_891,_892){return {x:Math.min(_892.w-_891.w-this._margin,Math.max(this._margin,_891.x)),y:Math.min(_892.h-_891.h-this._margin,Math.max(this._margin,_891.y)),w:_891.w,h:_891.h};},_isInside:function(_893,_894){return _893.x>0&&_893.y>0&&_893.x+_893.w<_894.w&&_893.y+_893.h<_894.h;},_isOutside:function(_895,_896){return _895.x>_896.x+_896.w||_895.y>_896.y+_896.h||_895.x+_895.w<_896.x||_895.y+_895.h<_896.y;},_transformers:[function(_897,_898,_899){return {x:_898.x+_898.w+this._margin,y:_898.y,w:_897.w,h:_897.h};},function(_89a,_89b,_89c){return {x:_89b.x+(_89b.w/2-_89a.w/2),y:_89b.y+_89b.h+this._margin,w:_89a.w,h:_89a.h};},function(_89d,_89e,_89f){return {x:_89e.x-_89d.w-this._margin,y:_89e.y,w:_89d.w,h:_89d.h};},function(_8a0,_8a1,_8a2){return {x:_8a1.x+(_8a1.w/2-_8a0.w/2),y:_8a1.y-_8a0.h-this._margin,w:_8a0.w,h:_8a0.h};}],_fallbackTransformer:function(_8a3,_8a4,_8a5){return {x:(_8a5.w-_8a3.w-this._margin),y:10};}});});},"epi/shell/MessageService":function(){define("epi/shell/MessageService",["dojo","dojo/store/Memory","dojo/store/Observable"],function(dojo,_8a6,_8a7){return dojo.declare(null,{_store:null,_idIndex:0,constructor:function(_8a8){dojo.mixin(this,_8a8);var _8a9=new _8a6({idAttribute:"id",data:[]});this._store=new _8a7(_8a9);},put:function(_8aa,_8ab,_8ac,_8ad,_8ae,_8af){return this._store.put({id:++this._idIndex,typeName:_8aa,message:_8ab,contextTypeName:_8ac,contextId:_8ad,externalItemId:_8ae,externalItemData:_8af});},query:function(_8b0){return this._store.query(_8b0);},observe:function(_8b1,_8b2){return this.query(_8b1).observe(_8b2);},remove:function(_8b3){var _8b4=this.query(_8b3);_8b4.forEach(dojo.hitch(this,function(item){this._store.remove(item.id);}));return _8b4;}});});},"dojo/store/Memory":function(){define("dojo/store/Memory",["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(_8b5,_8b6,_8b7){var base=null;return _8b5("dojo.store.Memory",base,{constructor:function(_8b8){for(var i in _8b8){this[i]=_8b8[i];}this.setData(this.data||[]);},data:null,idProperty:"id",index:null,queryEngine:_8b7,get:function(id){return this.data[this.index[id]];},getIdentity:function(_8b9){return _8b9[this.idProperty];},put:function(_8ba,_8bb){var data=this.data,_8bc=this.index,_8bd=this.idProperty;var id=_8ba[_8bd]=(_8bb&&"id" in _8bb)?_8bb.id:_8bd in _8ba?_8ba[_8bd]:Math.random();if(id in _8bc){if(_8bb&&_8bb.overwrite===false){throw new Error("Object already exists");}data[_8bc[id]]=_8ba;}else{_8bc[id]=data.push(_8ba)-1;}return id;},add:function(_8be,_8bf){(_8bf=_8bf||{}).overwrite=false;return this.put(_8be,_8bf);},remove:function(id){var _8c0=this.index;var data=this.data;if(id in _8c0){data.splice(_8c0[id],1);this.setData(data);return true;}},query:function(_8c1,_8c2){return _8b6(this.queryEngine(_8c1,_8c2)(this.data));},setData:function(data){if(data.items){this.idProperty=data.identifier;data=this.data=data.items;}else{this.data=data;}this.index={};for(var i=0,l=data.length;i<l;i++){this.index[data[i][this.idProperty]]=i;}}});});},"dojo/store/util/QueryResults":function(){define("dojo/store/util/QueryResults",["../../_base/array","../../_base/lang","../../_base/Deferred"],function(_8c3,lang,_8c4){var _8c5=function(_8c6){if(!_8c6){return _8c6;}if(_8c6.then){_8c6=lang.delegate(_8c6);}function _8c7(_8c8){if(!_8c6[_8c8]){_8c6[_8c8]=function(){var args=arguments;return _8c4.when(_8c6,function(_8c9){Array.prototype.unshift.call(args,_8c9);return _8c5(_8c3[_8c8].apply(_8c3,args));});};}};_8c7("forEach");_8c7("filter");_8c7("map");if(!_8c6.total){_8c6.total=_8c4.when(_8c6,function(_8ca){return _8ca.length;});}return _8c6;};lang.setObject("dojo.store.util.QueryResults",_8c5);return _8c5;});},"dojo/store/util/SimpleQueryEngine":function(){define("dojo/store/util/SimpleQueryEngine",["../../_base/array"],function(_8cb){return function(_8cc,_8cd){switch(typeof _8cc){default:throw new Error("Can not query with a "+typeof _8cc);case "object":case "undefined":var _8ce=_8cc;_8cc=function(_8cf){for(var key in _8ce){var _8d0=_8ce[key];if(_8d0&&_8d0.test){if(!_8d0.test(_8cf[key],_8cf)){return false;}}else{if(_8d0!=_8cf[key]){return false;}}}return true;};break;case "string":if(!this[_8cc]){throw new Error("No filter function "+_8cc+" was found in store");}_8cc=this[_8cc];case "function":}function _8d1(_8d2){var _8d3=_8cb.filter(_8d2,_8cc);var _8d4=_8cd&&_8cd.sort;if(_8d4){_8d3.sort(typeof _8d4=="function"?_8d4:function(a,b){for(var sort,i=0;sort=_8d4[i];i++){var _8d5=a[sort.attribute];var _8d6=b[sort.attribute];if(_8d5!=_8d6){return !!sort.descending==(_8d5==null||_8d5>_8d6)?-1:1;}}return 0;});}if(_8cd&&(_8cd.start||_8cd.count)){var _8d7=_8d3.length;_8d3=_8d3.slice(_8cd.start||0,(_8cd.start||0)+(_8cd.count||Infinity));_8d3.total=_8d7;}return _8d3;};_8d1.matches=_8cc;return _8d1;};});},"dojo/store/Observable":function(){define("dojo/store/Observable",["../_base/kernel","../_base/lang","../_base/Deferred","../_base/array"],function(_8d8,lang,_8d9,_8da){var _8db=function(_8dc){var _8dd,_8de=[],_8df=0;_8dc=lang.delegate(_8dc);_8dc.notify=function(_8e0,_8e1){_8df++;var _8e2=_8de.slice();for(var i=0,l=_8e2.length;i<l;i++){_8e2[i](_8e0,_8e1);}};var _8e3=_8dc.query;_8dc.query=function(_8e4,_8e5){_8e5=_8e5||{};var _8e6=_8e3.apply(this,arguments);if(_8e6&&_8e6.forEach){var _8e7=lang.mixin({},_8e5);delete _8e7.start;delete _8e7.count;var _8e8=_8dc.queryEngine&&_8dc.queryEngine(_8e4,_8e7);var _8e9=_8df;var _8ea=[],_8eb;_8e6.observe=function(_8ec,_8ed){if(_8ea.push(_8ec)==1){_8de.push(_8eb=function(_8ee,_8ef){_8d9.when(_8e6,function(_8f0){var _8f1=_8f0.length!=_8e5.count;var i,l,_8ec;if(++_8e9!=_8df){throw new Error("Query is out of date, you must observe() the query prior to any data modifications");}var _8f2,_8f3=-1,_8f4=-1;if(_8ef!==_8dd){for(i=0,l=_8f0.length;i<l;i++){var _8f5=_8f0[i];if(_8dc.getIdentity(_8f5)==_8ef){_8f2=_8f5;_8f3=i;if(_8e8||!_8ee){_8f0.splice(i,1);}break;}}}if(_8e8){if(_8ee&&(_8e8.matches?_8e8.matches(_8ee):_8e8([_8ee]).length)){var _8f6=_8f3>-1?_8f3:_8f0.length;_8f0.splice(_8f6,0,_8ee);_8f4=_8da.indexOf(_8e8(_8f0),_8ee);_8f0.splice(_8f6,1);if((_8e5.start&&_8f4==0)||(!_8f1&&_8f4==_8f0.length)){_8f4=-1;}else{_8f0.splice(_8f4,0,_8ee);}}}else{if(_8ee){if(_8ef!==_8dd){_8f4=_8f3;}else{if(!_8e5.start){_8f4=_8dc.defaultIndex||0;_8f0.splice(_8f4,0,_8ee);}}}}if((_8f3>-1||_8f4>-1)&&(_8ed||!_8e8||(_8f3!=_8f4))){var _8f7=_8ea.slice();for(i=0;_8ec=_8f7[i];i++){_8ec(_8ee||_8f2,_8f3,_8f4);}}});});}var _8f8={};_8f8.remove=_8f8.cancel=function(){var _8f9=_8da.indexOf(_8ea,_8ec);if(_8f9>-1){_8ea.splice(_8f9,1);if(!_8ea.length){_8de.splice(_8da.indexOf(_8de,_8eb),1);}}};return _8f8;};}return _8e6;};var _8fa;function _8fb(_8fc,_8fd){var _8fe=_8dc[_8fc];if(_8fe){_8dc[_8fc]=function(_8ff){if(_8fa){return _8fe.apply(this,arguments);}_8fa=true;try{var _900=_8fe.apply(this,arguments);_8d9.when(_900,function(_901){_8fd((typeof _901=="object"&&_901)||_8ff);});return _900;}finally{_8fa=false;}};}};_8fb("put",function(_902){_8dc.notify(_902,_8dc.getIdentity(_902));});_8fb("add",function(_903){_8dc.notify(_903);});_8fb("remove",function(id){_8dc.notify(undefined,id);});return _8dc;};lang.setObject("dojo.store.Observable",_8db);return _8db;});},"epi/shell/MetadataManager":function(){define("epi/shell/MetadataManager",["dojo/_base/declare","dojo/_base/json","dojo/Deferred","dojo/when","epi/dependency","./PropertyMetadata"],function(_904,json,_905,when,_906,_907){return _904(null,{store:null,_setTypeMetadataStore:function(){var _908=_906.resolve("epi.storeregistry");this.store=_908.get("epi.shell.metadata");},getMetadataForType:function(type,_909){function _90a(_90b){return _90b?new _907(_90b):_90b;};if(this.store==null){this._setTypeMetadataStore();}if(_909){var def=new _905();when(this.store.query({id:type,modelAccessor:json.toJson(_909)}),function(_90c){if(_90c&&_90c.length){def.resolve(_90a(_90c[0]));}else{def.reject();}},function(){def.reject();});return def.promise;}else{return when(this.store.get(type),_90a);}},_clear:function(){this.store=null;}});});},"epi/shell/PropertyMetadata":function(){define("epi/shell/PropertyMetadata",["dojo/_base/declare","dojo/_base/array"],function(_90d,_90e){var _90f=_90d([],{_propertyMap:null,constructor:function(_910){_90d.safeMixin(this,_910);this._propertyMap={};_90e.forEach(this.properties,function(prop){var _911=new _90f(prop);this._propertyMap[_911.name.toLowerCase()]=_911;},this);},hasSubProperties:function(){return (this.properties&&this.properties.length);},getPropertyMetadata:function(_912){var _913=_912.toLowerCase().split(".");return this._getPropertyMetaData(_913);},_getPropertyMetaData:function(_914){var name=this._getMappedName(_914.shift());var _915=this._propertyMap[name];if(_915&&_914.length){return _915._getPropertyMetaData(_914);}return _915;},_getMappedName:function(name){var _916;_90e.some(this.mappedProperties||[],function(_917){return _917.from.toLowerCase()==name&&(_916=_917);});return _916?_916.to.toLowerCase():name;}});return _90f;});},"epi/shell/Profile":function(){define("epi/shell/Profile",["dojo/_base/declare","dojo/_base/lang","dojo/json","dojo/Evented","dojo/Deferred","dojo/store/Cache","dojo/store/Memory","dojo/when","epi/routes","epi/shell/store/JsonRest","epi/shell/store/Throttle"],function(_918,lang,json,_919,_91a,_91b,_91c,when,_91d,_91e,_91f){return _918([_919],{_store:null,constructor:function(_920){_918.safeMixin(this,_920);if(!this._store){var _921=new _91e({target:_91d.getRestPath({moduleArea:"shell",storeName:"profile"}),preventLocalizationHeader:true,preventCache:true});this._store=_91b(_91f(_921,"get"),new _91c());}when(this._store.get("userName"),lang.hitch(this,function(data){this.userName=data.value;}));},get:function(name){var _922=sessionStorage[name];if(!_922){_922=localStorage[name];}if(_922){return json.parse(_922);}if(name==="userName"){return this.userName;}return when(this._store.get(name),function(obj){return (obj&&obj.value)||null;},function(){return null;});},set:function(name,_923,_924){var _925=json.stringify(_923);if(_924&&_924.location){switch(_924.location){case "session":sessionStorage[name]=_925;this._emitChangedEvent(name,_923);return _925;case "server":var _926=new _91a();when(this._store.put({id:name,value:_923}),lang.hitch(this,function(){this._emitChangedEvent(name,_923);_926.resolve();}),_926.reject);return _926;default:throw "You need to specify a valid location ('session' or 'server').";}}localStorage[name]=_925;this._emitChangedEvent(name,_923);return _925;},_emitChangedEvent:function(name,_927){this.emit("changed",{property:name,value:_927});}});});},"dojo/store/Cache":function(){define("dojo/store/Cache",["../_base/lang","../_base/Deferred"],function(lang,_928){var _929=function(_92a,_92b,_92c){_92c=_92c||{};return lang.delegate(_92a,{query:function(_92d,_92e){var _92f=_92a.query(_92d,_92e);_92f.forEach(function(_930){if(!_92c.isLoaded||_92c.isLoaded(_930)){_92b.put(_930);}});return _92f;},queryEngine:_92a.queryEngine||_92b.queryEngine,get:function(id,_931){return _928.when(_92b.get(id),function(_932){return _932||_928.when(_92a.get(id,_931),function(_933){if(_933){_92b.put(_933,{id:id});}return _933;});});},add:function(_934,_935){return _928.when(_92a.add(_934,_935),function(_936){_92b.add(typeof _936=="object"?_936:_934,_935);return _936;});},put:function(_937,_938){_92b.remove((_938&&_938.id)||this.getIdentity(_937));return _928.when(_92a.put(_937,_938),function(_939){_92b.put(typeof _939=="object"?_939:_937,_938);return _939;});},remove:function(id,_93a){return _928.when(_92a.remove(id,_93a),function(_93b){return _92b.remove(id,_93a);});},evict:function(id){return _92b.remove(id);}});};lang.setObject("dojo.store.Cache",_929);return _929;});},"epi/shell/store/JsonRest":function(){define(["dojo/_base/declare","dojo/_base/json","dojo/_base/lang","dojo/io-query","dojo/store/JsonRest","dojo/store/util/QueryResults","epi/shell/XhrWrapper"],function(_93c,json,lang,_93d,_93e,_93f,_940){return _93c([_93e],{xhrHandler:null,idAttribute:"id",preventCache:false,constructor:function(_941){if(!this.xhrHandler){this.xhrHandler=new _940({preventLocalizationHeader:_941&&_941.preventLocalizationHeader});}},get:function(id,_942){var _943=_942||{};_943.Accept="application/javascript, application/json";var _944=typeof id!="undefined";var _945={url:_944?this.target+id:this.target,handleAs:"json",headers:_943,preventCache:this.preventCache};return this.xhrHandler.xhrGet(_945);},put:function(_946,_947){_947=_947||{};var _948={"Content-Type":"application/json","If-Match":_947.overwrite===true?"*":null,"If-None-Match":_947.overwrite===false?"*":null,"Accept":"application/javascript, application/json"};var id=("id" in _947)?_947.id:this.getIdentity(_946);var _949=typeof id!="undefined";if(_949&&!_947.incremental){_948["X-Http-Method-Override"]="PUT";}var _94a={url:_949?this.target+id:this.target,postData:json.toJson(_946),handleAs:"json",headers:_948,xsrfProtection:true};return this.xhrHandler.xhr("POST",_94a);},patch:function(_94b,_94c){var _94d=_94c||{};_94d.Accept="application/javascript, application/json";_94d["X-Http-Method-Override"]="PATCH";_94d["Content-Type"]="application/json";var id=("id" in _94c)?_94c.id:this.getIdentity(_94b);var _94e=typeof id!="undefined";var _94f={url:_94e?this.target+id:this.target,postData:json.toJson(_94b),handleAs:"json",headers:_94d,xsrfProtection:true};return this.xhrHandler.xhr("POST",_94f);},remove:function(id,_950){var _951={};_951.Accept="application/javascript, application/json";_951["Content-Type"]="application/json";_951["X-Http-Method-Override"]="DELETE";_950=_950||{};return this.xhrHandler.xhr("POST",{url:this.target+id,headers:_951,postData:json.toJson(_950),handleAs:"json",xsrfProtection:true});},query:function(_952,_953){var _954={Accept:"application/javascript, application/json"};var _955;_953=_953||{};if(_953.start>=0||_953.count>=0){_954.Range="items="+(_953.start||"0")+"-"+(("count" in _953&&_953.count!=Infinity)?(_953.count+(_953.start||0)-1):"");}if(lang.isObject(_952)){_952=lang.mixin({},_952);if(_952[this.idAttribute]){_955=_952[this.idAttribute];_952[this.idAttribute]=null;}_952=_93d.objectToQuery(_952);_952=_952?"?"+_952:"";}if(_953&&_953.sort){_952+=(_952?"&":"?")+"sort(";for(var i=0;i<_953.sort.length;i++){var sort=_953.sort[i];_952+=(i>0?",":"")+(sort.descending?"-":"+")+encodeURIComponent(sort.attribute);}_952+=")";}var _956=this.xhrHandler.xhrGet({url:this.target+(_955||"")+(_952||""),handleAs:"json",headers:_954,preventCache:this.preventCache});_956.total=_956.then(function(){var _957=_956.ioArgs.xhr.getResponseHeader("Content-Range");return _957&&(_957=_957.match(/\/(.*)/))&&+_957[1];});return _93f(_956);},move:function(id,_958,_959){return this._send("MOVE",id,_958,_959);},copy:function(id,_95a,_95b){return this._send("COPY",id,_95a,_95b);},executeMethod:function(_95c,id,data,_95d){var _95e=_95d||{};_95e.Accept="application/javascript, application/json";_95e["Content-Type"]="application/json";_95e["X-Http-Method-Override"]=_95c;data=data||{};return this.xhrHandler.xhr("POST",{url:this.target+id,headers:_95e,postData:json.toJson(data),handleAs:"json",xsrfProtection:true});},_send:function(_95f,id,_960,_961){var _962=_961||{};_962.Accept="application/javascript, application/json";_962["X-Http-Method-Override"]=_95f;var _963=lang.isObject(_960)?_960:{targetId:_960};return this.xhrHandler.xhr("POST",{url:this.target+id,headers:_962,content:_963,handleAs:"json",xsrfProtection:true});}});});},"dojo/store/JsonRest":function(){define("dojo/store/JsonRest",["../_base/xhr","../_base/lang","../json","../_base/declare","./util/QueryResults"],function(xhr,lang,JSON,_964,_965){var base=null;return _964("dojo.store.JsonRest",base,{constructor:function(_966){this.headers={};_964.safeMixin(this,_966);},headers:{},target:"",idProperty:"id",get:function(id,_967){_967=_967||{};var _968=lang.mixin({Accept:this.accepts},this.headers,_967.headers||_967);return xhr("GET",{url:this.target+id,handleAs:"json",headers:_968});},accepts:"application/javascript, application/json",getIdentity:function(_969){return _969[this.idProperty];},put:function(_96a,_96b){_96b=_96b||{};var id=("id" in _96b)?_96b.id:this.getIdentity(_96a);var _96c=typeof id!="undefined";return xhr(_96c&&!_96b.incremental?"PUT":"POST",{url:_96c?this.target+id:this.target,postData:JSON.stringify(_96a),handleAs:"json",headers:lang.mixin({"Content-Type":"application/json",Accept:this.accepts,"If-Match":_96b.overwrite===true?"*":null,"If-None-Match":_96b.overwrite===false?"*":null},this.headers,_96b.headers)});},add:function(_96d,_96e){_96e=_96e||{};_96e.overwrite=false;return this.put(_96d,_96e);},remove:function(id,_96f){_96f=_96f||{};return xhr("DELETE",{url:this.target+id,headers:lang.mixin({},this.headers,_96f.headers)});},query:function(_970,_971){_971=_971||{};var _972=lang.mixin({Accept:this.accepts},this.headers,_971.headers);if(_971.start>=0||_971.count>=0){_972.Range=_972["X-Range"]="items="+(_971.start||"0")+"-"+(("count" in _971&&_971.count!=Infinity)?(_971.count+(_971.start||0)-1):"");}var _973=this.target.indexOf("?")>-1;if(_970&&typeof _970=="object"){_970=xhr.objectToQuery(_970);_970=_970?(_973?"&":"?")+_970:"";}if(_971&&_971.sort){var _974=this.sortParam;_970+=(_970||_973?"&":"?")+(_974?_974+"=":"sort(");for(var i=0;i<_971.sort.length;i++){var sort=_971.sort[i];_970+=(i>0?",":"")+(sort.descending?"-":"+")+encodeURIComponent(sort.attribute);}if(!_974){_970+=")";}}var _975=xhr("GET",{url:this.target+(_970||""),handleAs:"json",headers:_972});_975.total=_975.then(function(){var _976=_975.ioArgs.xhr.getResponseHeader("Content-Range");return _976&&(_976=_976.match(/\/(.*)/))&&+_976[1];});return _965(_975);}});});},"epi/shell/XhrWrapper":function(){define(["dojo","dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/_base/Deferred","epi","epi/dependency","epi/shell/widget/dialog/Dialog","epi/shell/widget/LoginForm"],function(dojo,_977,_978,_979,lang,_97a,epi,_97b,_97c,_97d){var _97e;var cls=_979(null,{xhrHandler:null,_headerKeys:{validation:"X-EpiRestAntiForgeryToken",loginScreen:"X-EPiLogOnScreen",postUrl:"X-EPiLogOnScreen-PostUrl",language:"X-EPiContentLanguage"},constructor:function(_97f){_979.safeMixin(this,_97f);if(!this.xhrHandler){this.xhrHandler=dojo.xhr;}},xhr:function(_980,args,_981){var _982=arguments;args.headers=args.headers||{};if(args.xsrfProtection){var _983=new _97a();_97a.when(this._getXsrfHeader(args.url),lang.hitch(this,function(_984){args.headers=lang.mixin({},args.headers,_984);this._setLanguageHeader(args.headers);_97a.when(this._xhr.apply(this,_982),_983.resolve,_983.reject);}),_983.reject);return _983;}else{this._setLanguageHeader(args.headers);return this._xhr.apply(this,_982);}},xhrDelete:function(args){return this.xhr("DELETE",args);},xhrGet:function(args){return this.xhr("GET",args);},xhrPost:function(args){return this.xhr("POST",args,true);},xhrPut:function(args){return this.xhr("PUT",args,true);},_getXsrfHeader:function(_985){if(cls.sharedXsrfHeader){return cls.sharedXsrfHeader;}var _986={url:_985,handleAs:"json",headers:{}};_986.headers[this._headerKeys.validation]="_CreateToken_";var _987=new _97a();this.xhrGet(_986).then(lang.hitch(this,function(){_987.resolve(cls.sharedXsrfHeader);}),_987.reject);return _987;},_setLanguageHeader:function(_988){if(this.preventLocalizationHeader){return;}var _989=_97b.resolve("epi.shell.Profile");var _98a=_989.contentLanguage;if(_98a){_988[this._headerKeys.language]=_98a;}},_xhr:function(_98b,args,_98c){var _98d=arguments;var _98e=this.xhrHandler.apply(this,arguments);var _98f=new _97a();_98f.ioArgs=_98e.ioArgs;_97a.when(_98e,lang.hitch(this,function(data){var _990=_98e.ioArgs.xhr.getResponseHeader(this._headerKeys.validation);if(_990){if(!cls.sharedXsrfHeader){cls.sharedXsrfHeader={};}cls.sharedXsrfHeader[this._headerKeys.validation]=_990;}_98f.ioArgs=_98e.ioArgs;_98f.resolve(data);}),lang.hitch(this,function(err){var _991=_98e.ioArgs.xhr.getResponseHeader(this._headerKeys.loginScreen);if(_991==="true"||_98e.ioArgs.xhr.status=="401"){var _992={postUrl:_98e.ioArgs.xhr.getResponseHeader(this._headerKeys.postUrl)};cls.sharedXsrfHeader=undefined;var _993=this._showLogin(_992);_97a.when(_993,lang.hitch(this,function(){_97a.when(this.xhr.apply(this,_98d),_98f.resolve,_98f.reject);}),function(){_98f.reject(err);});}else{_98f.reject(err);}}));return _98f;},_showLogin:function(_994){if(!_97e){_97e=new _97a();var form=new _97d();var _995=new _97c({title:epi.resources.action.login,confirmActionText:epi.resources.action.login,content:form,dialogClass:"",destroyOnHide:true,_onAfterShow:function(){}});var _996=[];var _997=function(_998){_977.forEach(_996,_978.disconnect);form.destroyRecursive();_995.hide();if(_998){_97e.resolve();}else{_97e.reject();}_97e=null;};_995.addValidator(lang.hitch(this,function(){var _999=new _97a();var _99a=form.serializeForm();var _99b=this.xhr("POST",{url:_994.postUrl,content:_99a,xsrfProtection:false,handleAs:"json"},true);_97a.when(_99b,function(data){if(data.authenticationSuccessful){_997(true);_999.resolve();}else{form.authenticationFailed();_999.reject();}},function(){_997(false);_999.reject();});return _999;}));_995.show();_996.push(_978.connect(_995,"onCancel",function(){_997(false);}));}return _97e;}});cls.sharedXsrfHeader=undefined;return cls;});},"epi/shell/widget/LoginForm":function(){define(["epi","dojo","dojo/keys","dojo/text!./templates/LoginForm.htm","dijit/_WidgetBase","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/form/ValidationTextBox","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.LoginForm"],function(epi,dojo,keys,_99c,_99d,_99e,_99f,_9a0,_9a1){return dojo.declare([_99d,_99e,_99f],{templateString:_99c,postMixInProperties:function(){this.inherited(arguments);this.resources=dojo.mixin(epi.resources.action,_9a1);this.connect(this.passwordNode,"onkeydown",this._onKeyDown);},serializeForm:function(){return {username:this.usernameNode.get("value"),password:this.passwordNode.get("value")};},authenticationFailed:function(){this.passwordNode.set("value","");this.passwordNode.focus();this.passwordNode.displayMessage(this.resources.loginfailed);},_onKeyDown:function(e){if(e.keyCode==keys.ENTER&&!(e.ctrlKey||e.altKey||e.metaKey)){this.onSubmit(e);}},onSubmit:function(){}});});},"url:epi/shell/widget/templates/LoginForm.htm":"<div class=\"epi-form\">\r\n    <ul class=\"dijitReset\" data-dojo-attach-point=\"containerNode\">\r\n        <li>${resources.loggedout}</li>\r\n        <li>\r\n            <label>${resources.username}</label>\r\n            <input data-dojo-type=\"dijit/form/ValidationTextBox\" required=\"true\" data-dojo-attach-point=\"usernameNode\" name=\"username\" />\r\n        </li>\r\n        <li>\r\n            <label>${resources.password}</label>\r\n            <input data-dojo-type=\"dijit/form/ValidationTextBox\" required=\"true\" data-dojo-attach-point=\"passwordNode\" name=\"password\" type=\"password\" />\r\n        </li>\r\n    </ul>\r\n</div>\r\n","dijit/form/ValidationTextBox":function(){require({cache:{"url:dijit/form/templates/ValidationTextBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\" role=\"presentation\"\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${!nameAttrSetting} type='${type}'\n\t/></div\n></div>\n"}});define("dijit/form/ValidationTextBox",["dojo/_base/declare","dojo/_base/kernel","dojo/i18n","./TextBox","../Tooltip","dojo/text!./templates/ValidationTextBox.html","dojo/i18n!./nls/validate"],function(_9a2,_9a3,i18n,_9a4,_9a5,_9a6){var _9a7;return _9a7=_9a2("dijit.form.ValidationTextBox",_9a4,{templateString:_9a6,required:false,promptMessage:"",invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},pattern:".*",regExp:"",regExpGen:function(){},state:"",tooltipPosition:[],_deprecateRegExp:function(attr,_9a8){if(_9a8!=_9a7.prototype[attr]){_9a3.deprecated("ValidationTextBox id="+this.id+", set('"+attr+"', ...) is deprecated.  Use set('pattern', ...) instead.","","2.0");this.set("pattern",_9a8);}},_setRegExpGenAttr:function(_9a9){this._deprecateRegExp("regExpGen",_9a9);this.regExpGen=this._getPatternAttr;},_setRegExpAttr:function(_9aa){this._deprecateRegExp("regExp",_9aa);},_setValueAttr:function(){this.inherited(arguments);this.validate(this.focused);},validator:function(_9ab,_9ac){return (new RegExp("^(?:"+this._getPatternAttr(_9ac)+")"+(this.required?"":"?")+"$")).test(_9ab)&&(!this.required||!this._isEmpty(_9ab))&&(this._isEmpty(_9ab)||this.parse(_9ab,_9ac)!==undefined);},_isValidSubset:function(){return this.textbox.value.search(this._partialre)==0;},isValid:function(){return this.validator(this.textbox.value,this.constraints);},_isEmpty:function(_9ad){return (this.trim?/^\s*$/:/^$/).test(_9ad);},getErrorMessage:function(){var _9ae=this.invalidMessage=="$_unset_$"?this.messages.invalidMessage:!this.invalidMessage?this.promptMessage:this.invalidMessage;var _9af=this.missingMessage=="$_unset_$"?this.messages.missingMessage:!this.missingMessage?_9ae:this.missingMessage;return (this.required&&this._isEmpty(this.textbox.value))?_9af:_9ae;},getPromptMessage:function(){return this.promptMessage;},_maskValidSubsetError:true,validate:function(_9b0){var _9b1="";var _9b2=this.disabled||this.isValid(_9b0);if(_9b2){this._maskValidSubsetError=true;}var _9b3=this._isEmpty(this.textbox.value);var _9b4=!_9b2&&_9b0&&this._isValidSubset();this._set("state",_9b2?"":(((((!this._hasBeenBlurred||_9b0)&&_9b3)||_9b4)&&(this._maskValidSubsetError||(_9b4&&!this._hasBeenBlurred&&_9b0)))?"Incomplete":"Error"));this.focusNode.setAttribute("aria-invalid",_9b2?"false":"true");if(this.state=="Error"){this._maskValidSubsetError=_9b0&&_9b4;_9b1=this.getErrorMessage(_9b0);}else{if(this.state=="Incomplete"){_9b1=this.getPromptMessage(_9b0);this._maskValidSubsetError=!this._hasBeenBlurred||_9b0;}else{if(_9b3){_9b1=this.getPromptMessage(_9b0);}}}this.set("message",_9b1);return _9b2;},displayMessage:function(_9b5){if(_9b5&&this.focused){_9a5.show(_9b5,this.domNode,this.tooltipPosition,!this.isLeftToRight());}else{_9a5.hide(this.domNode);}},_refreshState:function(){if(this._created){this.validate(this.focused);}this.inherited(arguments);},constructor:function(_9b6){this.constraints={};this.baseClass+=" dijitValidationTextBox";},startup:function(){this.inherited(arguments);this._refreshState();},_setConstraintsAttr:function(_9b7){if(!_9b7.locale&&this.lang){_9b7.locale=this.lang;}this._set("constraints",_9b7);this._refreshState();},_setPatternAttr:function(_9b8){this._set("pattern",_9b8);},_getPatternAttr:function(_9b9){var p=this.pattern;var type=(typeof p).toLowerCase();if(type=="function"){p=this.pattern(_9b9||this.constraints);}if(p!=this._lastRegExp){var _9ba="";this._lastRegExp=p;if(p!=".*"){p.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(re){switch(re.charAt(0)){case "{":case "+":case "?":case "*":case "^":case "$":case "|":case "(":_9ba+=re;break;case ")":_9ba+="|$)";break;default:_9ba+="(?:"+re+"|$)";break;}});}try{"".search(_9ba);}catch(e){_9ba=this.pattern;}this._partialre="^(?:"+_9ba+")$";}return p;},postMixInProperties:function(){this.inherited(arguments);this.messages=i18n.getLocalization("dijit.form","validate",this.lang);this._setConstraintsAttr(this.constraints);},_setDisabledAttr:function(_9bb){this.inherited(arguments);this._refreshState();},_setRequiredAttr:function(_9bc){this._set("required",_9bc);this.focusNode.setAttribute("aria-required",_9bc);this._refreshState();},_setMessageAttr:function(_9bd){this._set("message",_9bd);this.displayMessage(_9bd);},reset:function(){this._maskValidSubsetError=true;this.inherited(arguments);},_onBlur:function(){this.displayMessage("");this.inherited(arguments);}});});},"dijit/Tooltip":function(){require({cache:{"url:dijit/templates/Tooltip.html":"<div class=\"dijitTooltip dijitTooltipLeft\" id=\"dojoTooltip\"\n\t><div class=\"dijitTooltipContainer dijitTooltipContents\" data-dojo-attach-point=\"containerNode\" role='alert'></div\n\t><div class=\"dijitTooltipConnector\" data-dojo-attach-point=\"connectorNode\"></div\n></div>\n"}});define("dijit/Tooltip",["dojo/_base/array","dojo/_base/declare","dojo/_base/fx","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/on","dojo/sniff","./_base/manager","./place","./_Widget","./_TemplatedMixin","./BackgroundIframe","dojo/text!./templates/Tooltip.html","./main"],function(_9be,_9bf,fx,dom,_9c0,_9c1,_9c2,lang,_9c3,on,has,_9c4,_9c5,_9c6,_9c7,_9c8,_9c9,_9ca){var _9cb=_9bf("dijit._MasterTooltip",[_9c6,_9c7],{duration:_9c4.defaultDuration,templateString:_9c9,postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);this.bgIframe=new _9c8(this.domNode);this.fadeIn=fx.fadeIn({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,"_onShow")});this.fadeOut=fx.fadeOut({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,"_onHide")});},show:function(_9cc,_9cd,_9ce,rtl,_9cf){if(this.aroundNode&&this.aroundNode===_9cd&&this.containerNode.innerHTML==_9cc){return;}if(this.fadeOut.status()=="playing"){this._onDeck=arguments;return;}this.containerNode.innerHTML=_9cc;if(_9cf){this.set("textDir",_9cf);}this.containerNode.align=rtl?"right":"left";var pos=_9c5.around(this.domNode,_9cd,_9ce&&_9ce.length?_9ce:_9d0.defaultPosition,!rtl,lang.hitch(this,"orient"));var _9d1=pos.aroundNodePos;if(pos.corner.charAt(0)=="M"&&pos.aroundCorner.charAt(0)=="M"){this.connectorNode.style.top=_9d1.y+((_9d1.h-this.connectorNode.offsetHeight)>>1)-pos.y+"px";this.connectorNode.style.left="";}else{if(pos.corner.charAt(1)=="M"&&pos.aroundCorner.charAt(1)=="M"){this.connectorNode.style.left=_9d1.x+((_9d1.w-this.connectorNode.offsetWidth)>>1)-pos.x+"px";}else{this.connectorNode.style.left="";this.connectorNode.style.top="";}}_9c2.set(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=true;this.aroundNode=_9cd;},orient:function(node,_9d2,_9d3,_9d4,_9d5){this.connectorNode.style.top="";var _9d6=_9d4.h,_9d7=_9d4.w;node.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[_9d2+"-"+_9d3];this.domNode.style.width="auto";var size=_9c1.position(this.domNode);if(has("ie")==9){size.w+=2;}var _9d8=Math.min((Math.max(_9d7,1)),size.w);_9c1.setMarginBox(this.domNode,{w:_9d8});if(_9d3.charAt(0)=="B"&&_9d2.charAt(0)=="B"){var bb=_9c1.position(node);var _9d9=this.connectorNode.offsetHeight;if(bb.h>_9d6){var _9da=_9d6-((_9d5.h+_9d9)>>1);this.connectorNode.style.top=_9da+"px";this.connectorNode.style.bottom="";}else{this.connectorNode.style.bottom=Math.min(Math.max(_9d5.h/2-_9d9/2,0),bb.h-_9d9)+"px";this.connectorNode.style.top="";}}else{this.connectorNode.style.top="";this.connectorNode.style.bottom="";}return Math.max(0,size.w-_9d7);},_onShow:function(){if(has("ie")){this.domNode.style.filter="";}},hide:function(_9db){if(this._onDeck&&this._onDeck[1]==_9db){this._onDeck=null;}else{if(this.aroundNode===_9db){this.fadeIn.stop();this.isShowingNow=false;this.aroundNode=null;this.fadeOut.play();}else{}}},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";if(this._onDeck){this.show.apply(this,this._onDeck);this._onDeck=null;}},_setAutoTextDir:function(node){this.applyTextDir(node,has("ie")?node.outerText:node.textContent);_9be.forEach(node.children,function(_9dc){this._setAutoTextDir(_9dc);},this);},_setTextDirAttr:function(_9dd){this._set("textDir",_9dd);if(_9dd=="auto"){this._setAutoTextDir(this.containerNode);}else{this.containerNode.dir=this.textDir;}}});_9ca.showTooltip=function(_9de,_9df,_9e0,rtl,_9e1){if(_9e0){_9e0=_9be.map(_9e0,function(val){return {after:"after-centered",before:"before-centered"}[val]||val;});}if(!_9d0._masterTT){_9ca._masterTT=_9d0._masterTT=new _9cb();}return _9d0._masterTT.show(_9de,_9df,_9e0,rtl,_9e1);};_9ca.hideTooltip=function(_9e2){return _9d0._masterTT&&_9d0._masterTT.hide(_9e2);};var _9d0=_9bf("dijit.Tooltip",_9c6,{label:"",showDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(_9e3){_9be.forEach(this._connections||[],function(_9e4){_9be.forEach(_9e4,function(_9e5){_9e5.remove();});},this);this._connectIds=_9be.filter(lang.isArrayLike(_9e3)?_9e3:(_9e3?[_9e3]:[]),function(id){return dom.byId(id,this.ownerDocument);},this);this._connections=_9be.map(this._connectIds,function(id){var node=dom.byId(id,this.ownerDocument),_9e6=this.selector,_9e7=_9e6?function(_9e8){return on.selector(_9e6,_9e8);}:function(_9e9){return _9e9;},self=this;return [on(node,_9e7(_9c3.enter),function(){self._onHover(this);}),on(node,_9e7("focusin"),function(){self._onHover(this);}),on(node,_9e7(_9c3.leave),lang.hitch(self,"_onUnHover")),on(node,_9e7("focusout"),lang.hitch(self,"_onUnHover"))];},this);this._set("connectId",_9e3);},addTarget:function(node){var id=node.id||node;if(_9be.indexOf(this._connectIds,id)==-1){this.set("connectId",this._connectIds.concat(id));}},removeTarget:function(node){var id=node.id||node,idx=_9be.indexOf(this._connectIds,id);if(idx>=0){this._connectIds.splice(idx,1);this.set("connectId",this._connectIds);}},buildRendering:function(){this.inherited(arguments);_9c0.add(this.domNode,"dijitTooltipData");},startup:function(){this.inherited(arguments);var ids=this.connectId;_9be.forEach(lang.isArrayLike(ids)?ids:[ids],this.addTarget,this);},getContent:function(node){return this.label||this.domNode.innerHTML;},_onHover:function(_9ea){if(!this._showTimer){this._showTimer=this.defer(function(){this.open(_9ea);},this.showDelay);}},_onUnHover:function(){if(this._showTimer){this._showTimer.remove();delete this._showTimer;}this.close();},open:function(_9eb){if(this._showTimer){this._showTimer.remove();delete this._showTimer;}var _9ec=this.getContent(_9eb);if(!_9ec){return;}_9d0.show(_9ec,_9eb,this.position,!this.isLeftToRight(),this.textDir);this._connectNode=_9eb;this.onShow(_9eb,this.position);},close:function(){if(this._connectNode){_9d0.hide(this._connectNode);delete this._connectNode;this.onHide();}if(this._showTimer){this._showTimer.remove();delete this._showTimer;}},onShow:function(){},onHide:function(){},destroy:function(){this.close();_9be.forEach(this._connections||[],function(_9ed){_9be.forEach(_9ed,function(_9ee){_9ee.remove();});},this);this.inherited(arguments);}});_9d0._MasterTooltip=_9cb;_9d0.show=_9ca.showTooltip;_9d0.hide=_9ca.hideTooltip;_9d0.defaultPosition=["after-centered","before-centered"];return _9d0;});},"url:dijit/templates/Tooltip.html":"<div class=\"dijitTooltip dijitTooltipLeft\" id=\"dojoTooltip\"\n\t><div class=\"dijitTooltipContainer dijitTooltipContents\" data-dojo-attach-point=\"containerNode\" role='alert'></div\n\t><div class=\"dijitTooltipConnector\" data-dojo-attach-point=\"connectorNode\"></div\n></div>\n","url:dijit/form/templates/ValidationTextBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\" role=\"presentation\"\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${!nameAttrSetting} type='${type}'\n\t/></div\n></div>\n","epi/shell/store/Throttle":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/aspect","dojo/when","epi/epi"],function(_9ef,lang,_9f0,when,epi){return function(_9f1,_9f2){var _9f3=[];var _9f4=function(_9f5){for(var i=0;i<_9f3.length;i++){if(_9f3[i].deferred===_9f5){return _9f3.splice(i,1);}}return null;};var _9f6=function(_9f7,args){for(var i=0;i<_9f3.length;i++){var _9f8=_9f3[i];if(_9f8.method===_9f7&&epi.areEqual(_9f8.args,args)){return _9f8;}}return null;};var _9f9=function(_9fa,args){var _9fb=_9ef.map(args,function(item){return item;});var _9fc=_9f6(_9fa,_9fb);if(_9fc){return _9fc.deferred;}var _9fd=_9f1[_9fa].apply(_9f1,_9fb);_9f3.push({method:_9fa,args:_9fb,deferred:_9fd});when(_9fd,function(){_9f4(_9fd);},function(){_9f4(_9fd);});return _9fd;};var _9fe={};_9fe[_9f2]=function(){return _9f9(_9f2,arguments);};return lang.delegate(_9f1,_9fe);};});},"epi/shell/ShellModule":function(){define("epi/shell/ShellModule",["epi/patch/patches","dojo/_base/declare","dojo/_base/lang","dojo/aspect","dojo/topic","dojo/when","dojo/dnd/Manager","epi","epi/_Module","epi/routes","epi/Url","epi/shell/store/Registry","epi/shell/widget/Application","epi/shell/Profile","epi/shell/layout/PositioningUtility","epi/shell/ContextService","epi/shell/ContextHistory","epi/shell/HashWrapper","epi/shell/ViewContextHistory","epi/shell/widget/ComponentController","epi/shell/command/GlobalCommandRegistry","epi/shell/dnd/Avatar","epi/shell/MetadataManager","epi/shell/widget/WidgetFactory","epi/shell/MessageService","epi/shell/customFocusIndicator","epi/shell/TypeDescriptorManager","epi/shell/ViewSettings"],function(_9ff,_a00,lang,_a01,_a02,when,_a03,epi,_a04,_a05,Url,_a06,_a07,_a08,_a09,_a0a,_a0b,_a0c,_a0d,_a0e,_a0f,_a10,_a11,_a12,_a13,_a14,_a15,_a16){return _a00([_a04],{_settings:null,_initializeHandle:null,constructor:function(_a17){this._settings=_a17;},initialize:function(){return when(this.inherited(arguments),lang.hitch(this,function(){var _a18=new _a06();this._initializeStores(_a18);this.registerDependency("epi.storeregistry",_a18);this.registerDependency("epi.shell.Profile",new _a08());this.registerDependency("epi.shell.MetadataManager",_a11);this.registerDependency("epi.shell.widget.WidgetFactory",_a12);this.registerDependency("epi.shell.MessageService",_a13);this.registerDependency("epi.shell.layout.PositioningUtility",_a09);this.registerDependency("epi.globalcommandregistry",_a0f);var _a19=new _a0c();var _a1a=new _a0d();this.registerDependency("epi.shell.controller.Components",new _a0e({moduleArea:"Shell"}));this.registerDependency("epi.shell.ContextService",new _a0a());this.registerDependency("epi.shell.ContextHistory",new _a0b());this.registerDependency("epi.shell.HashWrapper",_a19);var _a1b=_a03.manager();_a1b.makeAvatar=function(){return new _a10(this);};_a1b.OFFSET_X=6;_a1b.OFFSET_Y=6;_a01.after(_a1b,"stopDrag",function(_a1c){_a02.publish("/dnd/stop",null);return _a1c;});this._initializeHandle=_a02.subscribe("/epi/shell/application/initialized",lang.hitch(this,this._requestInitialContext,_a19,_a1a));return _a15.initialize();}));},uninitialize:function(){if(this._requestFailedHandle){this._requestFailedHandle.remove();}this.inherited(arguments);},_initializeStores:function(_a1d){var _a1e=_a05.getRestPath({moduleArea:"shell",storeName:"metadata"}),_a1f=_a05.getRestPath({moduleArea:"shell",storeName:"context"}),_a20=_a05.getRestPath({moduleArea:"shell",storeName:"searchproviders"}),_a21=_a05.getRestPath({moduleArea:"shell",storeName:"searchresults"}),_a22=_a05.getRestPath({moduleArea:"shell",storeName:"componentcategory"}),_a23=_a05.getRestPath({moduleArea:"shell",storeName:"componentdefinition"}),_a24=_a05.getRestPath({moduleArea:"shell",storeName:"component"}),_a25=_a05.getRestPath({moduleArea:"shell",storeName:"componentsortorder"}),_a26=_a05.getRestPath({moduleArea:"shell",storeName:"licenseinformation"});uiDescriptorUrl=_a05.getRestPath({moduleArea:"shell",storeName:"uidescriptor"});_a1d.create("epi.shell.metadata",_a1e);_a1d.create("epi.shell.context",_a1f,{idProperty:"uri"});_a1d.create("epi.shell.searchproviders",_a20);_a1d.create("epi.shell.searchresults",_a21);_a1d.create("epi.shell.componentcategory",_a22,{idProperty:"name"});_a1d.create("epi.shell.componentdefinition",_a23);_a1d.create("epi.shell.component",_a24);_a1d.create("epi.shell.componentsortorder",_a25);_a1d.create("epi.shell.licenseinformation",_a26);_a1d.create("epi.shell.uidescriptor",uiDescriptorUrl);},_requestInitialContext:function(_a27,_a28){if(this._initializeHandle){this._initializeHandle.remove();}var _a29=lang.hitch(this,function(_a2a){var _a2b=_a2a||_a16.settings.defaultContext;var _a2c=null;if(_a2b){this._requestFailedHandle=_a02.subscribe("/epi/shell/context/requestfailed",lang.hitch(this,function(_a2d,_a2e,_a2f){if(_a2f&&_a2f.sender==this){this._requestFailedHandle.remove();_a29(null);}}));_a2c={uri:_a2b};}_a02.publish("/epi/shell/context/request",_a2c,{sender:this});});var hash=_a27.getHash();if(hash&&hash.context){_a29(hash.context);return;}when(_a28.getLastContextForView(),function(_a30){var _a31=null;if(_a30&&_a30.fullHomeUrl){var url=new Url(_a30.fullHomeUrl);if(url.authority.toLowerCase()===window.location.host.toLowerCase()){_a31=_a30.versionAgnosticUri;}}_a29(_a31);});}});});},"epi/patch/patches":function(){define("epi/patch/patches",["./dijit/form/_FormMixin","./dijit/form/NumberSpinner","./dijit/_HasDropDown","./dojox/form/uploader/plugins/HTML5","./dijit/tree/Tree","./dijit/Dialog","./dijit/focus","./dojo/dnd/Selector","./dojo/store/Observable","./dojo/window"],function(){return {};});},"epi/patch/dijit/form/_FormMixin":function(){define("epi/patch/dijit/form/_FormMixin",["dojo/_base/array","dojo/_base/lang","dijit/form/_FormMixin"],function(_a32,lang,_a33){lang.mixin(_a33.prototype,{_setValueAttr:function(obj){var map={};_a32.forEach(this._getDescendantFormWidgets(),function(_a34){if(!_a34.name){return;}var _a35=map[_a34.name]||(map[_a34.name]=[]);_a35.push(_a34);});for(var name in map){if(!map.hasOwnProperty(name)){continue;}var _a36=map[name],_a37=lang.getObject(name,false,obj);if(_a37===undefined){continue;}if(!lang.isArray(_a37)){if(_a37===null&&_a36[0].multiple){_a37=null;}else{_a37=[_a37];}}if(typeof _a36[0].checked=="boolean"){_a32.forEach(_a36,function(w){w.set("value",_a32.indexOf(_a37,w.value)!=-1);});}else{if(_a36[0].multiple){_a36[0].set("value",_a37);}else{_a32.forEach(_a36,function(w,i){w.set("value",_a37[i]);});}}}}});_a33.prototype._setValueAttr.nom="_setValueAttr";});},"epi/patch/dijit/form/NumberSpinner":function(){define("epi/patch/dijit/form/NumberSpinner",["dojo/_base/lang","dijit/form/NumberSpinner"],function(lang,_a38){lang.mixin(_a38.prototype,{adjust:function(val,_a39){var tc=this.constraints,v=isNaN(val),_a3a=!isNaN(tc.max),_a3b=!isNaN(tc.min);if(v&&_a39!=0){val=_a39;}var _a3c=val+_a39;if(v||isNaN(_a3c)){return val;}if(_a3a&&(_a3c>tc.max)){_a3c=tc.max;}if(_a3b&&(_a3c<tc.min)){_a3c=tc.min;}return _a3c;}});_a38.prototype.adjust.nom="adjust";});},"dijit/form/NumberSpinner":function(){define("dijit/form/NumberSpinner",["dojo/_base/declare","dojo/_base/event","dojo/keys","./_Spinner","./NumberTextBox"],function(_a3d,_a3e,keys,_a3f,_a40){return _a3d("dijit.form.NumberSpinner",[_a3f,_a40.Mixin],{baseClass:"dijitTextBox dijitSpinner dijitNumberTextBox",adjust:function(val,_a41){var tc=this.constraints,v=isNaN(val),_a42=!isNaN(tc.max),_a43=!isNaN(tc.min);if(v&&_a41!=0){val=(_a41>0)?_a43?tc.min:_a42?tc.max:0:_a42?this.constraints.max:_a43?tc.min:0;}var _a44=val+_a41;if(v||isNaN(_a44)){return val;}if(_a42&&(_a44>tc.max)){_a44=tc.max;}if(_a43&&(_a44<tc.min)){_a44=tc.min;}return _a44;},_onKeyPress:function(e){if((e.charOrCode==keys.HOME||e.charOrCode==keys.END)&&!(e.ctrlKey||e.altKey||e.metaKey)&&typeof this.get("value")!="undefined"){var _a45=this.constraints[(e.charOrCode==keys.HOME?"min":"max")];if(typeof _a45=="number"){this._setValueAttr(_a45,false);}_a3e.stop(e);}}});});},"dijit/form/_Spinner":function(){require({cache:{"url:dijit/form/templates/Spinner.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\" role=\"presentation\"\n\t><div class=\"dijitReset dijitButtonNode dijitSpinnerButtonContainer\"\n\t\t><input class=\"dijitReset dijitInputField dijitSpinnerButtonInner\" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t/><div class=\"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitUpArrowButton\"\n\t\t\tdata-dojo-attach-point=\"upArrowNode\"\n\t\t\t><div class=\"dijitArrowButtonInner\"\n\t\t\t\t><input class=\"dijitReset dijitInputField\" value=\"&#9650; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/></div\n\t\t></div\n\t\t><div class=\"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitDownArrowButton\"\n\t\t\tdata-dojo-attach-point=\"downArrowNode\"\n\t\t\t><div class=\"dijitArrowButtonInner\"\n\t\t\t\t><input class=\"dijitReset dijitInputField\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/></div\n\t\t></div\n\t></div\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class='dijitReset dijitInputInner' data-dojo-attach-point=\"textbox,focusNode\" type=\"${type}\" data-dojo-attach-event=\"onkeypress:_onKeyPress\"\n\t\t\trole=\"spinbutton\" autocomplete=\"off\" ${!nameAttrSetting}\n\t/></div\n></div>\n"}});define("dijit/form/_Spinner",["dojo/_base/declare","dojo/_base/event","dojo/keys","dojo/_base/lang","dojo/sniff","dojo/mouse","../typematic","./RangeBoundTextBox","dojo/text!./templates/Spinner.html","./_TextBoxMixin"],function(_a46,_a47,keys,lang,has,_a48,_a49,_a4a,_a4b,_a4c){return _a46("dijit.form._Spinner",_a4a,{defaultTimeout:500,minimumTimeout:10,timeoutChangeRate:0.9,smallDelta:1,largeDelta:10,templateString:_a4b,baseClass:"dijitTextBox dijitSpinner",cssStateNodes:{"upArrowNode":"dijitUpArrowButton","downArrowNode":"dijitDownArrowButton"},adjust:function(val){return val;},_arrowPressed:function(_a4d,_a4e,_a4f){if(this.disabled||this.readOnly){return;}this._setValueAttr(this.adjust(this.get("value"),_a4e*_a4f),false);_a4c.selectInputText(this.textbox,this.textbox.value.length);},_arrowReleased:function(){this._wheelTimer=null;},_typematicCallback:function(_a50,node,evt){var inc=this.smallDelta;if(node==this.textbox){var key=evt.charOrCode;inc=(key==keys.PAGE_UP||key==keys.PAGE_DOWN)?this.largeDelta:this.smallDelta;node=(key==keys.UP_ARROW||key==keys.PAGE_UP)?this.upArrowNode:this.downArrowNode;}if(_a50==-1){this._arrowReleased(node);}else{this._arrowPressed(node,(node==this.upArrowNode)?1:-1,inc);}},_wheelTimer:null,_mouseWheeled:function(evt){_a47.stop(evt);var _a51=evt.wheelDelta/120;if(Math.floor(_a51)!=_a51){_a51=evt.wheelDelta>0?1:-1;}var _a52=evt.detail?(evt.detail*-1):_a51;if(_a52!==0){var node=this[(_a52>0?"upArrowNode":"downArrowNode")];this._arrowPressed(node,_a52,this.smallDelta);if(this._wheelTimer){this._wheelTimer.remove();}this._wheelTimer=this.defer(function(){this._arrowReleased(node);},50);}},_setConstraintsAttr:function(_a53){this.inherited(arguments);if(this.focusNode){if(this.constraints.min!==undefined){this.focusNode.setAttribute("aria-valuemin",this.constraints.min);}else{this.focusNode.removeAttribute("aria-valuemin");}if(this.constraints.max!==undefined){this.focusNode.setAttribute("aria-valuemax",this.constraints.max);}else{this.focusNode.removeAttribute("aria-valuemax");}}},_setValueAttr:function(_a54,_a55){this.focusNode.setAttribute("aria-valuenow",_a54);this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,_a48.wheel,"_mouseWheeled");this.own(_a49.addListener(this.upArrowNode,this.textbox,{charOrCode:keys.UP_ARROW,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),_a49.addListener(this.downArrowNode,this.textbox,{charOrCode:keys.DOWN_ARROW,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),_a49.addListener(this.upArrowNode,this.textbox,{charOrCode:keys.PAGE_UP,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),_a49.addListener(this.downArrowNode,this.textbox,{charOrCode:keys.PAGE_DOWN,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout));}});});},"dijit/typematic":function(){define("dijit/typematic",["dojo/_base/array","dojo/_base/connect","dojo/_base/event","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/sniff","./main"],function(_a56,_a57,_a58,_a59,lang,on,has,_a5a){var _a5b=(_a5a.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(this._currentTimeout<0?this._initialDelay:(this._subsequentDelay>1?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay)),this._minDelay);this._timer=setTimeout(lang.hitch(this,"_fireEventAndReload"),this._currentTimeout);},trigger:function(evt,_a5c,node,_a5d,obj,_a5e,_a5f,_a60){if(obj!=this._obj){this.stop();this._initialDelay=_a5f||500;this._subsequentDelay=_a5e||0.9;this._minDelay=_a60||10;this._obj=obj;this._node=node;this._currentTimeout=-1;this._count=-1;this._callback=lang.hitch(_a5c,_a5d);this._evt={faux:true};for(var attr in evt){if(attr!="layerX"&&attr!="layerY"){var v=evt[attr];if(typeof v!="function"&&typeof v!="undefined"){this._evt[attr]=v;}}}this._fireEventAndReload();}},stop:function(){if(this._timer){clearTimeout(this._timer);this._timer=null;}if(this._obj){this._callback(-1,this._node,this._evt);this._obj=null;}},addKeyListener:function(node,_a61,_a62,_a63,_a64,_a65,_a66){if(_a61.keyCode){_a61.charOrCode=_a61.keyCode;_a59.deprecated("keyCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}else{if(_a61.charCode){_a61.charOrCode=String.fromCharCode(_a61.charCode);_a59.deprecated("charCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}}var _a67=[on(node,_a57._keypress,lang.hitch(this,function(evt){if(evt.charOrCode==_a61.charOrCode&&(_a61.ctrlKey===undefined||_a61.ctrlKey==evt.ctrlKey)&&(_a61.altKey===undefined||_a61.altKey==evt.altKey)&&(_a61.metaKey===undefined||_a61.metaKey==(evt.metaKey||false))&&(_a61.shiftKey===undefined||_a61.shiftKey==evt.shiftKey)){_a58.stop(evt);_a5b.trigger(evt,_a62,node,_a63,_a61,_a64,_a65,_a66);}else{if(_a5b._obj==_a61){_a5b.stop();}}})),on(node,"keyup",lang.hitch(this,function(){if(_a5b._obj==_a61){_a5b.stop();}}))];return {remove:function(){_a56.forEach(_a67,function(h){h.remove();});}};},addMouseListener:function(node,_a68,_a69,_a6a,_a6b,_a6c){var _a6d=[on(node,"mousedown",lang.hitch(this,function(evt){evt.preventDefault();_a5b.trigger(evt,_a68,node,_a69,node,_a6a,_a6b,_a6c);})),on(node,"mouseup",lang.hitch(this,function(evt){if(this._obj){evt.preventDefault();}_a5b.stop();})),on(node,"mouseout",lang.hitch(this,function(evt){if(this._obj){evt.preventDefault();}_a5b.stop();})),on(node,"dblclick",lang.hitch(this,function(evt){evt.preventDefault();if(has("ie")<9){_a5b.trigger(evt,_a68,node,_a69,node,_a6a,_a6b,_a6c);setTimeout(lang.hitch(this,_a5b.stop),50);}}))];return {remove:function(){_a56.forEach(_a6d,function(h){h.remove();});}};},addListener:function(_a6e,_a6f,_a70,_a71,_a72,_a73,_a74,_a75){var _a76=[this.addKeyListener(_a6f,_a70,_a71,_a72,_a73,_a74,_a75),this.addMouseListener(_a6e,_a71,_a72,_a73,_a74,_a75)];return {remove:function(){_a56.forEach(_a76,function(h){h.remove();});}};}});return _a5b;});},"dijit/form/RangeBoundTextBox":function(){define("dijit/form/RangeBoundTextBox",["dojo/_base/declare","dojo/i18n","./MappedTextBox"],function(_a77,i18n,_a78){var _a79=_a77("dijit.form.RangeBoundTextBox",_a78,{rangeMessage:"",rangeCheck:function(_a7a,_a7b){return ("min" in _a7b?(this.compare(_a7a,_a7b.min)>=0):true)&&("max" in _a7b?(this.compare(_a7a,_a7b.max)<=0):true);},isInRange:function(){return this.rangeCheck(this.get("value"),this.constraints);},_isDefinitelyOutOfRange:function(){var val=this.get("value");if(val==null){return false;}var _a7c=false;if("min" in this.constraints){var min=this.constraints.min;_a7c=this.compare(val,((typeof min=="number")&&min>=0&&val!=0)?0:min)<0;}if(!_a7c&&("max" in this.constraints)){var max=this.constraints.max;_a7c=this.compare(val,((typeof max!="number")||max>0)?max:0)>0;}return _a7c;},_isValidSubset:function(){return this.inherited(arguments)&&!this._isDefinitelyOutOfRange();},isValid:function(_a7d){return this.inherited(arguments)&&((this._isEmpty(this.textbox.value)&&!this.required)||this.isInRange(_a7d));},getErrorMessage:function(_a7e){var v=this.get("value");if(v!=null&&v!==""&&(typeof v!="number"||!isNaN(v))&&!this.isInRange(_a7e)){return this.rangeMessage;}return this.inherited(arguments);},postMixInProperties:function(){this.inherited(arguments);if(!this.rangeMessage){this.messages=i18n.getLocalization("dijit.form","validate",this.lang);this.rangeMessage=this.messages.rangeMessage;}},applyTextDir:function(){}});return _a79;});},"dijit/form/MappedTextBox":function(){define("dijit/form/MappedTextBox",["dojo/_base/declare","dojo/dom-construct","./ValidationTextBox"],function(_a7f,_a80,_a81){return _a7f("dijit.form.MappedTextBox",_a81,{postMixInProperties:function(){this.inherited(arguments);this.nameAttrSetting="";},_setNameAttr:null,serialize:function(val){return val.toString?val.toString():"";},toString:function(){var val=this.filter(this.get("value"));return val!=null?(typeof val=="string"?val:this.serialize(val,this.constraints)):"";},validate:function(){this.valueNode.value=this.toString();return this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);this.valueNode=_a80.place("<input type='hidden'"+(this.name?" name=\""+this.name.replace(/"/g,"&quot;")+"\"":"")+"/>",this.textbox,"after");},reset:function(){this.valueNode.value="";this.inherited(arguments);}});});},"url:dijit/form/templates/Spinner.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\" role=\"presentation\"\n\t><div class=\"dijitReset dijitButtonNode dijitSpinnerButtonContainer\"\n\t\t><input class=\"dijitReset dijitInputField dijitSpinnerButtonInner\" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t/><div class=\"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitUpArrowButton\"\n\t\t\tdata-dojo-attach-point=\"upArrowNode\"\n\t\t\t><div class=\"dijitArrowButtonInner\"\n\t\t\t\t><input class=\"dijitReset dijitInputField\" value=\"&#9650; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/></div\n\t\t></div\n\t\t><div class=\"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitDownArrowButton\"\n\t\t\tdata-dojo-attach-point=\"downArrowNode\"\n\t\t\t><div class=\"dijitArrowButtonInner\"\n\t\t\t\t><input class=\"dijitReset dijitInputField\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/></div\n\t\t></div\n\t></div\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class='dijitReset dijitInputInner' data-dojo-attach-point=\"textbox,focusNode\" type=\"${type}\" data-dojo-attach-event=\"onkeypress:_onKeyPress\"\n\t\t\trole=\"spinbutton\" autocomplete=\"off\" ${!nameAttrSetting}\n\t/></div\n></div>\n","dijit/form/NumberTextBox":function(){define("dijit/form/NumberTextBox",["dojo/_base/declare","dojo/_base/lang","dojo/number","./RangeBoundTextBox"],function(_a82,lang,_a83,_a84){var _a85=_a82("dijit.form.NumberTextBoxMixin",null,{pattern:_a83.regexp,value:NaN,editOptions:{pattern:"#.######"},_formatter:_a83.format,postMixInProperties:function(){this.inherited(arguments);this._set("type","text");},_setConstraintsAttr:function(_a86){var _a87=typeof _a86.places=="number"?_a86.places:0;if(_a87){_a87++;}if(typeof _a86.max!="number"){_a86.max=9*Math.pow(10,15-_a87);}if(typeof _a86.min!="number"){_a86.min=-9*Math.pow(10,15-_a87);}this.inherited(arguments,[_a86]);if(this.focusNode&&this.focusNode.value&&!isNaN(this.value)){this.set("value",this.value);}},_onFocus:function(){if(this.disabled){return;}var val=this.get("value");if(typeof val=="number"&&!isNaN(val)){var _a88=this.format(val,this.constraints);if(_a88!==undefined){this.textbox.value=_a88;}}this.inherited(arguments);},format:function(_a89,_a8a){var _a8b=String(_a89);if(typeof _a89!="number"){return _a8b;}if(isNaN(_a89)){return "";}if(!("rangeCheck" in this&&this.rangeCheck(_a89,_a8a))&&_a8a.exponent!==false&&/\de[-+]?\d/i.test(_a8b)){return _a8b;}if(this.editOptions&&this.focused){_a8a=lang.mixin({},_a8a,this.editOptions);}return this._formatter(_a89,_a8a);},_parser:_a83.parse,parse:function(_a8c,_a8d){var v=this._parser(_a8c,lang.mixin({},_a8d,(this.editOptions&&this.focused)?this.editOptions:{}));if(this.editOptions&&this.focused&&isNaN(v)){v=this._parser(_a8c,_a8d);}return v;},_getDisplayedValueAttr:function(){var v=this.inherited(arguments);return isNaN(v)?this.textbox.value:v;},filter:function(_a8e){return (_a8e==null||_a8e==="")?NaN:this.inherited(arguments);},serialize:function(_a8f,_a90){return (typeof _a8f!="number"||isNaN(_a8f))?"":this.inherited(arguments);},_setBlurValue:function(){var val=lang.hitch(lang.mixin({},this,{focused:true}),"get")("value");this._setValueAttr(val,true);},_setValueAttr:function(_a91,_a92,_a93){if(_a91!==undefined&&_a93===undefined){_a93=String(_a91);if(typeof _a91=="number"){if(isNaN(_a91)){_a93="";}else{if(("rangeCheck" in this&&this.rangeCheck(_a91,this.constraints))||this.constraints.exponent===false||!/\de[-+]?\d/i.test(_a93)){_a93=undefined;}}}else{if(!_a91){_a93="";_a91=NaN;}else{_a91=undefined;}}}this.inherited(arguments,[_a91,_a92,_a93]);},_getValueAttr:function(){var v=this.inherited(arguments);if(isNaN(v)&&this.textbox.value!==""){if(this.constraints.exponent!==false&&/\de[-+]?\d/i.test(this.textbox.value)&&(new RegExp("^"+_a83._realNumberRegexp(lang.mixin({},this.constraints))+"$").test(this.textbox.value))){var n=Number(this.textbox.value);return isNaN(n)?undefined:n;}else{return undefined;}}else{return v;}},isValid:function(_a94){if(!this.focused||this._isEmpty(this.textbox.value)){return this.inherited(arguments);}else{var v=this.get("value");if(!isNaN(v)&&this.rangeCheck(v,this.constraints)){if(this.constraints.exponent!==false&&/\de[-+]?\d/i.test(this.textbox.value)){return true;}else{return this.inherited(arguments);}}else{return false;}}}});var _a95=_a82("dijit.form.NumberTextBox",[_a84,_a85],{baseClass:"dijitTextBox dijitNumberTextBox"});_a95.Mixin=_a85;return _a95;});},"dojo/number":function(){define("dojo/number",["./_base/lang","./i18n","./i18n!./cldr/nls/number","./string","./regexp"],function(lang,i18n,_a96,_a97,_a98){var _a99={};lang.setObject("dojo.number",_a99);_a99.format=function(_a9a,_a9b){_a9b=lang.mixin({},_a9b||{});var _a9c=i18n.normalizeLocale(_a9b.locale),_a9d=i18n.getLocalization("dojo.cldr","number",_a9c);_a9b.customs=_a9d;var _a9e=_a9b.pattern||_a9d[(_a9b.type||"decimal")+"Format"];if(isNaN(_a9a)||Math.abs(_a9a)==Infinity){return null;}return _a99._applyPattern(_a9a,_a9e,_a9b);};_a99._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;_a99._applyPattern=function(_a9f,_aa0,_aa1){_aa1=_aa1||{};var _aa2=_aa1.customs.group,_aa3=_aa1.customs.decimal,_aa4=_aa0.split(";"),_aa5=_aa4[0];_aa0=_aa4[(_a9f<0)?1:0]||("-"+_aa5);if(_aa0.indexOf("%")!=-1){_a9f*=100;}else{if(_aa0.indexOf("")!=-1){_a9f*=1000;}else{if(_aa0.indexOf("")!=-1){_aa2=_aa1.customs.currencyGroup||_aa2;_aa3=_aa1.customs.currencyDecimal||_aa3;_aa0=_aa0.replace(/\u00a4{1,3}/,function(_aa6){var prop=["symbol","currency","displayName"][_aa6.length-1];return _aa1[prop]||_aa1.currency||"";});}else{if(_aa0.indexOf("E")!=-1){throw new Error("exponential notation not supported");}}}}var _aa7=_a99._numberPatternRE;var _aa8=_aa5.match(_aa7);if(!_aa8){throw new Error("unable to find a number expression in pattern: "+_aa0);}if(_aa1.fractional===false){_aa1.places=0;}return _aa0.replace(_aa7,_a99._formatAbsolute(_a9f,_aa8[0],{decimal:_aa3,group:_aa2,places:_aa1.places,round:_aa1.round}));};_a99.round=function(_aa9,_aaa,_aab){var _aac=10/(_aab||10);return (_aac*+_aa9).toFixed(_aaa)/_aac;};if((0.9).toFixed()==0){var _aad=_a99.round;_a99.round=function(v,p,m){var d=Math.pow(10,-p||0),a=Math.abs(v);if(!v||a>=d){d=0;}else{a/=d;if(a<0.5||a>=0.95){d=0;}}return _aad(v,p,m)+(v>0?d:-d);};}_a99._formatAbsolute=function(_aae,_aaf,_ab0){_ab0=_ab0||{};if(_ab0.places===true){_ab0.places=0;}if(_ab0.places===Infinity){_ab0.places=6;}var _ab1=_aaf.split("."),_ab2=typeof _ab0.places=="string"&&_ab0.places.indexOf(","),_ab3=_ab0.places;if(_ab2){_ab3=_ab0.places.substring(_ab2+1);}else{if(!(_ab3>=0)){_ab3=(_ab1[1]||[]).length;}}if(!(_ab0.round<0)){_aae=_a99.round(_aae,_ab3,_ab0.round);}var _ab4=String(Math.abs(_aae)).split("."),_ab5=_ab4[1]||"";if(_ab1[1]||_ab0.places){if(_ab2){_ab0.places=_ab0.places.substring(0,_ab2);}var pad=_ab0.places!==undefined?_ab0.places:(_ab1[1]&&_ab1[1].lastIndexOf("0")+1);if(pad>_ab5.length){_ab4[1]=_a97.pad(_ab5,pad,"0",true);}if(_ab3<_ab5.length){_ab4[1]=_ab5.substr(0,_ab3);}}else{if(_ab4[1]){_ab4.pop();}}var _ab6=_ab1[0].replace(",","");pad=_ab6.indexOf("0");if(pad!=-1){pad=_ab6.length-pad;if(pad>_ab4[0].length){_ab4[0]=_a97.pad(_ab4[0],pad);}if(_ab6.indexOf("#")==-1){_ab4[0]=_ab4[0].substr(_ab4[0].length-pad);}}var _ab7=_ab1[0].lastIndexOf(","),_ab8,_ab9;if(_ab7!=-1){_ab8=_ab1[0].length-_ab7-1;var _aba=_ab1[0].substr(0,_ab7);_ab7=_aba.lastIndexOf(",");if(_ab7!=-1){_ab9=_aba.length-_ab7-1;}}var _abb=[];for(var _abc=_ab4[0];_abc;){var off=_abc.length-_ab8;_abb.push((off>0)?_abc.substr(off):_abc);_abc=(off>0)?_abc.slice(0,off):"";if(_ab9){_ab8=_ab9;delete _ab9;}}_ab4[0]=_abb.reverse().join(_ab0.group||",");return _ab4.join(_ab0.decimal||".");};_a99.regexp=function(_abd){return _a99._parseInfo(_abd).regexp;};_a99._parseInfo=function(_abe){_abe=_abe||{};var _abf=i18n.normalizeLocale(_abe.locale),_ac0=i18n.getLocalization("dojo.cldr","number",_abf),_ac1=_abe.pattern||_ac0[(_abe.type||"decimal")+"Format"],_ac2=_ac0.group,_ac3=_ac0.decimal,_ac4=1;if(_ac1.indexOf("%")!=-1){_ac4/=100;}else{if(_ac1.indexOf("")!=-1){_ac4/=1000;}else{var _ac5=_ac1.indexOf("")!=-1;if(_ac5){_ac2=_ac0.currencyGroup||_ac2;_ac3=_ac0.currencyDecimal||_ac3;}}}var _ac6=_ac1.split(";");if(_ac6.length==1){_ac6.push("-"+_ac6[0]);}var re=_a98.buildGroupRE(_ac6,function(_ac7){_ac7="(?:"+_a98.escapeString(_ac7,".")+")";return _ac7.replace(_a99._numberPatternRE,function(_ac8){var _ac9={signed:false,separator:_abe.strict?_ac2:[_ac2,""],fractional:_abe.fractional,decimal:_ac3,exponent:false},_aca=_ac8.split("."),_acb=_abe.places;if(_aca.length==1&&_ac4!=1){_aca[1]="###";}if(_aca.length==1||_acb===0){_ac9.fractional=false;}else{if(_acb===undefined){_acb=_abe.pattern?_aca[1].lastIndexOf("0")+1:Infinity;}if(_acb&&_abe.fractional==undefined){_ac9.fractional=true;}if(!_abe.places&&(_acb<_aca[1].length)){_acb+=","+_aca[1].length;}_ac9.places=_acb;}var _acc=_aca[0].split(",");if(_acc.length>1){_ac9.groupSize=_acc.pop().length;if(_acc.length>1){_ac9.groupSize2=_acc.pop().length;}}return "("+_a99._realNumberRegexp(_ac9)+")";});},true);if(_ac5){re=re.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(_acd,_ace,_acf,_ad0){var prop=["symbol","currency","displayName"][_acf.length-1],_ad1=_a98.escapeString(_abe[prop]||_abe.currency||"");_ace=_ace?"[\\s\\xa0]":"";_ad0=_ad0?"[\\s\\xa0]":"";if(!_abe.strict){if(_ace){_ace+="*";}if(_ad0){_ad0+="*";}return "(?:"+_ace+_ad1+_ad0+")?";}return _ace+_ad1+_ad0;});}return {regexp:re.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:_ac2,decimal:_ac3,factor:_ac4};};_a99.parse=function(_ad2,_ad3){var info=_a99._parseInfo(_ad3),_ad4=(new RegExp("^"+info.regexp+"$")).exec(_ad2);if(!_ad4){return NaN;}var _ad5=_ad4[1];if(!_ad4[1]){if(!_ad4[2]){return NaN;}_ad5=_ad4[2];info.factor*=-1;}_ad5=_ad5.replace(new RegExp("["+info.group+"\\s\\xa0"+"]","g"),"").replace(info.decimal,".");return _ad5*info.factor;};_a99._realNumberRegexp=function(_ad6){_ad6=_ad6||{};if(!("places" in _ad6)){_ad6.places=Infinity;}if(typeof _ad6.decimal!="string"){_ad6.decimal=".";}if(!("fractional" in _ad6)||/^0/.test(_ad6.places)){_ad6.fractional=[true,false];}if(!("exponent" in _ad6)){_ad6.exponent=[true,false];}if(!("eSigned" in _ad6)){_ad6.eSigned=[true,false];}var _ad7=_a99._integerRegexp(_ad6),_ad8=_a98.buildGroupRE(_ad6.fractional,function(q){var re="";if(q&&(_ad6.places!==0)){re="\\"+_ad6.decimal;if(_ad6.places==Infinity){re="(?:"+re+"\\d+)?";}else{re+="\\d{"+_ad6.places+"}";}}return re;},true);var _ad9=_a98.buildGroupRE(_ad6.exponent,function(q){if(q){return "([eE]"+_a99._integerRegexp({signed:_ad6.eSigned})+")";}return "";});var _ada=_ad7+_ad8;if(_ad8){_ada="(?:(?:"+_ada+")|(?:"+_ad8+"))";}return _ada+_ad9;};_a99._integerRegexp=function(_adb){_adb=_adb||{};if(!("signed" in _adb)){_adb.signed=[true,false];}if(!("separator" in _adb)){_adb.separator="";}else{if(!("groupSize" in _adb)){_adb.groupSize=3;}}var _adc=_a98.buildGroupRE(_adb.signed,function(q){return q?"[-+]":"";},true);var _add=_a98.buildGroupRE(_adb.separator,function(sep){if(!sep){return "(?:\\d+)";}sep=_a98.escapeString(sep);if(sep==" "){sep="\\s";}else{if(sep==""){sep="\\s\\xa0";}}var grp=_adb.groupSize,grp2=_adb.groupSize2;if(grp2){var _ade="(?:0|[1-9]\\d{0,"+(grp2-1)+"}(?:["+sep+"]\\d{"+grp2+"})*["+sep+"]\\d{"+grp+"})";return ((grp-grp2)>0)?"(?:"+_ade+"|(?:0|[1-9]\\d{0,"+(grp-1)+"}))":_ade;}return "(?:0|[1-9]\\d{0,"+(grp-1)+"}(?:["+sep+"]\\d{"+grp+"})*)";},true);return _adc+_add;};return _a99;});},"epi/patch/dijit/_HasDropDown":function(){define("epi/patch/dijit/_HasDropDown",["dojo/_base/array","dojo/_base/lang","dijit/_HasDropDown"],function(_adf,lang,_ae0){lang.mixin(_ae0.prototype,{_onBlur:function(){var _ae1=focus.curNode&&this.dropDown&&dom.isDescendant(focus.curNode,this.dropDown.domNode);this.inherited(arguments);this.closeDropDown(_ae1);},destroy:function(){if(this._opened){this.closeDropDown(true);}if(this.dropDown){if(!this.dropDown._destroyed){this.dropDown.destroyRecursive();}delete this.dropDown;}this.inherited(arguments);}});_ae0.prototype._onBlur.nom="_onBlur";_ae0.prototype.destroy.nom="destroy";});},"epi/patch/dojox/form/uploader/plugins/HTML5":function(){define("epi/patch/dojox/form/uploader/plugins/HTML5",["dojo/_base/lang","dojox/form/Uploader","dojox/form/uploader/plugins/HTML5"],function(lang,_ae2,_ae3){lang.mixin(_ae3.prototype,{createXhr:function(){var xhr=new XMLHttpRequest();var _ae4;xhr.upload.addEventListener("progress",lang.hitch(this,"_xhrProgress"),false);xhr.addEventListener("load",lang.hitch(this,"_xhrProgress"),false);xhr.addEventListener("error",lang.hitch(this,function(evt){this.onError(evt);clearInterval(_ae4);}),false);xhr.addEventListener("abort",lang.hitch(this,function(evt){this.onAbort(evt);clearInterval(_ae4);}),false);xhr.onreadystatechange=lang.hitch(this,function(){if(xhr.readyState===4){clearInterval(_ae4);var _ae5;try{_ae5=JSON.parse(xhr.responseText.replace(/^\{\}&&/,""));}catch(e){this.onError({message:e.message,data:xhr.responseText,statusCode:xhr.status,headers:xhr.getAllResponseHeaders()});return;}this.onComplete(_ae5);}});xhr.open("POST",this.getUrl());_ae4=setInterval(lang.hitch(this,function(){try{if(typeof (xhr.statusText)){}}catch(e){clearInterval(_ae4);}}),250);return xhr;}});_ae3.prototype.createXhr.nom="createXhr";});},"epi/patch/dijit/tree/Tree":function(){define("epi/patch/dijit/tree/Tree",["dojo/_base/array","dojo/_base/lang","dojo/DeferredList","dijit/_Container","dijit/Tree"],function(_ae6,lang,_ae7,_ae8,Tree){lang.mixin(Tree._TreeNode.prototype,{setChildItems:function(_ae9){var tree=this.tree,_aea=tree.model,defs=[];var _aeb=this.getChildren();_ae6.forEach(_aeb,function(_aec){_ae8.prototype.removeChild.call(this,_aec);},this);this.defer(function(){_ae6.forEach(_aeb,function(node){if(!node._destroyed&&!node.getParent()){tree.dndController.removeTreeNode(node);function _aed(node){var id=_aea.getIdentity(node.item),ary=tree._itemNodesMap[id];if(ary.length==1){delete tree._itemNodesMap[id];}else{var _aee=_ae6.indexOf(ary,node);if(_aee!=-1){ary.splice(_aee,1);}}_ae6.forEach(node.getChildren(),_aed);};_aed(node);node.destroyRecursive();}});});this.state="LOADED";if(_ae9&&_ae9.length>0){this.isExpandable=true;_ae6.forEach(_ae9,function(item){var id=_aea.getIdentity(item),_aef=tree._itemNodesMap[id],node;if(_aef){for(var i=0;i<_aef.length;i++){if(_aef[i]&&!_aef[i].getParent()){node=_aef[i];node.set("indent",this.indent+1);break;}}}if(!node){node=this.tree._createTreeNode({item:item,tree:tree,isExpandable:_aea.mayHaveChildren(item),label:tree.getLabel(item),tooltip:tree.getTooltip(item),ownerDocument:tree.ownerDocument,dir:tree.dir,lang:tree.lang,textDir:tree.textDir,indent:this.indent+1});if(_aef){_aef.push(node);}else{tree._itemNodesMap[id]=[node];}}this.addChild(node);if(this.tree.autoExpand||this.tree._state(node)){defs.push(tree._expandNode(node));}},this);_ae6.forEach(this.getChildren(),function(_af0){_af0._updateLayout();});}else{this.isExpandable=false;}if(this._setExpando){this._setExpando(false);}this._updateItemClasses(this.item);if(this==tree.rootNode){var fc=this.tree.showRoot?this:this.getChildren()[0];if(fc){fc.setFocusable(true);tree.lastFocused=fc;}else{tree.domNode.setAttribute("tabIndex","0");}}var def=new _ae7(defs);this.tree._startPaint(def);return def;}});Tree._TreeNode.prototype.setChildItems.nom="setChildItems";lang.mixin(Tree.prototype,{_adjustWidths:function(){if(this._adjustWidthsTimer){this._adjustWidthsTimer.remove();delete this._adjustWidthsTimer;}}});Tree.prototype._adjustWidths.nom="_adjustWidths";});},"dijit/Tree":function(){require({cache:{"url:dijit/templates/TreeNode.html":"<div class=\"dijitTreeNode\" role=\"presentation\"\n\t><div data-dojo-attach-point=\"rowNode\" class=\"dijitTreeRow dijitInline\" role=\"presentation\"\n\t\t><div data-dojo-attach-point=\"indentNode\" class=\"dijitInline\"></div\n\t\t><img src=\"${_blankGif}\" alt=\"\" data-dojo-attach-point=\"expandoNode\" class=\"dijitTreeExpando\" role=\"presentation\"\n\t\t/><span data-dojo-attach-point=\"expandoNodeText\" class=\"dijitExpandoText\" role=\"presentation\"\n\t\t></span\n\t\t><span data-dojo-attach-point=\"contentNode\"\n\t\t\tclass=\"dijitTreeContent\" role=\"presentation\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" data-dojo-attach-point=\"iconNode\" class=\"dijitIcon dijitTreeIcon\" role=\"presentation\"\n\t\t\t/><span data-dojo-attach-point=\"labelNode\" class=\"dijitTreeLabel\" role=\"treeitem\" tabindex=\"-1\" aria-selected=\"false\"></span>\n\t\t</span\n\t></div>\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitTreeContainer\" role=\"presentation\" style=\"display: none;\"></div>\n</div>\n","url:dijit/templates/Tree.html":"<div class=\"dijitTree dijitTreeContainer\" role=\"tree\">\n\t<div class=\"dijitInline dijitTreeIndent\" style=\"position: absolute; top: -9999px\" data-dojo-attach-point=\"indentDetector\"></div>\n</div>\n"}});define("dijit/Tree",["dojo/_base/array","dojo/_base/connect","dojo/cookie","dojo/_base/declare","dojo/Deferred","dojo/DeferredList","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/event","dojo/errors/create","dojo/fx","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/on","dojo/topic","dojo/touch","dojo/when","./focus","./registry","./_base/manager","./_Widget","./_TemplatedMixin","./_Container","./_Contained","./_CssStateMixin","dojo/text!./templates/TreeNode.html","dojo/text!./templates/Tree.html","./tree/TreeStoreModel","./tree/ForestStoreModel","./tree/_dndSelector"],function(_af1,_af2,_af3,_af4,_af5,_af6,dom,_af7,_af8,_af9,_afa,_afb,_afc,_afd,keys,lang,on,_afe,_aff,when,_b00,_b01,_b02,_b03,_b04,_b05,_b06,_b07,_b08,_b09,_b0a,_b0b,_b0c){_af5=_af4(_af5,{addCallback:function(_b0d){this.then(_b0d);},addErrback:function(_b0e){this.then(null,_b0e);}});var _b0f=_af4("dijit._TreeNode",[_b03,_b04,_b05,_b06,_b07],{item:null,isTreeNode:true,label:"",_setLabelAttr:{node:"labelNode",type:"innerText"},isExpandable:null,isExpanded:false,state:"UNCHECKED",templateString:_b08,baseClass:"dijitTreeNode",cssStateNodes:{rowNode:"dijitTreeRow"},_setTooltipAttr:{node:"rowNode",type:"attribute",attribute:"title"},buildRendering:function(){this.inherited(arguments);this._setExpando();this._updateItemClasses(this.item);if(this.isExpandable){this.labelNode.setAttribute("aria-expanded",this.isExpanded);}this.setSelected(false);},_setIndentAttr:function(_b10){var _b11=(Math.max(_b10,0)*this.tree._nodePixelIndent)+"px";_af9.set(this.domNode,"backgroundPosition",_b11+" 0px");_af9.set(this.indentNode,this.isLeftToRight()?"paddingLeft":"paddingRight",_b11);_af1.forEach(this.getChildren(),function(_b12){_b12.set("indent",_b10+1);});this._set("indent",_b10);},markProcessing:function(){this.state="LOADING";this._setExpando(true);},unmarkProcessing:function(){this._setExpando(false);},_updateItemClasses:function(item){var tree=this.tree,_b13=tree.model;if(tree._v10Compat&&item===_b13.root){item=null;}this._applyClassAndStyle(item,"icon","Icon");this._applyClassAndStyle(item,"label","Label");this._applyClassAndStyle(item,"row","Row");this.tree._startPaint(true);},_applyClassAndStyle:function(item,_b14,_b15){var _b16="_"+_b14+"Class";var _b17=_b14+"Node";var _b18=this[_b16];this[_b16]=this.tree["get"+_b15+"Class"](item,this.isExpanded);_af7.replace(this[_b17],this[_b16]||"",_b18||"");_af9.set(this[_b17],this.tree["get"+_b15+"Style"](item,this.isExpanded)||{});},_updateLayout:function(){var _b19=this.getParent();if(!_b19||!_b19.rowNode||_b19.rowNode.style.display=="none"){_af7.add(this.domNode,"dijitTreeIsRoot");}else{_af7.toggle(this.domNode,"dijitTreeIsLast",!this.getNextSibling());}},_setExpando:function(_b1a){var _b1b=["dijitTreeExpandoLoading","dijitTreeExpandoOpened","dijitTreeExpandoClosed","dijitTreeExpandoLeaf"],_b1c=["*","-","+","*"],idx=_b1a?0:(this.isExpandable?(this.isExpanded?1:2):3);_af7.replace(this.expandoNode,_b1b[idx],_b1b);this.expandoNodeText.innerHTML=_b1c[idx];},expand:function(){if(this._expandDeferred){return this._expandDeferred;}if(this._collapseDeferred){this._collapseDeferred.cancel();delete this._collapseDeferred;}this.isExpanded=true;this.labelNode.setAttribute("aria-expanded","true");if(this.tree.showRoot||this!==this.tree.rootNode){this.containerNode.setAttribute("role","group");}_af7.add(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);if(this==this.tree.rootNode&&this.tree.showRoot){this.tree.domNode.setAttribute("aria-expanded","true");}var def,_b1d=_afc.wipeIn({node:this.containerNode,duration:_b02.defaultDuration,onEnd:function(){def.resolve(true);}});def=(this._expandDeferred=new _af5(function(){_b1d.stop();}));_b1d.play();return def;},collapse:function(){if(this._collapseDeferred){return this._collapseDeferred;}if(this._expandDeferred){this._expandDeferred.cancel();delete this._expandDeferred;}this.isExpanded=false;this.labelNode.setAttribute("aria-expanded","false");if(this==this.tree.rootNode&&this.tree.showRoot){this.tree.domNode.setAttribute("aria-expanded","false");}_af7.remove(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);var def,_b1e=_afc.wipeOut({node:this.containerNode,duration:_b02.defaultDuration,onEnd:function(){def.resolve(true);}});def=(this._collapseDeferred=new _af5(function(){_b1e.stop();}));_b1e.play();return def;},indent:0,setChildItems:function(_b1f){var tree=this.tree,_b20=tree.model,defs=[];var _b21=this.getChildren();_af1.forEach(_b21,function(_b22){_b05.prototype.removeChild.call(this,_b22);},this);this.defer(function(){_af1.forEach(_b21,function(node){if(!node._destroyed&&!node.getParent()){tree.dndController.removeTreeNode(node);var id=_b20.getIdentity(node.item),ary=tree._itemNodesMap[id];if(ary.length==1){delete tree._itemNodesMap[id];}else{var _b23=_af1.indexOf(ary,node);if(_b23!=-1){ary.splice(_b23,1);}}node.destroyRecursive();}});});this.state="LOADED";if(_b1f&&_b1f.length>0){this.isExpandable=true;_af1.forEach(_b1f,function(item){var id=_b20.getIdentity(item),_b24=tree._itemNodesMap[id],node;if(_b24){for(var i=0;i<_b24.length;i++){if(_b24[i]&&!_b24[i].getParent()){node=_b24[i];node.set("indent",this.indent+1);break;}}}if(!node){node=this.tree._createTreeNode({item:item,tree:tree,isExpandable:_b20.mayHaveChildren(item),label:tree.getLabel(item),tooltip:tree.getTooltip(item),ownerDocument:tree.ownerDocument,dir:tree.dir,lang:tree.lang,textDir:tree.textDir,indent:this.indent+1});if(_b24){_b24.push(node);}else{tree._itemNodesMap[id]=[node];}}this.addChild(node);if(this.tree.autoExpand||this.tree._state(node)){defs.push(tree._expandNode(node));}},this);_af1.forEach(this.getChildren(),function(_b25){_b25._updateLayout();});}else{this.isExpandable=false;}if(this._setExpando){this._setExpando(false);}this._updateItemClasses(this.item);if(this==tree.rootNode){var fc=this.tree.showRoot?this:this.getChildren()[0];if(fc){fc.setFocusable(true);tree.lastFocused=fc;}else{tree.domNode.setAttribute("tabIndex","0");}}var def=new _af6(defs);this.tree._startPaint(def);return def;},getTreePath:function(){var node=this;var path=[];while(node&&node!==this.tree.rootNode){path.unshift(node.item);node=node.getParent();}path.unshift(this.tree.rootNode.item);return path;},getIdentity:function(){return this.tree.model.getIdentity(this.item);},removeChild:function(node){this.inherited(arguments);var _b26=this.getChildren();if(_b26.length==0){this.isExpandable=false;this.collapse();}_af1.forEach(_b26,function(_b27){_b27._updateLayout();});},makeExpandable:function(){this.isExpandable=true;this._setExpando(false);},setSelected:function(_b28){this.labelNode.setAttribute("aria-selected",_b28?"true":"false");_af7.toggle(this.rowNode,"dijitTreeRowSelected",_b28);},setFocusable:function(_b29){this.labelNode.setAttribute("tabIndex",_b29?"0":"-1");},_setTextDirAttr:function(_b2a){if(_b2a&&((this.textDir!=_b2a)||!this._created)){this._set("textDir",_b2a);this.applyTextDir(this.labelNode,this.labelNode.innerText||this.labelNode.textContent||"");_af1.forEach(this.getChildren(),function(_b2b){_b2b.set("textDir",_b2a);},this);}}});var Tree=_af4("dijit.Tree",[_b03,_b04],{store:null,model:null,query:null,label:"",showRoot:true,childrenAttr:["children"],paths:[],path:[],selectedItems:null,selectedItem:null,openOnClick:false,openOnDblClick:false,templateString:_b09,persist:true,autoExpand:false,dndController:_b0c,dndParams:["onDndDrop","itemCreator","onDndCancel","checkAcceptance","checkItemAcceptance","dragThreshold","betweenThreshold"],onDndDrop:null,itemCreator:null,onDndCancel:null,checkAcceptance:null,checkItemAcceptance:null,dragThreshold:5,betweenThreshold:0,_nodePixelIndent:19,_publish:function(_b2c,_b2d){_afe.publish(this.id,lang.mixin({tree:this,event:_b2c},_b2d||{}));},postMixInProperties:function(){this.tree=this;if(this.autoExpand){this.persist=false;}this._itemNodesMap={};if(!this.cookieName&&this.id){this.cookieName=this.id+"SaveStateCookie";}this.expandChildrenDeferred=new _af5();this.pendingCommandsDeferred=this.expandChildrenDeferred;this.inherited(arguments);},postCreate:function(){this._initState();var self=this;this.own(on(this.domNode,on.selector(".dijitTreeNode",_aff.enter),function(evt){self._onNodeMouseEnter(_b01.byNode(this),evt);}),on(this.domNode,on.selector(".dijitTreeNode",_aff.leave),function(evt){self._onNodeMouseLeave(_b01.byNode(this),evt);}),on(this.domNode,on.selector(".dijitTreeNode","click"),function(evt){self._onClick(_b01.byNode(this),evt);}),on(this.domNode,on.selector(".dijitTreeNode","dblclick"),function(evt){self._onDblClick(_b01.byNode(this),evt);}),on(this.domNode,on.selector(".dijitTreeNode","keypress"),function(evt){self._onKeyPress(_b01.byNode(this),evt);}),on(this.domNode,on.selector(".dijitTreeNode","keydown"),function(evt){self._onKeyDown(_b01.byNode(this),evt);}),on(this.domNode,on.selector(".dijitTreeRow","focusin"),function(evt){self._onNodeFocus(_b01.getEnclosingWidget(this),evt);}));if(!this.model){this._store2model();}this.connect(this.model,"onChange","_onItemChange");this.connect(this.model,"onChildrenChange","_onItemChildrenChange");this.connect(this.model,"onDelete","_onItemDelete");this.inherited(arguments);if(this.dndController){if(lang.isString(this.dndController)){this.dndController=lang.getObject(this.dndController);}var _b2e={};for(var i=0;i<this.dndParams.length;i++){if(this[this.dndParams[i]]){_b2e[this.dndParams[i]]=this[this.dndParams[i]];}}this.dndController=new this.dndController(this,_b2e);}this._load();if(!this.params.path&&!this.params.paths&&this.persist){this.set("paths",this.dndController._getSavedPaths());}this.onLoadDeferred=this.pendingCommandsDeferred;this.onLoadDeferred.then(lang.hitch(this,"onLoad"));},_store2model:function(){this._v10Compat=true;_afd.deprecated("Tree: from version 2.0, should specify a model object rather than a store/query");var _b2f={id:this.id+"_ForestStoreModel",store:this.store,query:this.query,childrenAttrs:this.childrenAttr};if(this.params.mayHaveChildren){_b2f.mayHaveChildren=lang.hitch(this,"mayHaveChildren");}if(this.params.getItemChildren){_b2f.getChildren=lang.hitch(this,function(item,_b30,_b31){this.getItemChildren((this._v10Compat&&item===this.model.root)?null:item,_b30,_b31);});}this.model=new _b0b(_b2f);this.showRoot=Boolean(this.label);},onLoad:function(){},_load:function(){this.model.getRoot(lang.hitch(this,function(item){var rn=(this.rootNode=this.tree._createTreeNode({item:item,tree:this,isExpandable:true,label:this.label||this.getLabel(item),textDir:this.textDir,indent:this.showRoot?0:-1}));if(!this.showRoot){rn.rowNode.style.display="none";this.domNode.setAttribute("role","presentation");this.domNode.removeAttribute("aria-expanded");this.domNode.removeAttribute("aria-multiselectable");rn.labelNode.setAttribute("role","presentation");rn.containerNode.setAttribute("role","tree");rn.containerNode.setAttribute("aria-expanded","true");rn.containerNode.setAttribute("aria-multiselectable",!this.dndController.singular);}else{this.domNode.setAttribute("aria-multiselectable",!this.dndController.singular);}this.domNode.appendChild(rn.domNode);var _b32=this.model.getIdentity(item);if(this._itemNodesMap[_b32]){this._itemNodesMap[_b32].push(rn);}else{this._itemNodesMap[_b32]=[rn];}rn._updateLayout();this._expandNode(rn).then(lang.hitch(this,function(){this.expandChildrenDeferred.resolve(true);}));}),lang.hitch(this,function(err){console.error(this,": error loading root: ",err);}));},getNodesByItem:function(item){if(!item){return [];}var _b33=lang.isString(item)?item:this.model.getIdentity(item);return [].concat(this._itemNodesMap[_b33]);},_setSelectedItemAttr:function(item){this.set("selectedItems",[item]);},_setSelectedItemsAttr:function(_b34){var tree=this;return this.pendingCommandsDeferred=this.pendingCommandsDeferred.then(lang.hitch(this,function(){var _b35=_af1.map(_b34,function(item){return (!item||lang.isString(item))?item:tree.model.getIdentity(item);});var _b36=[];_af1.forEach(_b35,function(id){_b36=_b36.concat(tree._itemNodesMap[id]||[]);});this.set("selectedNodes",_b36);}));},_setPathAttr:function(path){if(path.length){return this.set("paths",[path]);}else{return this.set("paths",[]);}},_setPathsAttr:function(_b37){var tree=this;return this.pendingCommandsDeferred=this.pendingCommandsDeferred.then(function(){return new _af6(_af1.map(_b37,function(path){var d=new _af5();path=_af1.map(path,function(item){return lang.isString(item)?item:tree.model.getIdentity(item);});if(path.length){_b38(path,[tree.rootNode],d);}else{d.reject(new Tree.PathError("Empty path"));}return d;}));}).then(_b39);function _b38(path,_b3a,def){var _b3b=path.shift();var _b3c=_af1.filter(_b3a,function(node){return node.getIdentity()==_b3b;})[0];if(!!_b3c){if(path.length){tree._expandNode(_b3c).then(function(){_b38(path,_b3c.getChildren(),def);});}else{def.resolve(_b3c);}}else{def.reject(new Tree.PathError("Could not expand path at "+_b3b));}};function _b39(_b3d){tree.set("selectedNodes",_af1.map(_af1.filter(_b3d,function(x){return x[0];}),function(x){return x[1];}));};},_setSelectedNodeAttr:function(node){this.set("selectedNodes",[node]);},_setSelectedNodesAttr:function(_b3e){this.dndController.setSelection(_b3e);},expandAll:function(){var _b3f=this;function _b40(node){var def=new dojo.Deferred();_b3f._expandNode(node).then(function(){var _b41=_af1.filter(node.getChildren()||[],function(node){return node.isExpandable;}),defs=_af1.map(_b41,_b40);new dojo.DeferredList(defs).then(function(){def.resolve(true);});});return def;};return _b40(this.rootNode);},collapseAll:function(){var _b42=this;function _b43(node){var def=new dojo.Deferred();def.label="collapseAllDeferred";var _b44=_af1.filter(node.getChildren()||[],function(node){return node.isExpandable;}),defs=_af1.map(_b44,_b43);new dojo.DeferredList(defs).then(function(){if(!node.isExpanded||(node==_b42.rootNode&&!_b42.showRoot)){def.resolve(true);}else{_b42._collapseNode(node).then(function(){def.resolve(true);});}});return def;};return _b43(this.rootNode);},mayHaveChildren:function(){},getItemChildren:function(){},getLabel:function(item){return this.model.getLabel(item);},getIconClass:function(item,_b45){return (!item||this.model.mayHaveChildren(item))?(_b45?"dijitFolderOpened":"dijitFolderClosed"):"dijitLeaf";},getLabelClass:function(){},getRowClass:function(){},getIconStyle:function(){},getLabelStyle:function(){},getRowStyle:function(){},getTooltip:function(){return "";},_onKeyPress:function(_b46,e){if(e.charCode<=32){return;}if(!e.altKey&&!e.ctrlKey&&!e.shiftKey&&!e.metaKey){var c=String.fromCharCode(e.charCode);this._onLetterKeyNav({node:_b46,key:c.toLowerCase()});_afa.stop(e);}},_onKeyDown:function(_b47,e){var key=e.keyCode;var map=this._keyHandlerMap;if(!map){map={};map[keys.ENTER]=map[keys.SPACE]=map[" "]="_onEnterKey";map[this.isLeftToRight()?keys.LEFT_ARROW:keys.RIGHT_ARROW]="_onLeftArrow";map[this.isLeftToRight()?keys.RIGHT_ARROW:keys.LEFT_ARROW]="_onRightArrow";map[keys.UP_ARROW]="_onUpArrow";map[keys.DOWN_ARROW]="_onDownArrow";map[keys.HOME]="_onHomeKey";map[keys.END]="_onEndKey";this._keyHandlerMap=map;}if(this._keyHandlerMap[key]){if(this._curSearch){this._curSearch.timer.remove();delete this._curSearch;}this[this._keyHandlerMap[key]]({node:_b47,item:_b47.item,evt:e});_afa.stop(e);}},_onEnterKey:function(_b48){this._publish("execute",{item:_b48.item,node:_b48.node});this.dndController.userSelect(_b48.node,_af2.isCopyKey(_b48.evt),_b48.evt.shiftKey);this.onClick(_b48.item,_b48.node,_b48.evt);},_onDownArrow:function(_b49){var node=this._getNextNode(_b49.node);if(node&&node.isTreeNode){this.focusNode(node);}},_onUpArrow:function(_b4a){var node=_b4a.node;var _b4b=node.getPreviousSibling();if(_b4b){node=_b4b;while(node.isExpandable&&node.isExpanded&&node.hasChildren()){var _b4c=node.getChildren();node=_b4c[_b4c.length-1];}}else{var _b4d=node.getParent();if(!(!this.showRoot&&_b4d===this.rootNode)){node=_b4d;}}if(node&&node.isTreeNode){this.focusNode(node);}},_onRightArrow:function(_b4e){var node=_b4e.node;if(node.isExpandable&&!node.isExpanded){this._expandNode(node);}else{if(node.hasChildren()){node=node.getChildren()[0];if(node&&node.isTreeNode){this.focusNode(node);}}}},_onLeftArrow:function(_b4f){var node=_b4f.node;if(node.isExpandable&&node.isExpanded){this._collapseNode(node);}else{var _b50=node.getParent();if(_b50&&_b50.isTreeNode&&!(!this.showRoot&&_b50===this.rootNode)){this.focusNode(_b50);}}},_onHomeKey:function(){var node=this._getRootOrFirstNode();if(node){this.focusNode(node);}},_onEndKey:function(){var node=this.rootNode;while(node.isExpanded){var c=node.getChildren();node=c[c.length-1];}if(node&&node.isTreeNode){this.focusNode(node);}},multiCharSearchDuration:250,_onLetterKeyNav:function(_b51){var cs=this._curSearch;if(cs){cs.pattern=cs.pattern+_b51.key;cs.timer.remove();}else{cs=this._curSearch={pattern:_b51.key,startNode:_b51.node};}cs.timer=this.defer(function(){delete this._curSearch;},this.multiCharSearchDuration);var node=cs.startNode;do{node=this._getNextNode(node);if(!node){node=this._getRootOrFirstNode();}}while(node!==cs.startNode&&(node.label.toLowerCase().substr(0,cs.pattern.length)!=cs.pattern));if(node&&node.isTreeNode){if(node!==cs.startNode){this.focusNode(node);}}},isExpandoNode:function(node,_b52){return dom.isDescendant(node,_b52.expandoNode)||dom.isDescendant(node,_b52.expandoNodeText);},_onClick:function(_b53,e){var _b54=e.target,_b55=this.isExpandoNode(_b54,_b53);if((this.openOnClick&&_b53.isExpandable)||_b55){if(_b53.isExpandable){this._onExpandoClick({node:_b53});}}else{this._publish("execute",{item:_b53.item,node:_b53,evt:e});this.onClick(_b53.item,_b53,e);this.focusNode(_b53);}_afa.stop(e);},_onDblClick:function(_b56,e){var _b57=e.target,_b58=(_b57==_b56.expandoNode||_b57==_b56.expandoNodeText);if((this.openOnDblClick&&_b56.isExpandable)||_b58){if(_b56.isExpandable){this._onExpandoClick({node:_b56});}}else{this._publish("execute",{item:_b56.item,node:_b56,evt:e});this.onDblClick(_b56.item,_b56,e);this.focusNode(_b56);}_afa.stop(e);},_onExpandoClick:function(_b59){var node=_b59.node;this.focusNode(node);if(node.isExpanded){this._collapseNode(node);}else{this._expandNode(node);}},onClick:function(){},onDblClick:function(){},onOpen:function(){},onClose:function(){},_getNextNode:function(node){if(node.isExpandable&&node.isExpanded&&node.hasChildren()){return node.getChildren()[0];}else{while(node&&node.isTreeNode){var _b5a=node.getNextSibling();if(_b5a){return _b5a;}node=node.getParent();}return null;}},_getRootOrFirstNode:function(){return this.showRoot?this.rootNode:this.rootNode.getChildren()[0];},_collapseNode:function(node){if(node._expandNodeDeferred){delete node._expandNodeDeferred;}if(node.state=="LOADING"){return;}if(node.isExpanded){var ret=node.collapse();this.onClose(node.item,node);this._state(node,false);this._startPaint(ret);return ret;}},_expandNode:function(node){var def=new _af5();if(node._expandNodeDeferred){return node._expandNodeDeferred;}var _b5b=this.model,item=node.item,_b5c=this;if(!node._loadDeferred){node.markProcessing();node._loadDeferred=new _af5();_b5b.getChildren(item,function(_b5d){node.unmarkProcessing();node.setChildItems(_b5d).then(function(){node._loadDeferred.resolve(_b5d);});},function(err){console.error(_b5c,": error loading "+node.label+" children: ",err);node._loadDeferred.reject(err);});}node._loadDeferred.then(lang.hitch(this,function(){node.expand().then(function(){def.resolve(true);});this.onOpen(node.item,node);this._state(node,true);}));this._startPaint(def);return def;},focusNode:function(node){_b00.focus(node.labelNode);},_onNodeFocus:function(node){if(node&&node!=this.lastFocused){if(this.lastFocused&&!this.lastFocused._destroyed){this.lastFocused.setFocusable(false);}node.setFocusable(true);this.lastFocused=node;}},_onNodeMouseEnter:function(){},_onNodeMouseLeave:function(){},_onItemChange:function(item){var _b5e=this.model,_b5f=_b5e.getIdentity(item),_b60=this._itemNodesMap[_b5f];if(_b60){var _b61=this.getLabel(item),_b62=this.getTooltip(item);_af1.forEach(_b60,function(node){node.set({item:item,label:_b61,tooltip:_b62});node._updateItemClasses(item);});}},_onItemChildrenChange:function(_b63,_b64){var _b65=this.model,_b66=_b65.getIdentity(_b63),_b67=this._itemNodesMap[_b66];if(_b67){_af1.forEach(_b67,function(_b68){_b68.setChildItems(_b64);});}},_onItemDelete:function(item){var _b69=this.model,_b6a=_b69.getIdentity(item),_b6b=this._itemNodesMap[_b6a];if(_b6b){_af1.forEach(_b6b,function(node){this.dndController.removeTreeNode(node);var _b6c=node.getParent();if(_b6c){_b6c.removeChild(node);}node.destroyRecursive();},this);delete this._itemNodesMap[_b6a];}},_initState:function(){this._openedNodes={};if(this.persist&&this.cookieName){var oreo=_af3(this.cookieName);if(oreo){_af1.forEach(oreo.split(","),function(item){this._openedNodes[item]=true;},this);}}},_state:function(node,_b6d){if(!this.persist){return false;}var path=_af1.map(node.getTreePath(),function(item){return this.model.getIdentity(item);},this).join("/");if(arguments.length===1){return this._openedNodes[path];}else{if(_b6d){this._openedNodes[path]=true;}else{delete this._openedNodes[path];}if(this.persist&&this.cookieName){var ary=[];for(var id in this._openedNodes){ary.push(id);}_af3(this.cookieName,ary.join(","),{expires:365});}}},destroy:function(){if(this._curSearch){this._curSearch.timer.remove();delete this._curSearch;}if(this.rootNode){this.rootNode.destroyRecursive();}if(this.dndController&&!lang.isString(this.dndController)){this.dndController.destroy();}this.rootNode=null;this.inherited(arguments);},destroyRecursive:function(){this.destroy();},resize:function(_b6e){if(_b6e){_af8.setMarginBox(this.domNode,_b6e);}this._nodePixelIndent=_af8.position(this.tree.indentDetector).w||this._nodePixelIndent;this.expandChildrenDeferred.then(lang.hitch(this,function(){this.rootNode.set("indent",this.showRoot?0:-1);this._adjustWidths();}));},_outstandingPaintOperations:0,_startPaint:function(p){this._outstandingPaintOperations++;if(this._adjustWidthsTimer){this._adjustWidthsTimer.remove();delete this._adjustWidthsTimer;}var oc=lang.hitch(this,function(){this._outstandingPaintOperations--;if(this._outstandingPaintOperations<=0&&!this._adjustWidthsTimer&&this._started){this._adjustWidthsTimer=this.defer("_adjustWidths");}});when(p,oc,oc);},_adjustWidths:function(){if(this._adjustWidthsTimer){this._adjustWidthsTimer.remove();delete this._adjustWidthsTimer;}var _b6f=0,_b70=[];function _b71(_b72){var node=_b72.rowNode;node.style.width="auto";_b6f=Math.max(_b6f,node.clientWidth);_b70.push(node);if(_b72.isExpanded){_af1.forEach(_b72.getChildren(),_b71);}};_b71(this.rootNode);_b6f=Math.max(_b6f,_af8.getContentBox(this.domNode).w);_af1.forEach(_b70,function(node){node.style.width=_b6f+"px";});},_createTreeNode:function(args){return new _b0f(args);},_setTextDirAttr:function(_b73){if(_b73&&this.textDir!=_b73){this._set("textDir",_b73);this.rootNode.set("textDir",_b73);}}});Tree.PathError=_afb("TreePathError");Tree._TreeNode=_b0f;return Tree;});},"dojo/fx":function(){define("dojo/fx",["./_base/lang","./Evented","./_base/kernel","./_base/array","./_base/connect","./_base/fx","./dom","./dom-style","./dom-geometry","./ready","require"],function(lang,_b74,dojo,_b75,_b76,_b77,dom,_b78,geom,_b79,_b7a){if(!dojo.isAsync){_b79(0,function(){var _b7b=["./fx/Toggler"];_b7a(_b7b);});}var _b7c=dojo.fx={};var _b7d={_fire:function(evt,args){if(this[evt]){this[evt].apply(this,args||[]);}return this;}};var _b7e=function(_b7f){this._index=-1;this._animations=_b7f||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;_b75.forEach(this._animations,function(a){this.duration+=a.duration;if(a.delay){this.duration+=a.delay;}},this);};_b7e.prototype=new _b74();lang.extend(_b7e,{_onAnimate:function(){this._fire("onAnimate",arguments);},_onEnd:function(){_b76.disconnect(this._onAnimateCtx);_b76.disconnect(this._onEndCtx);this._onAnimateCtx=this._onEndCtx=null;if(this._index+1==this._animations.length){this._fire("onEnd");}else{this._current=this._animations[++this._index];this._onAnimateCtx=_b76.connect(this._current,"onAnimate",this,"_onAnimate");this._onEndCtx=_b76.connect(this._current,"onEnd",this,"_onEnd");this._current.play(0,true);}},play:function(_b80,_b81){if(!this._current){this._current=this._animations[this._index=0];}if(!_b81&&this._current.status()=="playing"){return this;}var _b82=_b76.connect(this._current,"beforeBegin",this,function(){this._fire("beforeBegin");}),_b83=_b76.connect(this._current,"onBegin",this,function(arg){this._fire("onBegin",arguments);}),_b84=_b76.connect(this._current,"onPlay",this,function(arg){this._fire("onPlay",arguments);_b76.disconnect(_b82);_b76.disconnect(_b83);_b76.disconnect(_b84);});if(this._onAnimateCtx){_b76.disconnect(this._onAnimateCtx);}this._onAnimateCtx=_b76.connect(this._current,"onAnimate",this,"_onAnimate");if(this._onEndCtx){_b76.disconnect(this._onEndCtx);}this._onEndCtx=_b76.connect(this._current,"onEnd",this,"_onEnd");this._current.play.apply(this._current,arguments);return this;},pause:function(){if(this._current){var e=_b76.connect(this._current,"onPause",this,function(arg){this._fire("onPause",arguments);_b76.disconnect(e);});this._current.pause();}return this;},gotoPercent:function(_b85,_b86){this.pause();var _b87=this.duration*_b85;this._current=null;_b75.some(this._animations,function(a){if(a.duration<=_b87){this._current=a;return true;}_b87-=a.duration;return false;});if(this._current){this._current.gotoPercent(_b87/this._current.duration,_b86);}return this;},stop:function(_b88){if(this._current){if(_b88){for(;this._index+1<this._animations.length;++this._index){this._animations[this._index].stop(true);}this._current=this._animations[this._index];}var e=_b76.connect(this._current,"onStop",this,function(arg){this._fire("onStop",arguments);_b76.disconnect(e);});this._current.stop();}return this;},status:function(){return this._current?this._current.status():"stopped";},destroy:function(){if(this._onAnimateCtx){_b76.disconnect(this._onAnimateCtx);}if(this._onEndCtx){_b76.disconnect(this._onEndCtx);}}});lang.extend(_b7e,_b7d);_b7c.chain=function(_b89){return new _b7e(_b89);};var _b8a=function(_b8b){this._animations=_b8b||[];this._connects=[];this._finished=0;this.duration=0;_b75.forEach(_b8b,function(a){var _b8c=a.duration;if(a.delay){_b8c+=a.delay;}if(this.duration<_b8c){this.duration=_b8c;}this._connects.push(_b76.connect(a,"onEnd",this,"_onEnd"));},this);this._pseudoAnimation=new _b77.Animation({curve:[0,1],duration:this.duration});var self=this;_b75.forEach(["beforeBegin","onBegin","onPlay","onAnimate","onPause","onStop","onEnd"],function(evt){self._connects.push(_b76.connect(self._pseudoAnimation,evt,function(){self._fire(evt,arguments);}));});};lang.extend(_b8a,{_doAction:function(_b8d,args){_b75.forEach(this._animations,function(a){a[_b8d].apply(a,args);});return this;},_onEnd:function(){if(++this._finished>this._animations.length){this._fire("onEnd");}},_call:function(_b8e,args){var t=this._pseudoAnimation;t[_b8e].apply(t,args);},play:function(_b8f,_b90){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this;},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this;},gotoPercent:function(_b91,_b92){var ms=this.duration*_b91;_b75.forEach(this._animations,function(a){a.gotoPercent(a.duration<ms?1:(ms/a.duration),_b92);});this._call("gotoPercent",arguments);return this;},stop:function(_b93){this._doAction("stop",arguments);this._call("stop",arguments);return this;},status:function(){return this._pseudoAnimation.status();},destroy:function(){_b75.forEach(this._connects,_b76.disconnect);}});lang.extend(_b8a,_b7d);_b7c.combine=function(_b94){return new _b8a(_b94);};_b7c.wipeIn=function(args){var node=args.node=dom.byId(args.node),s=node.style,o;var anim=_b77.animateProperty(lang.mixin({properties:{height:{start:function(){o=s.overflow;s.overflow="hidden";if(s.visibility=="hidden"||s.display=="none"){s.height="1px";s.display="";s.visibility="";return 1;}else{var _b95=_b78.get(node,"height");return Math.max(_b95,1);}},end:function(){return node.scrollHeight;}}}},args));var fini=function(){s.height="auto";s.overflow=o;};_b76.connect(anim,"onStop",fini);_b76.connect(anim,"onEnd",fini);return anim;};_b7c.wipeOut=function(args){var node=args.node=dom.byId(args.node),s=node.style,o;var anim=_b77.animateProperty(lang.mixin({properties:{height:{end:1}}},args));_b76.connect(anim,"beforeBegin",function(){o=s.overflow;s.overflow="hidden";s.display="";});var fini=function(){s.overflow=o;s.height="auto";s.display="none";};_b76.connect(anim,"onStop",fini);_b76.connect(anim,"onEnd",fini);return anim;};_b7c.slideTo=function(args){var node=args.node=dom.byId(args.node),top=null,left=null;var init=(function(n){return function(){var cs=_b78.getComputedStyle(n);var pos=cs.position;top=(pos=="absolute"?n.offsetTop:parseInt(cs.top)||0);left=(pos=="absolute"?n.offsetLeft:parseInt(cs.left)||0);if(pos!="absolute"&&pos!="relative"){var ret=geom.position(n,true);top=ret.y;left=ret.x;n.style.position="absolute";n.style.top=top+"px";n.style.left=left+"px";}};})(node);init();var anim=_b77.animateProperty(lang.mixin({properties:{top:args.top||0,left:args.left||0}},args));_b76.connect(anim,"beforeBegin",anim,init);return anim;};return _b7c;});},"url:dijit/templates/TreeNode.html":"<div class=\"dijitTreeNode\" role=\"presentation\"\n\t><div data-dojo-attach-point=\"rowNode\" class=\"dijitTreeRow dijitInline\" role=\"presentation\"\n\t\t><div data-dojo-attach-point=\"indentNode\" class=\"dijitInline\"></div\n\t\t><img src=\"${_blankGif}\" alt=\"\" data-dojo-attach-point=\"expandoNode\" class=\"dijitTreeExpando\" role=\"presentation\"\n\t\t/><span data-dojo-attach-point=\"expandoNodeText\" class=\"dijitExpandoText\" role=\"presentation\"\n\t\t></span\n\t\t><span data-dojo-attach-point=\"contentNode\"\n\t\t\tclass=\"dijitTreeContent\" role=\"presentation\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" data-dojo-attach-point=\"iconNode\" class=\"dijitIcon dijitTreeIcon\" role=\"presentation\"\n\t\t\t/><span data-dojo-attach-point=\"labelNode\" class=\"dijitTreeLabel\" role=\"treeitem\" tabindex=\"-1\" aria-selected=\"false\"></span>\n\t\t</span\n\t></div>\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitTreeContainer\" role=\"presentation\" style=\"display: none;\"></div>\n</div>\n","url:dijit/templates/Tree.html":"<div class=\"dijitTree dijitTreeContainer\" role=\"tree\">\n\t<div class=\"dijitInline dijitTreeIndent\" style=\"position: absolute; top: -9999px\" data-dojo-attach-point=\"indentDetector\"></div>\n</div>\n","dijit/tree/TreeStoreModel":function(){define("dijit/tree/TreeStoreModel",["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang"],function(_b96,_b97,_b98,lang){return _b98("dijit.tree.TreeStoreModel",null,{store:null,childrenAttrs:["children"],newItemIdAttr:"id",labelAttr:"",root:null,query:null,deferItemLoadingUntilExpand:false,constructor:function(args){lang.mixin(this,args);this.connects=[];var _b99=this.store;if(!_b99.getFeatures()["dojo.data.api.Identity"]){throw new Error("dijit.tree.TreeStoreModel: store must support dojo.data.Identity");}if(_b99.getFeatures()["dojo.data.api.Notification"]){this.connects=this.connects.concat([_b97.after(_b99,"onNew",lang.hitch(this,"onNewItem"),true),_b97.after(_b99,"onDelete",lang.hitch(this,"onDeleteItem"),true),_b97.after(_b99,"onSet",lang.hitch(this,"onSetItem"),true)]);}},destroy:function(){var h;while(h=this.connects.pop()){h.remove();}},getRoot:function(_b9a,_b9b){if(this.root){_b9a(this.root);}else{this.store.fetch({query:this.query,onComplete:lang.hitch(this,function(_b9c){if(_b9c.length!=1){throw new Error("dijit.tree.TreeStoreModel: root query returned "+_b9c.length+" items, but must return exactly one");}this.root=_b9c[0];_b9a(this.root);}),onError:_b9b});}},mayHaveChildren:function(item){return _b96.some(this.childrenAttrs,function(attr){return this.store.hasAttribute(item,attr);},this);},getChildren:function(_b9d,_b9e,_b9f){var _ba0=this.store;if(!_ba0.isItemLoaded(_b9d)){var _ba1=lang.hitch(this,arguments.callee);_ba0.loadItem({item:_b9d,onItem:function(_ba2){_ba1(_ba2,_b9e,_b9f);},onError:_b9f});return;}var _ba3=[];for(var i=0;i<this.childrenAttrs.length;i++){var vals=_ba0.getValues(_b9d,this.childrenAttrs[i]);_ba3=_ba3.concat(vals);}var _ba4=0;if(!this.deferItemLoadingUntilExpand){_b96.forEach(_ba3,function(item){if(!_ba0.isItemLoaded(item)){_ba4++;}});}if(_ba4==0){_b9e(_ba3);}else{_b96.forEach(_ba3,function(item,idx){if(!_ba0.isItemLoaded(item)){_ba0.loadItem({item:item,onItem:function(item){_ba3[idx]=item;if(--_ba4==0){_b9e(_ba3);}},onError:_b9f});}});}},isItem:function(_ba5){return this.store.isItem(_ba5);},fetchItemByIdentity:function(_ba6){this.store.fetchItemByIdentity(_ba6);},getIdentity:function(item){return this.store.getIdentity(item);},getLabel:function(item){if(this.labelAttr){return this.store.getValue(item,this.labelAttr);}else{return this.store.getLabel(item);}},newItem:function(args,_ba7,_ba8){var _ba9={parent:_ba7,attribute:this.childrenAttrs[0]},_baa;if(this.newItemIdAttr&&args[this.newItemIdAttr]){this.fetchItemByIdentity({identity:args[this.newItemIdAttr],scope:this,onItem:function(item){if(item){this.pasteItem(item,null,_ba7,true,_ba8);}else{_baa=this.store.newItem(args,_ba9);if(_baa&&(_ba8!=undefined)){this.pasteItem(_baa,_ba7,_ba7,false,_ba8);}}}});}else{_baa=this.store.newItem(args,_ba9);if(_baa&&(_ba8!=undefined)){this.pasteItem(_baa,_ba7,_ba7,false,_ba8);}}},pasteItem:function(_bab,_bac,_bad,_bae,_baf){var _bb0=this.store,_bb1=this.childrenAttrs[0];if(_bac){_b96.forEach(this.childrenAttrs,function(attr){if(_bb0.containsValue(_bac,attr,_bab)){if(!_bae){var _bb2=_b96.filter(_bb0.getValues(_bac,attr),function(x){return x!=_bab;});_bb0.setValues(_bac,attr,_bb2);}_bb1=attr;}});}if(_bad){if(typeof _baf=="number"){var _bb3=_bb0.getValues(_bad,_bb1).slice();_bb3.splice(_baf,0,_bab);_bb0.setValues(_bad,_bb1,_bb3);}else{_bb0.setValues(_bad,_bb1,_bb0.getValues(_bad,_bb1).concat(_bab));}}},onChange:function(){},onChildrenChange:function(){},onDelete:function(){},onNewItem:function(item,_bb4){if(!_bb4){return;}this.getChildren(_bb4.item,lang.hitch(this,function(_bb5){this.onChildrenChange(_bb4.item,_bb5);}));},onDeleteItem:function(item){this.onDelete(item);},onSetItem:function(item,_bb6){if(_b96.indexOf(this.childrenAttrs,_bb6)!=-1){this.getChildren(item,lang.hitch(this,function(_bb7){this.onChildrenChange(item,_bb7);}));}else{this.onChange(item);}}});});},"dijit/tree/ForestStoreModel":function(){define("dijit/tree/ForestStoreModel",["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","./TreeStoreModel"],function(_bb8,_bb9,_bba,lang,_bbb){return _bb9("dijit.tree.ForestStoreModel",_bbb,{rootId:"$root$",rootLabel:"ROOT",query:null,constructor:function(_bbc){this.root={store:this,root:true,id:_bbc.rootId,label:_bbc.rootLabel,children:_bbc.rootChildren};},mayHaveChildren:function(item){return item===this.root||this.inherited(arguments);},getChildren:function(_bbd,_bbe,_bbf){if(_bbd===this.root){if(this.root.children){_bbe(this.root.children);}else{this.store.fetch({query:this.query,onComplete:lang.hitch(this,function(_bc0){this.root.children=_bc0;_bbe(_bc0);}),onError:_bbf});}}else{this.inherited(arguments);}},isItem:function(_bc1){return (_bc1===this.root)?true:this.inherited(arguments);},fetchItemByIdentity:function(_bc2){if(_bc2.identity==this.root.id){var _bc3=_bc2.scope||_bba.global;if(_bc2.onItem){_bc2.onItem.call(_bc3,this.root);}}else{this.inherited(arguments);}},getIdentity:function(item){return (item===this.root)?this.root.id:this.inherited(arguments);},getLabel:function(item){return (item===this.root)?this.root.label:this.inherited(arguments);},newItem:function(args,_bc4,_bc5){if(_bc4===this.root){this.onNewRootItem(args);return this.store.newItem(args);}else{return this.inherited(arguments);}},onNewRootItem:function(){},pasteItem:function(_bc6,_bc7,_bc8,_bc9,_bca){if(_bc7===this.root){if(!_bc9){this.onLeaveRoot(_bc6);}}this.inherited(arguments,[_bc6,_bc7===this.root?null:_bc7,_bc8===this.root?null:_bc8,_bc9,_bca]);if(_bc8===this.root){this.onAddToRoot(_bc6);}},onAddToRoot:function(item){},onLeaveRoot:function(item){},_requeryTop:function(){var _bcb=this.root.children||[];this.store.fetch({query:this.query,onComplete:lang.hitch(this,function(_bcc){this.root.children=_bcc;if(_bcb.length!=_bcc.length||_bb8.some(_bcb,function(item,idx){return _bcc[idx]!=item;})){this.onChildrenChange(this.root,_bcc);}})});},onNewItem:function(item,_bcd){this._requeryTop();this.inherited(arguments);},onDeleteItem:function(item){if(_bb8.indexOf(this.root.children,item)!=-1){this._requeryTop();}this.inherited(arguments);},onSetItem:function(item,_bce,_bcf,_bd0){this._requeryTop();this.inherited(arguments);}});});},"dijit/tree/_dndSelector":function(){define("dijit/tree/_dndSelector",["dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/Deferred","dojo/_base/kernel","dojo/_base/lang","dojo/cookie","dojo/mouse","dojo/on","dojo/touch","./_dndContainer"],function(_bd1,_bd2,_bd3,_bd4,_bd5,lang,_bd6,_bd7,on,_bd8,_bd9){return _bd3("dijit.tree._dndSelector",_bd9,{constructor:function(){this.selection={};this.anchor=null;if(!this.cookieName&&this.tree.id){this.cookieName=this.tree.id+"SaveSelectedCookie";}this.events.push(on(this.tree.domNode,_bd8.press,lang.hitch(this,"onMouseDown")),on(this.tree.domNode,_bd8.release,lang.hitch(this,"onMouseUp")),on(this.tree.domNode,_bd8.move,lang.hitch(this,"onMouseMove")));},singular:false,getSelectedTreeNodes:function(){var _bda=[],sel=this.selection;for(var i in sel){_bda.push(sel[i]);}return _bda;},selectNone:function(){this.setSelection([]);return this;},destroy:function(){this.inherited(arguments);this.selection=this.anchor=null;},addTreeNode:function(node,_bdb){this.setSelection(this.getSelectedTreeNodes().concat([node]));if(_bdb){this.anchor=node;}return node;},removeTreeNode:function(node){this.setSelection(this._setDifference(this.getSelectedTreeNodes(),[node]));return node;},isTreeNodeSelected:function(node){return node.id&&!!this.selection[node.id];},setSelection:function(_bdc){var _bdd=this.getSelectedTreeNodes();_bd1.forEach(this._setDifference(_bdd,_bdc),lang.hitch(this,function(node){node.setSelected(false);if(this.anchor==node){delete this.anchor;}delete this.selection[node.id];}));_bd1.forEach(this._setDifference(_bdc,_bdd),lang.hitch(this,function(node){node.setSelected(true);this.selection[node.id]=node;}));this._updateSelectionProperties();},_setDifference:function(xs,ys){_bd1.forEach(ys,function(y){y.__exclude__=true;});var ret=_bd1.filter(xs,function(x){return !x.__exclude__;});_bd1.forEach(ys,function(y){delete y["__exclude__"];});return ret;},_updateSelectionProperties:function(){var _bde=this.getSelectedTreeNodes();var _bdf=[],_be0=[],_be1=[];_bd1.forEach(_bde,function(node){var ary=node.getTreePath(),_be2=this.tree.model;_be0.push(node);_bdf.push(ary);ary=_bd1.map(ary,function(item){return _be2.getIdentity(item);},this);_be1.push(ary.join("/"));},this);var _be3=_bd1.map(_be0,function(node){return node.item;});this.tree._set("paths",_bdf);this.tree._set("path",_bdf[0]||[]);this.tree._set("selectedNodes",_be0);this.tree._set("selectedNode",_be0[0]||null);this.tree._set("selectedItems",_be3);this.tree._set("selectedItem",_be3[0]||null);if(this.tree.persist&&_be1.length>0){_bd6(this.cookieName,_be1.join(","),{expires:365});}},_getSavedPaths:function(){var tree=this.tree;if(tree.persist&&tree.dndController.cookieName){var oreo,_be4=[];oreo=_bd6(tree.dndController.cookieName);if(oreo){_be4=_bd1.map(oreo.split(","),function(path){return path.split("/");});}return _be4;}},onMouseDown:function(e){if(!this.current||this.tree.isExpandoNode(e.target,this.current)){return;}if(_bd7.isLeft(e)){e.preventDefault();}else{if(e.type!="touchstart"){return;}}var _be5=this.current,copy=_bd2.isCopyKey(e),id=_be5.id;if(!this.singular&&!e.shiftKey&&this.selection[id]){this._doDeselect=true;return;}else{this._doDeselect=false;}this.userSelect(_be5,copy,e.shiftKey);},onMouseUp:function(e){if(!this._doDeselect){return;}this._doDeselect=false;this.userSelect(this.current,_bd2.isCopyKey(e),e.shiftKey);},onMouseMove:function(){this._doDeselect=false;},_compareNodes:function(n1,n2){if(n1===n2){return 0;}if("sourceIndex" in document.documentElement){return n1.sourceIndex-n2.sourceIndex;}else{if("compareDocumentPosition" in document.documentElement){return n1.compareDocumentPosition(n2)&2?1:-1;}else{if(document.createRange){var r1=doc.createRange();r1.setStartBefore(n1);var r2=doc.createRange();r2.setStartBefore(n2);return r1.compareBoundaryPoints(r1.END_TO_END,r2);}else{throw Error("dijit.tree._compareNodes don't know how to compare two different nodes in this browser");}}}},userSelect:function(node,_be6,_be7){if(this.singular){if(this.anchor==node&&_be6){this.selectNone();}else{this.setSelection([node]);this.anchor=node;}}else{if(_be7&&this.anchor){var cr=this._compareNodes(this.anchor.rowNode,node.rowNode),_be8,end,_be9=this.anchor;if(cr<0){_be8=_be9;end=node;}else{_be8=node;end=_be9;}var _bea=[];while(_be8!=end){_bea.push(_be8);_be8=this.tree._getNextNode(_be8);}_bea.push(end);this.setSelection(_bea);}else{if(this.selection[node.id]&&_be6){this.removeTreeNode(node);}else{if(_be6){this.addTreeNode(node,true);}else{this.setSelection([node]);this.anchor=node;}}}}},getItem:function(key){var _beb=this.selection[key];return {data:_beb,type:["treeNode"]};},forInSelectedItems:function(f,o){o=o||_bd5.global;for(var id in this.selection){f.call(o,this.getItem(id),id,this);}}});});},"dijit/tree/_dndContainer":function(){define("dijit/tree/_dndContainer",["dojo/aspect","dojo/_base/declare","dojo/dom-class","dojo/_base/event","dojo/_base/lang","dojo/on","dojo/touch"],function(_bec,_bed,_bee,_bef,lang,on,_bf0){return _bed("dijit.tree._dndContainer",null,{constructor:function(tree,_bf1){this.tree=tree;this.node=tree.domNode;lang.mixin(this,_bf1);this.current=null;this.containerState="";_bee.add(this.node,"dojoDndContainer");this.events=[on(this.node,_bf0.enter,lang.hitch(this,"onOverEvent")),on(this.node,_bf0.leave,lang.hitch(this,"onOutEvent")),_bec.after(this.tree,"_onNodeMouseEnter",lang.hitch(this,"onMouseOver"),true),_bec.after(this.tree,"_onNodeMouseLeave",lang.hitch(this,"onMouseOut"),true),on(this.node,"dragstart",lang.hitch(_bef,"stop")),on(this.node,"selectstart",lang.hitch(_bef,"stop"))];},destroy:function(){var h;while(h=this.events.pop()){h.remove();}this.node=this.parent=null;},onMouseOver:function(_bf2){this.current=_bf2;},onMouseOut:function(){this.current=null;},_changeState:function(type,_bf3){var _bf4="dojoDnd"+type;var _bf5=type.toLowerCase()+"State";_bee.replace(this.node,_bf4+_bf3,_bf4+this[_bf5]);this[_bf5]=_bf3;},_addItemClass:function(node,type){_bee.add(node,"dojoDndItem"+type);},_removeItemClass:function(node,type){_bee.remove(node,"dojoDndItem"+type);},onOverEvent:function(){this._changeState("Container","Over");},onOutEvent:function(){this._changeState("Container","");}});});},"epi/patch/dijit/Dialog":function(){define("epi/patch/dijit/Dialog",["dojo/_base/lang","dijit/Dialog"],function(lang,_bf6){lang.mixin(_bf6.prototype,{_onBlur:function(){}});_bf6.prototype._onBlur.nom="_onBlur";});},"epi/patch/dijit/focus":function(){define("epi/patch/dijit/focus",["dojo/aspect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/Evented","dojo/_base/lang","dojo/on","dojo/ready","dojo/sniff","dojo/Stateful","dojo/_base/unload","dojo/_base/window","dojo/window","dijit/a11y","dijit/registry","dijit"],function(_bf7,_bf8,dom,_bf9,_bfa,_bfb,lang,on,_bfc,has,_bfd,_bfe,win,_bff,a11y,_c00,_c01){var _c02=_bf8([_bfd,_bfb],{curNode:null,activeStack:[],constructor:function(){var _c03=lang.hitch(this,function(node){if(dom.isDescendant(this.curNode,node)){this.set("curNode",null);}if(dom.isDescendant(this.prevNode,node)){this.set("prevNode",null);}});_bf7.before(_bfa,"empty",_c03);_bf7.before(_bfa,"destroy",_c03);},registerIframe:function(_c04){return this.registerWin(_c04.contentWindow,_c04);},registerWin:function(_c05,_c06){var _c07=this;var _c08=function(evt){_c07._justMouseDowned=true;setTimeout(function(){_c07._justMouseDowned=false;},0);if(has("ie")&&evt&&evt.srcElement&&evt.srcElement.parentNode==null){return;}_c07._onTouchNode(_c06||evt.target||evt.srcElement,"mouse");};var doc=has("ie")<9?_c05.document.documentElement:_c05.document;if(doc){if(has("ie")<9){_c05.document.body.attachEvent("onmousedown",_c08);var _c09=function(evt){if(!evt.srcElement.tagName){return;}var tag=evt.srcElement.tagName.toLowerCase();if(tag=="#document"||tag=="body"){return;}if(a11y.isTabNavigable(evt.srcElement)){_c07._onFocusNode(_c06||evt.srcElement);}else{_c07._onTouchNode(_c06||evt.srcElement);}};doc.attachEvent("onfocusin",_c09);var _c0a=function(evt){_c07._onBlurNode(_c06||evt.srcElement);};doc.attachEvent("onfocusout",_c0a);return {remove:function(){_c05.document.detachEvent("onmousedown",_c08);doc.detachEvent("onfocusin",_c09);doc.detachEvent("onfocusout",_c0a);doc=null;}};}else{doc.body.addEventListener("mousedown",_c08,true);doc.body.addEventListener("touchstart",_c08,true);var _c0b=function(evt){_c07._onFocusNode(_c06||evt.target);};doc.addEventListener("focus",_c0b,true);var _c0c=function(evt){_c07._onBlurNode(_c06||evt.target);};doc.addEventListener("blur",_c0c,true);return {remove:function(){doc.body.removeEventListener("mousedown",_c08,true);doc.body.removeEventListener("touchstart",_c08,true);doc.removeEventListener("focus",_c0b,true);doc.removeEventListener("blur",_c0c,true);doc=null;}};}}},_onBlurNode:function(node){if(this._clearFocusTimer){clearTimeout(this._clearFocusTimer);}this._clearFocusTimer=setTimeout(lang.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null);}),0);if(this._justMouseDowned){return;}if(this._clearActiveWidgetsTimer){clearTimeout(this._clearActiveWidgetsTimer);}this._clearActiveWidgetsTimer=setTimeout(lang.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([]);}),0);},_onTouchNode:function(node,by){if(this._clearActiveWidgetsTimer){clearTimeout(this._clearActiveWidgetsTimer);delete this._clearActiveWidgetsTimer;}var _c0d=[];try{while(node){var _c0e=_bf9.get(node,"dijitPopupParent");if(_c0e){node=_c00.byId(_c0e).domNode;}else{if(node.tagName&&node.tagName.toLowerCase()=="body"){if(node===win.body()){break;}node=_bff.get(node.ownerDocument).frameElement;}else{var id=node.getAttribute&&node.getAttribute("widgetId"),_c0f=id&&_c00.byId(id);if(_c0f&&!(by=="mouse"&&_c0f.get("disabled"))){_c0d.unshift(id);}node=node.parentNode;}}}}catch(e){}this._setStack(_c0d,by);},_onFocusNode:function(node){if(!node){return;}if(node.nodeType==9){return;}if(this._clearFocusTimer){clearTimeout(this._clearFocusTimer);delete this._clearFocusTimer;}this._onTouchNode(node);if(node==this.curNode){return;}this.set("prevNode",this.curNode);this.set("curNode",node);},_setStack:function(_c10,by){var _c11=this.activeStack;this.set("activeStack",_c10);for(var _c12=0;_c12<Math.min(_c11.length,_c10.length);_c12++){if(_c11[_c12]!=_c10[_c12]){break;}}var _c13;for(var i=_c11.length-1;i>=_c12;i--){_c13=_c00.byId(_c11[i]);if(_c13){_c13._hasBeenBlurred=true;_c13.set("focused",false);if(_c13._focusManager==this){_c13._onBlur(by);}this.emit("widget-blur",_c13,by);}}for(i=_c12;i<_c10.length;i++){_c13=_c00.byId(_c10[i]);if(_c13){_c13.set("focused",true);if(_c13._focusManager==this){_c13._onFocus(by);}this.emit("widget-focus",_c13,by);}}},focus:function(node){if(node){try{node.focus();}catch(e){}}}});var _c14=new _c02();_bfc(function(){var _c15=_c14.registerWin(_bff.get(win.doc));if(has("ie")){_bfe.addOnWindowUnload(function(){if(_c15){_c15.remove();_c15=null;}});}});_c01.focus=function(node){_c14.focus(node);};for(var attr in _c14){if(!/^_/.test(attr)){_c01.focus[attr]=typeof _c14[attr]=="function"?lang.hitch(_c14,attr):_c14[attr];}}_c14.watch(function(attr,_c16,_c17){_c01.focus[attr]=_c17;});return _c14;});},"epi/patch/dojo/dnd/Selector":function(){define("epi/patch/dojo/dnd/Selector",["dojo/_base/lang","dojo/dnd/common","dojo/dnd/Selector","dojo/mouse"],function(lang,dnd,_c18,_c19){lang.mixin(_c18.prototype,{onMouseDown:function(e){if(this.autoSync){this.sync();}if(!this.current){return;}if(!this.singular&&!dnd.getCopyKeyState(e)&&!e.shiftKey&&(this.current.id in this.selection)){this.simpleSelection=true;if(_c19.isLeft(e)){e.preventDefault();}return;}if(!this.singular&&e.shiftKey){if(!dnd.getCopyKeyState(e)){this._removeSelection();}var c=this.getAllNodes();if(c.length){if(!this.anchor){this.anchor=c[0];this._addItemClass(this.anchor,"Anchor");}this.selection[this.anchor.id]=1;if(this.anchor!=this.current){var i=0,node;for(;i<c.length;++i){node=c[i];if(node==this.anchor||node==this.current){break;}}for(++i;i<c.length;++i){node=c[i];if(node==this.anchor||node==this.current){break;}this._addItemClass(node,"Selected");this.selection[node.id]=1;}this._addItemClass(this.current,"Selected");this.selection[this.current.id]=1;}}}else{if(this.singular){if(this.anchor==this.current){if(dnd.getCopyKeyState(e)){this.selectNone();}}else{this.selectNone();this.anchor=this.current;this._addItemClass(this.anchor,"Anchor");this.selection[this.current.id]=1;}}else{if(dnd.getCopyKeyState(e)){if(this.anchor==this.current){delete this.selection[this.anchor.id];this._removeAnchor();}else{if(this.current.id in this.selection){this._removeItemClass(this.current,"Selected");delete this.selection[this.current.id];}else{if(this.anchor){this._removeItemClass(this.anchor,"Anchor");this._addItemClass(this.anchor,"Selected");}this.anchor=this.current;this._addItemClass(this.current,"Anchor");this.selection[this.current.id]=1;}}}else{if(!(this.current.id in this.selection)){this.selectNone();this.anchor=this.current;this._addItemClass(this.current,"Anchor");this.selection[this.current.id]=1;}}}}e.preventDefault();}});_c18.prototype.onMouseDown.nom="onMouseDown";});},"epi/patch/dojo/store/Observable":function(){define("epi/patch/dojo/store/Observable",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/Deferred","dojo/_base/array"],function(_c1a,lang,_c1b,_c1c){var _c1d=function(_c1e){var _c1f,_c20=[],_c21=0;_c1e=lang.delegate(_c1e);_c1e.notify=function(_c22,_c23){_c21++;var _c24=_c20.slice();for(var i=0,l=_c24.length;i<l;i++){_c24[i](_c22,_c23);}};var _c25=_c1e.query;_c1e.query=function(_c26,_c27){_c27=_c27||{};var _c28=_c25.apply(this,arguments);if(_c28&&_c28.forEach){var _c29=lang.mixin({},_c27);delete _c29.start;delete _c29.count;var _c2a=_c1e.queryEngine&&_c1e.queryEngine(_c26,_c29);var _c2b=_c21;var _c2c=[],_c2d;_c28.observe=function(_c2e,_c2f){if(_c2c.push(_c2e)==1){_c20.push(_c2d=function(_c30,_c31){_c1b.when(_c28,function(_c32){if(_c20.indexOf(_c2d)===-1){return;}var _c33=_c32.length!=_c27.count;var i,l,_c2e;if(++_c2b!=_c21){throw new Error("Query is out of date, you must observe() the query prior to any data modifications");}var _c34,_c35=-1,_c36=-1;if(_c31!==_c1f){for(i=0,l=_c32.length;i<l;i++){var _c37=_c32[i];if(_c1e.getIdentity(_c37)==_c31){_c34=_c37;_c35=i;if(_c2a||!_c30){_c32.splice(i,1);}break;}}}if(_c2a){if(_c30&&(_c2a.matches?_c2a.matches(_c30):_c2a([_c30]).length)){var _c38=_c35>-1?_c35:_c32.length;_c32.splice(_c38,0,_c30);_c36=_c1c.indexOf(_c2a(_c32),_c30);_c32.splice(_c38,1);if((_c27.start&&_c36==0)||(!_c33&&_c36==_c32.length)){_c36=-1;}else{_c32.splice(_c36,0,_c30);}}}else{if(_c30){if(_c31!==_c1f){_c36=_c35;}else{if(!_c27.start){_c36=_c1e.defaultIndex||0;_c32.splice(_c36,0,_c30);}}}}if((_c35>-1||_c36>-1)&&(_c2f||!_c2a||(_c35!=_c36))){var _c39=_c2c.slice();for(i=0;_c2e=_c39[i];i++){_c2e(_c30||_c34,_c35,_c36);}}});});}var _c3a={};_c3a.remove=_c3a.cancel=function(){var _c3b=_c1c.indexOf(_c2c,_c2e);if(_c3b>-1){_c2c.splice(_c3b,1);if(!_c2c.length){_c20.splice(_c1c.indexOf(_c20,_c2d),1);}}};return _c3a;};}return _c28;};var _c3c;function _c3d(_c3e,_c3f){var _c40=_c1e[_c3e];if(_c40){_c1e[_c3e]=function(_c41){if(_c3c){return _c40.apply(this,arguments);}_c3c=true;try{var _c42=_c40.apply(this,arguments);_c1b.when(_c42,function(_c43){_c3f((typeof _c43=="object"&&_c43)||_c41);});return _c42;}finally{_c3c=false;}};}};_c3d("put",function(_c44){_c1e.notify(_c44,_c1e.getIdentity(_c44));});_c3d("add",function(_c45){_c1e.notify(_c45);});_c3d("remove",function(id){_c1e.notify(undefined,id);});return _c1e;};lang.setObject("dojo.store.Observable",_c1d);return _c1d;});},"epi/patch/dojo/window":function(){define("epi/patch/dojo/window",["dojo/_base/lang","dojo/sniff","dojo/_base/window","dojo/dom","dojo/dom-geometry","dojo/dom-style","dojo/dom-construct"],function(lang,has,_c46,dom,geom,_c47,_c48){has.add("rtl-adjust-position-for-verticalScrollBar",function(win,doc){var body=_c46.body(doc),_c49=_c48.create("div",{style:{overflow:"scroll",overflowX:"visible",direction:"rtl",visibility:"hidden",position:"absolute",left:"0",top:"0",width:"64px",height:"64px"}},body,"last"),div=_c48.create("div",{style:{overflow:"hidden",direction:"ltr"}},_c49,"last"),ret=geom.position(div).x!=0;_c49.removeChild(div);body.removeChild(_c49);return ret;});has.add("position-fixed-support",function(win,doc){var body=_c46.body(doc),_c4a=_c48.create("span",{style:{visibility:"hidden",position:"fixed",left:"1px",top:"1px"}},body,"last"),_c4b=_c48.create("span",{style:{position:"fixed",left:"0",top:"0"}},_c4a,"last"),ret=geom.position(_c4b).x!=geom.position(_c4a).x;_c4a.removeChild(_c4b);body.removeChild(_c4a);return ret;});var _c4c={getBox:function(doc){doc=doc||_c46.doc;var _c4d=(doc.compatMode=="BackCompat")?_c46.body(doc):doc.documentElement,_c4e=geom.docScroll(doc),w,h;if(has("touch")){var _c4f=_c4c.get(doc);w=_c4f.innerWidth||_c4d.clientWidth;h=_c4f.innerHeight||_c4d.clientHeight;}else{w=_c4d.clientWidth;h=_c4d.clientHeight;}return {l:_c4e.x,t:_c4e.y,w:w,h:h};},get:function(doc){if(has("ie")<9&&_c4c!==document.parentWindow){doc.parentWindow.execScript("document._parentWindow = window;","Javascript");var win=doc._parentWindow;doc._parentWindow=null;return win;}return doc.parentWindow||doc.defaultView;},scrollIntoView:function(node,pos){try{node=dom.byId(node);var doc=node.ownerDocument||_c46.doc,body=_c46.body(doc),html=doc.documentElement||body.parentNode,isIE=has("ie"),isWK=has("webkit");if(node==body||node==html){return;}if(!(has("mozilla")||isIE||isWK||has("opera"))&&("scrollIntoView" in node)){node.scrollIntoView(false);return;}var _c50=doc.compatMode=="BackCompat",_c51=Math.min(body.clientWidth||html.clientWidth,html.clientWidth||body.clientWidth),_c52=Math.min(body.clientHeight||html.clientHeight,html.clientHeight||body.clientHeight),_c53=(isWK||_c50)?body:html,_c54=pos||geom.position(node),el=node.parentNode,_c55=function(el){return (isIE<=6||(isIE==7&&_c50))?false:(has("position-fixed-support")&&(_c47.get(el,"position").toLowerCase()=="fixed"));};if(_c55(node)){return;}while(el){if(el==body){el=_c53;}var _c56=geom.position(el),_c57=_c55(el),rtl=_c47.getComputedStyle(el).direction.toLowerCase()=="rtl";if(el==_c53){_c56.w=_c51;_c56.h=_c52;if(_c53==html&&isIE&&rtl){_c56.x+=_c53.offsetWidth-_c56.w;}if(_c56.x<0||!isIE||isIE>=9){_c56.x=0;}if(_c56.y<0||!isIE||isIE>=9){_c56.y=0;}}else{var pb=geom.getPadBorderExtents(el);_c56.w-=pb.w;_c56.h-=pb.h;_c56.x+=pb.l;_c56.y+=pb.t;var _c58=el.clientWidth,_c59=_c56.w-_c58;if(_c58>0&&_c59>0){if(rtl&&has("rtl-adjust-position-for-verticalScrollBar")){_c56.x+=_c59;}_c56.w=_c58;}_c58=el.clientHeight;_c59=_c56.h-_c58;if(_c58>0&&_c59>0){_c56.h=_c58;}}if(_c57){if(_c56.y<0){_c56.h+=_c56.y;_c56.y=0;}if(_c56.x<0){_c56.w+=_c56.x;_c56.x=0;}if(_c56.y+_c56.h>_c52){_c56.h=_c52-_c56.y;}if(_c56.x+_c56.w>_c51){_c56.w=_c51-_c56.x;}}var l=_c54.x-_c56.x,t=_c54.y-_c56.y,r=l+_c54.w-_c56.w,bot=t+_c54.h-_c56.h;var s,old;if(r*l>0&&(!!el.scrollLeft||el==_c53||el.scrollWidth>el.offsetHeight)){s=Math[l<0?"max":"min"](l,r);if(rtl&&((isIE==8&&!_c50)||isIE>=9)){s=-s;}old=el.scrollLeft;el.scrollLeft+=s;s=el.scrollLeft-old;_c54.x-=s;}if(bot*t>0&&(!!el.scrollTop||el==_c53||el.scrollHeight>el.offsetHeight)){s=Math.ceil(Math[t<0?"max":"min"](t,bot));old=el.scrollTop;el.scrollTop+=s;s=el.scrollTop-old;_c54.y-=s;}el=(el!=_c53)&&!_c57&&el.parentNode;}}catch(error){console.error("scrollIntoView: "+error);node.scrollIntoView(false);}}};1&&lang.setObject("dojo.window",_c4c);return _c4c;});},"epi/shell/store/Registry":function(){define(["dojo","dojo/store/Memory","epi/shell/store/JsonRest","epi/shell/store/Patchable","epi/shell/store/Throttle"],function(dojo,_c5a,_c5b,_c5c,_c5d){return dojo.declare(null,{constructor:function(_c5e){dojo.mixin(this,_c5e);this._stores={};},add:function(name,_c5f){if(this._stores[name]){throw new Error("A store with the name '"+name+"' already exists.");}return (this._stores[name]=_c5f);},create:function(name,url,_c60){if(this._stores[name]){throw new Error("A store with the name '"+name+"' already exists.");}var _c61=new _c5a(_c60),rest=new _c5b(dojo.mixin({target:url,preventCache:true},_c60)),_c62=_c5c(_c5d(rest,"get"),_c61),_c63=_c5d(_c62,"query");return (this._stores[name]=_c63);},get:function(name){var _c64=this._stores[name];if(!_c64){throw new Error("No store by the name '"+name+"' exists.");}return _c64;}});});},"epi/shell/store/Patchable":function(){define(["dojo/_base/Deferred","dojo/_base/lang","dojo/store/Cache","dojo/store/Observable"],function(_c65,lang,_c66,_c67){var _c68=lang.getObject("epi.shell.store",true);return _c68.Patchable=function(_c69,_c6a,_c6b){var _c6c=_c66(_c69,_c6a,_c6b||{}),_c6d=[];var _c6e=function(_c6f,_c70){if(typeof _c70=="object"){_c6f[_c71.idProperty]=_c70[_c71.idProperty];}else{_c6f[_c71.idProperty]=_c70;}};var _c72=function(_c73){_c73._cached=new Date();return _c73;};var _c74=function(_c75){if(!_c75._cached){return false;}var now=new Date();now.setMinutes(now.getMinutes()-5);return now>_c75._cached;};_c6c.get=function(id,_c76){return _c65.when(_c6a.get(id),function(_c77){if(_c77){if(_c74(_c77)){_c6c.evict(id,_c76);_c77=null;}}return _c77||_c65.when(_c69.get(id,_c76),function(_c78){if(_c78){_c6a.put(_c72(_c78),{id:id});}return _c78;});});};_c6c.put=function(_c79,_c7a){_c6a.remove((_c7a&&_c7a.id)||this.getIdentity(_c79));return _c65.when(_c69.put(_c79,_c7a),function(_c7b){_c6e(_c79,_c7b);_c6a.put(typeof _c7b=="object"?_c72(_c7b):_c72(_c79),_c7a);return _c7b;});};_c6c.add=function(_c7c,_c7d){return _c65.when(_c69.add(_c7c,_c7d),function(_c7e){_c6e(_c7c,_c7e);_c6a.add(typeof _c7e=="object"?_c72(_c7e):_c72(_c7c),_c7d);return _c7e;});};var _c7f=function(obj){return obj&&lang.isObject(obj)&&!lang.isArray(obj)&&!lang.isFunction(obj);};var _c80=function(dest,_c81){var name,s,_c82={};for(name in _c81){s=_c81[name];if(name in dest&&(dest[name]!==s&&(!(name in _c82)||_c82[name]!==s))){if(_c7f(s)&&_c7f(dest[name])){_c80(dest[name],s);}else{dest[name]=s;}}}return dest;};var _c71=lang.delegate(_c67(_c6c),{refresh:function(id){return _c65.when(this.evict(id),lang.hitch(this,function(){return _c65.when(this.get(id),lang.hitch(this,function(_c83){if(_c83){this.notify(_c83,id);this.updateDependentStores(_c83);this.onItemChanged(id,_c83);}return _c83;}));}));},patchCache:function(_c84){if(!_c84){return;}var id=this.getIdentity(_c84);return _c65.when(this.get(id),lang.hitch(this,function(_c85){if(_c85){_c85=_c80(_c85,_c84);_c65.when(_c6a.put(_c85,{overwrite:true}),lang.hitch(this,function(){this.notify(_c85,id);this.updateDependentStores(_c84);this.onItemChanged(id,_c85);}));}return _c85;}));},addDependentStore:function(_c86,_c87){if(!_c86.patchCache){throw new Error("addDependentStore: The store must implement the patch method.");}_c6d.push({store:_c86,options:_c87||{}});},updateDependentStores:function(_c88){for(var i=_c6d.length-1;i>=0;i--){var _c89=_c6d[i].store;if(_c6d[i].options.refreshOnPatch){var _c8a=_c6d[i].options.refresh;if(typeof _c8a==="function"){_c8a(_c88);}else{_c89.refresh(this.getIdentity(_c88));}}else{var _c8b=_c6d[i].options.transformDelegate;_c89.patchCache(typeof _c8b==="function"?_c8b(_c88):_c88);}}},onItemChanged:function(id,item){}});return _c71;};});},"epi/shell/widget/Application":function(){define(["dojo","dijit","epi","epi/dependency","epi/routes","dijit/_WidgetBase","dijit/_Container"],function(dojo,_c8c,epi,_c8d,_c8e,_c8f,_c90){return dojo.declare([_c8f,_c90],{viewNodes:null,_componentController:null,constructor:function(){this.viewNodes=[];},postMixInProperties:function(){this.inherited(arguments);this._componentController=_c8d.resolve("epi.shell.controller.Components");},postCreate:function(){this.inherited(arguments);this.viewNodes=[this.containerNode];},startup:function(){this.inherited(arguments);dojo.when(this._componentController.loadComponents(this.viewNodes),dojo.hitch(this,function(_c91){dojo.forEach(this.viewNodes,function(_c92){var _c93=dojo.byId(_c92);var _c94=_c8c.getEnclosingWidget(_c93);if(_c94){if(dojo.isFunction(_c94.resize)){_c94.resize();}}});dojo.forEach(_c91,function(_c95){if(dojo.isFunction(_c95.resize)){_c95.resize();}});}),function(e){console.error(e.stack||e);});}});});},"epi/shell/ContextHistory":function(){define("epi/shell/ContextHistory",["dojo/_base/declare","dojo/_base/lang","dojo/store/Memory","dojo/store/Observable","dojo/topic"],function(_c96,lang,_c97,_c98,_c99){return _c96(null,{store:null,constructor:function(_c9a){lang.mixin(this,_c9a);this.store=_c98(this.createStore());},postscript:function(){_c99.subscribe("/epi/shell/context/changed",lang.hitch(this,this.onContextChanged));},onContextChanged:function(_c9b,_c9c,_c9d){if(this._canExecute(_c9c)){this._updateStore(_c9b);}},createStoreItem:function(_c9e){return {publicUrl:_c9e.publicUrl,id:_c9e.versionAgnosticUri,uri:_c9e.versionAgnosticUri,name:_c9e.name,typeIdentifier:_c9e.dataType,dateAdded:new Date()};},createStore:function(){return new _c97({data:[],idProperty:"uri"});},_canExecute:function(_c9f){return _c9f&&_c9f.trigger!="internal";},_updateStore:function(_ca0){var _ca1=this.createStoreItem(_ca0);this.store.put(_ca1,{overwrite:true});if(this.store.data.length>100){this.store.data.shift();}}});});},"epi/shell/ViewContextHistory":function(){define("epi/shell/ViewContextHistory",["dojo/_base/declare","dojo/_base/lang","dojo/Stateful","dojo/topic","epi/dependency","epi/shell/ViewSettings"],function(_ca2,lang,_ca3,_ca4,_ca5,_ca6){return _ca2([_ca3],{profile:null,viewName:null,postscript:function(){this.inherited(arguments);_ca4.subscribe("/epi/shell/context/changed",lang.hitch(this,"_onContextChanged"));_ca4.subscribe("/epi/shell/context/requestfailed",lang.hitch(this,"_onContextChangeFailed"));if(!this.profile){this.profile=_ca5.resolve("epi.shell.Profile");}if(!this.viewName){this.viewName=_ca6.viewName;}},getLastContextForView:function(){return this.get("profile").get(this._getLastContextProfileKey());},_onContextChanged:function(_ca7,_ca8){return this._setLastContextForView(_ca7);},_onContextChangeFailed:function(_ca9,_caa){this._setLastContextForView(null);},_setLastContextForView:function(_cab){return this.get("profile").set(this._getLastContextProfileKey(),_cab,{location:"session"});},_getLastContextProfileKey:function(){return "lastContext"+this.get("viewName");}});});},"epi/shell/widget/ComponentController":function(){define(["dojo","dojo/_base/array","dojo/_base/Deferred","dojo/promise/all","dojo/when","dijit","epi","epi/dependency","epi/routes","epi/shell/ViewSettings","dijit/_Widget","dijit/layout/ContentPane","dojo/store/JsonRest","dojo/store/Memory"],function(dojo,_cac,_cad,all,when,_cae,epi,_caf,_cb0,_cb1,_cb2,_cb3,_cb4,_cb5){return dojo.declare(_cb2,{moduleArea:null,widgetFactory:null,_componentsMemoryStore:null,_componentsStore:null,_componentsSortOrderStore:null,_saveComponentRequestQueue:[],_isSaveComponentRequestInProgress:false,postMixInProperties:function(){this.inherited(arguments);this.widgetFactory=this.widgetFactory||_caf.resolve("epi.shell.widget.WidgetFactory");var _cb6=_caf.resolve("epi.storeregistry");this._componentsStore=_cb6.get("epi.shell.component");this._componentsSortOrderStore=_cb6.get("epi.shell.componentsortorder");var _cb7=new _cb5();this._componentsMemoryStore=_cb7;},postCreate:function(){this.inherited(arguments);dojo.connect(this.widgetFactory,"onWidgetCreated",this,this.onComponentCreated);},startup:function(){this.inherited(arguments);},onComponentCreated:function(_cb8,_cb9){var cd=dojo.clone(_cb9);cd._widgetId=_cb8.get("id");this._componentsMemoryStore.put(cd);},_queryComponentDefinitions:function(_cba){return this._componentsMemoryStore.query(_cba);},_runSaveComponentRequest:function(_cbb){if(_cbb||!this._isSaveComponentRequestInProgress){this._isSaveComponentRequestInProgress=true;var self=this;var _cbc=this._saveComponentRequestQueue.shift();if(_cbc){this._componentsStore.put(_cbc.item).then(function(_cbd){if(_cbc.promise!=null){_cbc.promise.resolve(_cbd);}self._runSaveComponentRequest(true);},function(_cbe){if(_cbc.promise!=null){_cbc.promise.reject(_cbe);}self._runSaveComponentRequest(true);});}else{this._isSaveComponentRequestInProgress=false;}}},getComponentDefinition:function(_cbf){return this._queryComponentDefinitions({_widgetId:_cbf})[0];},getComponentDefinitionById:function(id){return this._queryComponentDefinitions({id:id})[0];},getEmptyComponentDefinition:function(_cc0,_cc1){dojo.when(this._componentsStore.query({componentTypeName:_cc0}),_cc1);},getComponentsForContainer:function(_cc2){var _cc3=this.getComponentDefinition(_cc2.id).id;return this._componentsStore.query({viewName:_cb1.viewName,parentId:_cc3});},getComponentsForView:function(view,_cc4){return this._componentsStore.query({viewName:view});},removeComponent:function(_cc5){var self=this;return when(this._componentsStore.remove(_cc5+"?viewName="+_cb1.viewName),function(){self._componentsMemoryStore.remove(_cc5);});},saveComponent:function(_cc6){var _cc7=dojo.clone(_cc6);delete _cc7["components"];var _cc8=new _cad();this._saveComponentRequestQueue.push({"item":_cc7,"promise":_cc8});this._runSaveComponentRequest(false);return _cc8.promise;},sortComponents:function(_cc9,_cca,_ccb){var _ccc=this.getComponentDefinition(_cc9.id).id;dojo.when(this._componentsSortOrderStore.put({id:_ccc,viewName:_cb1.viewName,components:_cca}),_ccb);},addComponent:function(_ccd,_cce,_ccf,_cd0){var _cd1=this.getComponentDefinition(_ccd.id).id;var _cd2=dojo.clone(_cce);delete _cd2["id"];_cd2.parentId=_cd1;_cd2.viewName=_cb1.viewName;var self=this;when(this._componentsStore.put(_cd2),function(){if(_cd2.settings["routeData"]){_cd2.settings.routeData.gadgetId=_cd2.id;}if(_ccf){when(self.createComponents([_cd2],_ccd),function(def){if(def){if(typeof _cd0=="function"){_cd0(true,_cd2);}}});}},function(){alert("Error: could not add component");if(typeof _cd0=="function"){_cd0(false,_cd2);}});},loadComponents:function(_cd3){if(!dojo.isArray(_cd3)){_cd3=[_cd3];}var self=this;var def=new _cad();dojo.when(this.getComponentsForView(_cb1.viewName),function(data){var _cd4=self._convertListToHierarchyByMatchingParent(data,"id","parentId","components");when(self.createComponents(_cd4,_cd3),function(){def.resolve();},function(e){console.error(e.stack||e);def.reject(e);});},function(){def.reject();});return def;},_convertListToHierarchyByMatchingParent:function(_cd5,_cd6,_cd7,_cd8){var map={};var _cd9=[];_cac.forEach(_cd5,function(item){var id=item[_cd6];map[id]=item;});_cac.forEach(_cd5,function(item){var _cda;var id=item[_cd6];var _cdb=item[_cd7];if(!(_cd8 in item)){item[_cd8]=[];}_cda=map[_cdb];if(!_cda||_cda==item){if(_cac.indexOf(_cd9,item)<0){_cd9.push(item);}}else{if(!_cda[_cd8]){_cda[_cd8]=[];}_cda[_cd8].push(item);}});return _cd9;},createComponents:function(data,_cdc){var _cdd=this.widgetFactory;var _cde=data;if(dojo.isArray(_cde)&&_cde.length>0){if(dojo.isArray(_cde[0])){var _cdf=[];for(var i=0;i<_cde.length;i++){var _ce0=_cde[i];_cdf.push(_cdd.createWidgets(_cdc[i],_ce0));}return all(_cdf);}else{var node=_cdc;if(dojo.isArray(node)){node=node[0];}return _cdd.createWidgets(node,_cde);}}return [];}});});},"epi/shell/command/GlobalCommandRegistry":function(){define(["dojo/_base/declare","epi/shell/command/CommandRegistryItem"],function(_ce1,_ce2){return _ce1(null,{_mappings:null,constructor:function(_ce3){this._mappings={};},registerProvider:function(key,_ce4){var _ce5=this._mappings[key];if(!_ce5){_ce5=new _ce2();this._mappings[key]=_ce5;}_ce5.add("providers",_ce4);return {unregister:function(){_ce5.remove("providers",_ce4);}};},get:function(key,_ce6){var _ce7=this._mappings[key];if(_ce6&&!_ce7){_ce7=new _ce2();this._mappings[key]=_ce7;}return _ce7;}});});},"epi/shell/command/CommandRegistryItem":function(){define(["dojo/_base/array","dojo/_base/declare","epi/shell/StatefulArray"],function(_ce8,_ce9,_cea){return _ce9([_cea],{providers:null,constructor:function(){this.providers=this.providers||[];}});});},"epi/shell/StatefulArray":function(){define("epi/shell/StatefulArray",["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/Stateful"],function(_ceb,_cec,lang,_ced){return _cec([_ced],{add:function(name,_cee){var _cef,_cf0=this[name];if(!lang.isArray(_cf0)){throw name+" is not of type Array.";}_cef=_cf0.push(_cee);if(this._watchCallbacks){this._watchCallbacks(name,null,lang.isArray(_cee)?_cee:[_cee]);}return _cef;},remove:function(name,_cf1){var _cf2,_cf3,_cf4=this[name];if(!lang.isArray(_cf4)){throw name+" is not of type Array.";}_cf2=_ceb.indexOf(_cf4,_cf1);if(_cf2>=0){_cf3=_cf4.splice(_cf2,1);if(this._watchCallbacks){this._watchCallbacks(name,_cf3,null);}return _cf3;}}});});},"epi/shell/dnd/Avatar":function(){define(["dojo/_base/declare","dojo/_base/window","dojo/dom-class","dojo/dom-construct","dojo/dom-attr","dijit/registry","dojo/dnd/common","dojox/html/entities"],function(_cf5,win,_cf6,_cf7,_cf8,_cf9,_cfa,_cfb){return _cf5(null,{constructor:function(_cfc){this.manager=_cfc;this.construct();},construct:function(){this.isA11y=_cf6.contains(win.body(),"dijit_a11y");var a=_cf7.create("table",{"class":"dojoDndAvatar",style:{position:"absolute",zIndex:"1999",margin:"0px"}}),_cfd=this.manager.source,node,_cfe=_cf7.create("tbody",null,a),_cff=_cf7.create("tr",null,_cfe),_d00=_cf7.create("td",null,_cff),k=Math.min(5,this.manager.nodes.length),i=0,_d01=_cf7.create("div",null,_d00),div=_cf7.create("div",null,_d01),_d02=_cf7.create("div",null,_d01),_d03=_cf7.create("table",null,div),b=_cf7.create("tbody",null,_d03);_cf8.set(_d01,"class","epi-DndAvatarContainer");_cf8.set(_d02,"class","epi-DndAvatarOverlay");for(;i<k;++i){if(_cfd.creator){var _d04=_cfd.getItem(this.manager.nodes[i].id).data;var _d05=_cfd._normalizedCreator(_d04,"avatar").node;var name=_d04.get?_d04.get("name"):_d04["name"];_d05.innerHTML=_cfb.encode(typeof name=="string"?name:_d04);node=_d05;}else{node=this.manager.nodes[i].cloneNode(true);if(node.id){var _d06=_cf9.byId(node.id);if(_d06&&_d06.item&&_d06.item.name){node.innerHTML=_cfb.encode(_d06.item.name);}}if(node.tagName.toLowerCase()=="tr"){var _d07=_cf7.create("table"),_d08=_cf7.create("tbody",null,_d07);_d08.appendChild(node);node=_d07;}}node.id="";tr=_cf7.create("tr",null,b);td=_cf7.create("td",null,tr);td.appendChild(node);_cf8.set(tr,{"class":"dojoDndAvatarItem",style:{opacity:(9-i)/10}});}a.style.cursor="move";this.node=a;},destroy:function(){_cf7.destroy(this.node);this.node=false;},update:function(){_cf6.toggle(this.node,"dojoDndAvatarCanDrop",this.manager.canDropFlag);}});});},"dojox/html/entities":function(){define("dojox/html/entities",["dojo/_base/lang"],function(lang){var dhe=lang.getObject("dojox.html.entities",true);var _d09=function(str,map){var _d0a,_d0b;if(map._encCache&&map._encCache.regexp&&map._encCache.mapper&&map.length==map._encCache.length){_d0a=map._encCache.mapper;_d0b=map._encCache.regexp;}else{_d0a={};_d0b=["["];var i;for(i=0;i<map.length;i++){_d0a[map[i][0]]="&"+map[i][1]+";";_d0b.push(map[i][0]);}_d0b.push("]");_d0b=new RegExp(_d0b.join(""),"g");map._encCache={mapper:_d0a,regexp:_d0b,length:map.length};}str=str.replace(_d0b,function(c){return _d0a[c];});return str;};var _d0c=function(str,map){var _d0d,_d0e;if(map._decCache&&map._decCache.regexp&&map._decCache.mapper&&map.length==map._decCache.length){_d0d=map._decCache.mapper;_d0e=map._decCache.regexp;}else{_d0d={};_d0e=["("];var i;for(i=0;i<map.length;i++){var e="&"+map[i][1]+";";if(i){_d0e.push("|");}_d0d[e]=map[i][0];_d0e.push(e);}_d0e.push(")");_d0e=new RegExp(_d0e.join(""),"g");map._decCache={mapper:_d0d,regexp:_d0e,length:map.length};}str=str.replace(_d0e,function(c){return _d0d[c];});return str;};dhe.html=[["&","amp"],["\"","quot"],["<","lt"],[">","gt"],["","nbsp"]];dhe.latin=[["","iexcl"],["","cent"],["","pound"],["","euro"],["","curren"],["","yen"],["","brvbar"],["","sect"],["","uml"],["","copy"],["","ordf"],["","laquo"],["","not"],["","shy"],["","reg"],["","macr"],["","deg"],["","plusmn"],["","sup2"],["","sup3"],["","acute"],["","micro"],["","para"],["","middot"],["","cedil"],["","sup1"],["","ordm"],["","raquo"],["","frac14"],["","frac12"],["","frac34"],["","iquest"],["","Agrave"],["","Aacute"],["","Acirc"],["","Atilde"],["","Auml"],["","Aring"],["","AElig"],["","Ccedil"],["","Egrave"],["","Eacute"],["","Ecirc"],["","Euml"],["","Igrave"],["","Iacute"],["","Icirc"],["","Iuml"],["","ETH"],["","Ntilde"],["","Ograve"],["","Oacute"],["","Ocirc"],["","Otilde"],["","Ouml"],["","times"],["","Oslash"],["","Ugrave"],["","Uacute"],["","Ucirc"],["","Uuml"],["","Yacute"],["","THORN"],["","szlig"],["","agrave"],["","aacute"],["","acirc"],["","atilde"],["","auml"],["","aring"],["","aelig"],["","ccedil"],["","egrave"],["","eacute"],["","ecirc"],["","euml"],["","igrave"],["","iacute"],["","icirc"],["","iuml"],["","eth"],["","ntilde"],["","ograve"],["","oacute"],["","ocirc"],["","otilde"],["","ouml"],["","divide"],["","oslash"],["","ugrave"],["","uacute"],["","ucirc"],["","uuml"],["","yacute"],["","thorn"],["","yuml"],["","fnof"],["","Alpha"],["","Beta"],["","Gamma"],["","Delta"],["","Epsilon"],["","Zeta"],["","Eta"],["","Theta"],["","Iota"],["","Kappa"],["","Lambda"],["","Mu"],["","Nu"],["","Xi"],["","Omicron"],["","Pi"],["","Rho"],["","Sigma"],["","Tau"],["","Upsilon"],["","Phi"],["","Chi"],["","Psi"],["","Omega"],["","alpha"],["","beta"],["","gamma"],["","delta"],["","epsilon"],["","zeta"],["","eta"],["","theta"],["","iota"],["","kappa"],["","lambda"],["","mu"],["","nu"],["","xi"],["","omicron"],["","pi"],["","rho"],["","sigmaf"],["","sigma"],["","tau"],["","upsilon"],["","phi"],["","chi"],["","psi"],["","omega"],["","thetasym"],["","upsih"],["","piv"],["","bull"],["","hellip"],["","prime"],["","Prime"],["","oline"],["","frasl"],["","weierp"],["","image"],["","real"],["","trade"],["","alefsym"],["","larr"],["","uarr"],["","rarr"],["","darr"],["","harr"],["","crarr"],["","lArr"],["","uArr"],["","rArr"],["","dArr"],["","hArr"],["","forall"],["","part"],["","exist"],["","empty"],["","nabla"],["","isin"],["","notin"],["","ni"],["","prod"],["","sum"],["","minus"],["","lowast"],["","radic"],["","prop"],["","infin"],["","ang"],["","and"],["","or"],["","cap"],["","cup"],["","int"],["","there4"],["","sim"],["","cong"],["","asymp"],["","ne"],["","equiv"],["","le"],["","ge"],["","sub"],["","sup"],["","nsub"],["","sube"],["","supe"],["","oplus"],["","otimes"],["","perp"],["","sdot"],["","lceil"],["","rceil"],["","lfloor"],["","rfloor"],["","lang"],["","rang"],["","loz"],["","spades"],["","clubs"],["","hearts"],["","diams"],["","Elig"],["","oelig"],["","Scaron"],["","scaron"],["","Yuml"],["","circ"],["","tilde"],["","ensp"],["","emsp"],["","thinsp"],["","zwnj"],["","zwj"],["","lrm"],["","rlm"],["","ndash"],["","mdash"],["","lsquo"],["","rsquo"],["","sbquo"],["","ldquo"],["","rdquo"],["","bdquo"],["","dagger"],["","Dagger"],["","permil"],["","lsaquo"],["","rsaquo"]];dhe.encode=function(str,m){if(str){if(!m){str=_d09(str,dhe.html);str=_d09(str,dhe.latin);}else{str=_d09(str,m);}}return str;};dhe.decode=function(str,m){if(str){if(!m){str=_d0c(str,dhe.html);str=_d0c(str,dhe.latin);}else{str=_d0c(str,m);}}return str;};return dhe;});},"epi/shell/customFocusIndicator":function(){define("epi/shell/customFocusIndicator",["dojo/_base/window","dojo/dom-class","dojo/on","dojo/domReady!"],function(win,_d0f,on){var body=win.body();var _d10=function(){_d0f.add(body,"epi-mouse-focus");};var _d11=function(){_d0f.remove(body,"epi-mouse-focus");};_d0f.add(body,"epi-mouse-focus");on(body,"mousedown",_d10);on(body,"mouseup",_d10);on(body,"keydown",_d11);on(body,"keyup",_d11);});},"epi/shell/TypeDescriptorManager":function(){define("epi/shell/TypeDescriptorManager",["dojo","dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/when","epi/dependency","epi/i18n!epi/shell/ui/nls/contenttypes"],function(dojo,_d12,_d13,lang,when,_d14,_d15){return {_uiDescriptors:{},resources:_d15,store:null,initialize:function(){this.store=this.store||(function(){var _d16=_d14.resolve("epi.storeregistry");return _d16.get("epi.shell.uidescriptor");})();return when(this.store.query(),lang.hitch(this,function(_d17){_d12.forEach(_d17,function(_d18){this._uiDescriptors[_d18.typeIdentifier]=_d18;},this);}));},clear:function(){this._uiDescriptors={};},registerTypeSetting:function(name,_d19){this._uiDescriptors[name]=_d19;},getValue:function(type,_d1a){var _d1b=this._uiDescriptors[type];while(_d1b){var _d1c=_d1b[_d1a];if(_d1c||_d1c===false){return _d1c;}_d1b=this._uiDescriptors[_d1b["baseTypeIdentifier"]];}},getResourceValue:function(type,_d1d,_d1e){var _d1f=this._uiDescriptors[type];while(_d1f){var _d20=this.resources[_d1f.languageKey];if(_d20&&(_d1e?_d1f.isPrimaryType===true:true)){var _d21=lang.getObject(_d1d,false,_d20);if(_d21){return _d21;}}_d1f=this._uiDescriptors[_d1f["baseTypeIdentifier"]];}},getAndConcatenateValues:function(type,_d22){var _d23=[],_d24=this._uiDescriptors[type];while(_d24){var _d25=_d24[_d22];if(_d25){if(lang.isArray(_d25)){_d12.forEach(_d25,function(item){_d23.push(item);});}else{_d23.push(_d25);}}_d24=this._uiDescriptors[_d24["baseTypeIdentifier"]];}return _d23;},getInheritanceChain:function(type){var _d26=[],_d27=this._uiDescriptors[type];while(_d27){_d26.push(_d27.typeIdentifier);_d27=this._uiDescriptors[_d27["baseTypeIdentifier"]];}return _d26;},isBaseTypeIdentifier:function(_d28,_d29){var type=_d28,_d2a;if(_d28===_d29){return true;}while(_d2a=this._uiDescriptors[type]){type=_d2a.baseTypeIdentifier;if(type===_d29){return true;}}return false;}};});},"epi/shell/UndoManager":function(){define("epi/shell/UndoManager",["dojo","dojo/Stateful"],function(dojo,_d2b){return dojo.declare(_d2b,{maxSteps:10,hasUndoSteps:false,hasRedoSteps:false,_undoStack:null,_redoStack:null,_isUndoing:false,_isRedoing:false,constructor:function(_d2c){dojo.mixin(this,_d2c);this._undoStack=[];this._redoStack=[];},createStep:function(_d2d,_d2e,_d2f,_d30){var fn=_d2e;if(typeof _d2e=="string"){fn=_d2d[_d2e];}if(typeof fn!="function"){throw ("No such callback function");}var _d31={context:_d2d,callback:fn,parameters:dojo.isArray(_d2f)?_d2f:[_d2f],description:_d30};if(!_d31.context&&typeof _d31.callback==="string"){throw ("Context object is needed to find the callback");}var _d32=this._isUndoing?this._redoStack:this._undoStack;if(!this._isUndoing&&!this._isRedoing){this._redoStack.splice(0,this._redoStack.length);}_d32.push(_d31);if(this.maxSteps>0&&this._undoStack.length>this.maxSteps){this._undoStack.shift();}this._updateFlags();},undo:function(){if(this._undoStack.length===0){return;}this._isUndoing=true;var _d33=this._undoStack.pop();_d33.callback.apply(_d33.context,_d33.parameters);this._updateFlags();this._isUndoing=false;},redo:function(){if(this._redoStack.length===0){return;}this._isRedoing=true;var _d34=this._redoStack.pop();_d34.callback.apply(_d34.context,_d34.parameters);this._updateFlags();this._isRedoing=false;},_updateFlags:function(){this.set("hasUndoSteps",this._undoStack.length>0);this.set("hasRedoSteps",this._redoStack.length>0);},clear:function(){this._undoStack=[];this._redoStack=[];this._updateFlags();}});});},"epi/shell/widget/_ActionProviderWidget":function(){define(["epi","dojo","dijit","epi/shell/widget/_ActionConsumer","epi/shell/widget/_ActionProvider"],function(epi,dojo,_d35,_d36,_d37){return dojo.declare([_d37],{_enclosingConsumer:null,startup:function(){this.inherited(arguments);this._registerSelf();},destroy:function(){this._unregisterSelf();this.inherited(arguments);},_registerSelf:function(){this._enclosingConsumer=this._getEnclosingActionConsumer();if(this._enclosingConsumer!==null){this._enclosingConsumer.addProvider(this);}},_unregisterSelf:function(){if(this._enclosingConsumer!==null){this._enclosingConsumer.removeProvider(this);}},_getEnclosingActionConsumer:function(){var node=this.domNode.parentNode;while(node!==null){var _d38=_d35.getEnclosingWidget(node);if(!_d38){return null;}if(_d38.isInstanceOf(_d36)){return _d38;}node=_d38.domNode.parentNode;}return null;}});});},"epi/shell/widget/_TabButton":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-style","dojo/has","dojo/keys","dijit/focus","dijit/_WidgetsInTemplateMixin","dijit/form/_TextBoxMixin","dijit/layout/TabController","dojox/html/entities","dojo/text!./templates/_TabButton.htm","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.TabContainer"],function(_d39,_d3a,dom,_d3b,has,keys,_d3c,_d3d,_d3e,_d3f,_d40,_d41,res){return _d3a([_d3f.TabButton,_d3d],{res:res,editing:false,tabCurrentName:"",templateString:_d41,buildRendering:function(){this.inherited(arguments);this.label=this.page.personalizableHeading||this.page.heading||this.page.title||this.title||this.res.newtabname;_d39.forEach(this.menuLayout.getChildren(),function(_d42){_d42.connect(_d42,"onChange",this.onChangeLayout);},this);if(!this.closeButton){this.closeTabMenuItem.set("disabled",true);}},onChangeLayout:function(_d43){if(_d43){_d39.forEach(this.getParent().getChildren(),function(_d44){_d44.set("checked",false);});}this.set("checked",true);},onLayoutClick:function(evt){},onTabTitleChanged:function(_d45){},onMenuButton:function(evt){evt.stopPropagation();},onRenameMenuItem:function(evt){var _d46=_d40.decode(this.tabName.innerHTML);if(_d46){this._lastNonEmptyValue=_d46;}this._setTabTitleEditable(true);evt.stopPropagation();},onCloseMenuItem:function(evt){evt.stopPropagation();},onClick:function(evt){},toggleMenu:function(_d47){_d3b.set(this.nodeOptions.domNode,"display",_d47?"":"none");},_editBoxBlur:function(evt){if(this.editing){this._saveTabTitleChanges();}else{this._setTabTitleEditable(false);}},_lastNonEmptyValue:null,_editBoxKeyDown:function(evt){if(!this.editing){return;}var k=keys;switch(evt.keyCode){case k.LEFT_ARROW:case k.RIGHT_ARROW:case k.DELETE:evt.stopPropagation();break;case k.ESCAPE:this._saveTabTitleChanges(true);break;case k.ENTER:this._saveTabTitleChanges(false);break;}},_setTabTitleEditable:function(_d48,text){this.editing=_d48;dom.setSelectable(this.focusNode,_d48);if(_d48){_d3b.set(this.tabName,"display","none");_d3b.set(this.editBox,"display","");if(text){this.editBox.value=text;}else{this.editBox.value=_d40.decode(this.tabName.innerHTML);}_d3e.selectInputText(this.editBox);_d3c.focus(this.editBox);}else{_d3b.set(this.editBox,"display","none");_d3b.set(this.tabName,"display","");this.editBox.value="";if(has("ie")){_d3b.set(this.domNode,"zoom","1");_d3b.set(this.domNode,"zoom","");}_d3c.focus(this.focusNode);}},_saveTabTitleChanges:function(_d49){var _d4a=this.editBox.value;if(_d49){_d4a=this._lastNonEmptyValue;}this.tabName.innerHTML=_d40.encode(_d4a);this.onTabTitleChanged(_d4a);this._setTabTitleEditable(false);},revertTabTitleChanges:function(_d4b,_d4c,_d4d){this.tabName.innerHTML=_d40.encode(_d4c);},_setCloseButtonAttr:function(disp){_d3b.set(this.closeNode,"display","none");},_setLabelAttr:function(_d4e){this.tabName.innerHTML=_d40.encode(_d4e);}});});},"dijit/layout/TabController":function(){require({cache:{"url:dijit/layout/templates/_TabButton.html":"<div role=\"presentation\" data-dojo-attach-point=\"titleNode,innerDiv,tabContent\" class=\"dijitTabInner dijitTabContent\">\n\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitTabButtonIcon\" data-dojo-attach-point='iconNode'/>\n\t<span data-dojo-attach-point='containerNode,focusNode' class='tabLabel'></span>\n\t<span class=\"dijitInline dijitTabCloseButton dijitTabCloseIcon\" data-dojo-attach-point='closeNode'\n\t\t  role=\"presentation\">\n\t\t<span data-dojo-attach-point='closeText' class='dijitTabCloseText'>[x]</span\n\t\t\t\t></span>\n</div>\n"}});define("dijit/layout/TabController",["dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/i18n","dojo/_base/lang","./StackController","../registry","../Menu","../MenuItem","dojo/text!./templates/_TabButton.html","dojo/i18n!../nls/common"],function(_d4f,dom,_d50,_d51,i18n,lang,_d52,_d53,Menu,_d54,_d55){var _d56=_d4f("dijit.layout._TabButton",_d52.StackButton,{baseClass:"dijitTab",cssStateNodes:{closeNode:"dijitTabCloseButton"},templateString:_d55,scrollOnFocus:false,buildRendering:function(){this.inherited(arguments);dom.setSelectable(this.containerNode,false);},startup:function(){this.inherited(arguments);var n=this.domNode;this.defer(function(){n.className=n.className;},1);},_setCloseButtonAttr:function(disp){this._set("closeButton",disp);_d51.toggle(this.domNode,"dijitClosable",disp);this.closeNode.style.display=disp?"":"none";if(disp){var _d57=i18n.getLocalization("dijit","common");if(this.closeNode){_d50.set(this.closeNode,"title",_d57.itemClose);}}},_setDisabledAttr:function(_d58){this.inherited(arguments);if(this.closeNode){if(_d58){_d50.remove(this.closeNode,"title");}else{var _d59=i18n.getLocalization("dijit","common");_d50.set(this.closeNode,"title",_d59.itemClose);}}},_setLabelAttr:function(_d5a){this.inherited(arguments);if(!this.showLabel&&!this.params.title){this.iconNode.alt=lang.trim(this.containerNode.innerText||this.containerNode.textContent||"");}}});var _d5b=_d4f("dijit.layout.TabController",_d52,{baseClass:"dijitTabController",templateString:"<div role='tablist' data-dojo-attach-event='onkeypress:onkeypress'></div>",tabPosition:"top",buttonWidget:_d56,buttonWidgetCloseClass:"dijitTabCloseButton",postCreate:function(){this.inherited(arguments);var _d5c=new Menu({id:this.id+"_Menu",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,targetNodeIds:[this.domNode],selector:function(node){return _d51.contains(node,"dijitClosable")&&!_d51.contains(node,"dijitTabDisabled");}});this.own(_d5c);var _d5d=i18n.getLocalization("dijit","common"),_d5e=this;_d5c.addChild(new _d54({label:_d5d.itemClose,ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,onClick:function(evt){var _d5f=_d53.byNode(this.getParent().currentTarget);_d5e.onCloseButtonClick(_d5f.page);}}));}});_d5b.TabButton=_d56;return _d5b;});},"dijit/layout/StackController":function(){define("dijit/layout/StackController",["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/_base/event","dojo/keys","dojo/_base/lang","dojo/on","../focus","../registry","../_Widget","../_TemplatedMixin","../_Container","../form/ToggleButton","dojo/i18n!../nls/common"],function(_d60,_d61,_d62,_d63,keys,lang,on,_d64,_d65,_d66,_d67,_d68,_d69){var _d6a=_d61("dijit.layout._StackButton",_d69,{tabIndex:"-1",closeButton:false,_aria_attr:"aria-selected",buildRendering:function(evt){this.inherited(arguments);(this.focusNode||this.domNode).setAttribute("role","tab");}});var _d6b=_d61("dijit.layout.StackController",[_d66,_d67,_d68],{baseClass:"dijitStackController",templateString:"<span role='tablist' data-dojo-attach-event='onkeypress'></span>",containerId:"",buttonWidget:_d6a,buttonWidgetCloseClass:"dijitStackCloseButton",constructor:function(_d6c){this.pane2button={};},postCreate:function(){this.inherited(arguments);this.subscribe(this.containerId+"-startup","onStartup");this.subscribe(this.containerId+"-addChild","onAddChild");this.subscribe(this.containerId+"-removeChild","onRemoveChild");this.subscribe(this.containerId+"-selectChild","onSelectChild");this.subscribe(this.containerId+"-containerKeyPress","onContainerKeyPress");this.connect(this.containerNode,"click",function(evt){var _d6d=_d65.getEnclosingWidget(evt.target);if(_d6d!=this.containerNode&&!_d6d.disabled&&_d6d.page){for(var _d6e=evt.target;_d6e!==this.containerNode;_d6e=_d6e.parentNode){if(_d62.contains(_d6e,this.buttonWidgetCloseClass)){this.onCloseButtonClick(_d6d.page);break;}else{if(_d6e==_d6d.domNode){this.onButtonClick(_d6d.page);break;}}}}});},onStartup:function(info){_d60.forEach(info.children,this.onAddChild,this);if(info.selected){this.onSelectChild(info.selected);}var _d6f=_d65.byId(this.containerId).containerNode,_d70=this.pane2button,_d71={"title":"label","showtitle":"showLabel","iconclass":"iconClass","closable":"closeButton","tooltip":"title","disabled":"disabled"},_d72=function(attr,_d73){return on(_d6f,"attrmodified-"+attr,function(evt){var _d74=_d70[evt.detail&&evt.detail.widget&&evt.detail.widget.id];if(_d74){_d74.set(_d73,evt.detail.newValue);}});};for(var attr in _d71){this.own(_d72(attr,_d71[attr]));}},destroy:function(){for(var pane in this.pane2button){this.onRemoveChild(_d65.byId(pane));}this.inherited(arguments);},onAddChild:function(page,_d75){var Cls=lang.isString(this.buttonWidget)?lang.getObject(this.buttonWidget):this.buttonWidget;var _d76=new Cls({id:this.id+"_"+page.id,name:this.id+"_"+page.id,label:page.title,disabled:page.disabled,ownerDocument:this.ownerDocument,dir:page.dir,lang:page.lang,textDir:page.textDir,showLabel:page.showTitle,iconClass:page.iconClass,closeButton:page.closable,title:page.tooltip,page:page});this.addChild(_d76,_d75);this.pane2button[page.id]=_d76;page.controlButton=_d76;if(!this._currentChild){this.onSelectChild(page);}},onRemoveChild:function(page){if(this._currentChild===page){this._currentChild=null;}var _d77=this.pane2button[page.id];if(_d77){this.removeChild(_d77);delete this.pane2button[page.id];_d77.destroy();}delete page.controlButton;},onSelectChild:function(page){if(!page){return;}if(this._currentChild){var _d78=this.pane2button[this._currentChild.id];_d78.set("checked",false);_d78.focusNode.setAttribute("tabIndex","-1");}var _d79=this.pane2button[page.id];_d79.set("checked",true);this._currentChild=page;_d79.focusNode.setAttribute("tabIndex","0");var _d7a=_d65.byId(this.containerId);_d7a.containerNode.setAttribute("aria-labelledby",_d79.id);},onButtonClick:function(page){var _d7b=this.pane2button[page.id];_d64.focus(_d7b.focusNode);if(this._currentChild&&this._currentChild.id===page.id){_d7b.set("checked",true);}var _d7c=_d65.byId(this.containerId);_d7c.selectChild(page);},onCloseButtonClick:function(page){var _d7d=_d65.byId(this.containerId);_d7d.closeChild(page);if(this._currentChild){var b=this.pane2button[this._currentChild.id];if(b){_d64.focus(b.focusNode||b.domNode);}}},adjacent:function(_d7e){if(!this.isLeftToRight()&&(!this.tabPosition||/top|bottom/.test(this.tabPosition))){_d7e=!_d7e;}var _d7f=this.getChildren();var idx=_d60.indexOf(_d7f,this.pane2button[this._currentChild.id]),_d80=_d7f[idx];var _d81;do{idx=(idx+(_d7e?1:_d7f.length-1))%_d7f.length;_d81=_d7f[idx];}while(_d81.disabled&&_d81!=_d80);return _d81;},onkeypress:function(e){if(this.disabled||e.altKey){return;}var _d82=null;if(e.ctrlKey||!e._djpage){switch(e.charOrCode){case keys.LEFT_ARROW:case keys.UP_ARROW:if(!e._djpage){_d82=false;}break;case keys.PAGE_UP:if(e.ctrlKey){_d82=false;}break;case keys.RIGHT_ARROW:case keys.DOWN_ARROW:if(!e._djpage){_d82=true;}break;case keys.PAGE_DOWN:if(e.ctrlKey){_d82=true;}break;case keys.HOME:var _d83=this.getChildren();for(var idx=0;idx<_d83.length;idx++){var _d84=_d83[idx];if(!_d84.disabled){this.onButtonClick(_d84.page);break;}}_d63.stop(e);break;case keys.END:var _d83=this.getChildren();for(var idx=_d83.length-1;idx>=0;idx--){var _d84=_d83[idx];if(!_d84.disabled){this.onButtonClick(_d84.page);break;}}_d63.stop(e);break;case keys.DELETE:if(this._currentChild.closable){this.onCloseButtonClick(this._currentChild);}_d63.stop(e);break;default:if(e.ctrlKey){if(e.charOrCode===keys.TAB){this.onButtonClick(this.adjacent(!e.shiftKey).page);_d63.stop(e);}else{if(e.charOrCode=="w"){if(this._currentChild.closable){this.onCloseButtonClick(this._currentChild);}_d63.stop(e);}}}}if(_d82!==null){this.onButtonClick(this.adjacent(_d82).page);_d63.stop(e);}}},onContainerKeyPress:function(info){info.e._djpage=info.page;this.onkeypress(info.e);}});_d6b.StackButton=_d6a;return _d6b;});},"url:dijit/layout/templates/_TabButton.html":"<div role=\"presentation\" data-dojo-attach-point=\"titleNode,innerDiv,tabContent\" class=\"dijitTabInner dijitTabContent\">\n\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitTabButtonIcon\" data-dojo-attach-point='iconNode'/>\n\t<span data-dojo-attach-point='containerNode,focusNode' class='tabLabel'></span>\n\t<span class=\"dijitInline dijitTabCloseButton dijitTabCloseIcon\" data-dojo-attach-point='closeNode'\n\t\t  role=\"presentation\">\n\t\t<span data-dojo-attach-point='closeText' class='dijitTabCloseText'>[x]</span\n\t\t\t\t></span>\n</div>\n","url:epi/shell/widget/templates/_TabButton.htm":"<div role=\"presentation\" data-dojo-attach-point=\"titleNode,innerDiv,tabContent\" class=\"dijitTabInner dijitTabContent\">\r\n\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitTabButtonIcon\" data-dojo-attach-point=\"iconNode\"/>\r\n    <span class=\"tabLabel\" data-dojo-attach-point=\"tabName,containerNode,focusNode\"></span>\r\n    <input type=\"text\" style=\"display:none;\" class=\"tabLabel\" data-dojo-attach-point=\"editBox\" data-dojo-attach-event=\"onblur: _editBoxBlur, onkeypress: _editBoxKeyDown\" maxlength=\"50\" />\r\n\t<span class=\"dijitInline dijitTabCloseButton dijitTabCloseIcon\" data-dojo-attach-point=\"closeNode\" role=\"presentation\">\r\n\t\t<span data-dojo-attach-point=\"closeText\" class=\"dijitTabCloseText\">[x]</span>\r\n    </span>\r\n    <span class=\"dijitInline\" role=\"presentation\">\r\n        <div data-dojo-type=\"dijit/form/DropDownButton\" data-dojo-attach-point=\"nodeOptions\" showLabel=\"false\" title=\"\" iconClass=\"epi-iconSettingsMenu\" class=\"epi-mediumButton epi-chromelessButton\" style=\"display: none\" data-dojo-attach-event=\"onMouseDown: onMenuButton\">\r\n            <div data-dojo-type=\"dijit/Menu\" data-dojo-attach-point=\"dropDown\">\r\n                <div data-dojo-type=\"dijit/MenuItem\" data-dojo-attach-event=\"onClick: onRenameMenuItem\">${res.menuitemrename}</div>\r\n                <div data-dojo-type=\"dijit/PopupMenuItem\">\r\n                    <span>${res.menuitemlayout}</span>\r\n                    <div data-dojo-type=\"dijit/Menu\" data-dojo-attach-point=\"menuLayout\">\r\n                        <div data-dojo-type=\"dijit/CheckedMenuItem\" checked=\"false\" title=\"${res.menuitemlayout1}\" data-dojo-attach-event=\"onClick: onLayoutClick\">${res.menuitemlayout1}</div>\r\n                        <div data-dojo-type=\"dijit/CheckedMenuItem\" checked=\"false\" title=\"${res.menuitemlayout2}\" data-dojo-attach-event=\"onClick: onLayoutClick\">${res.menuitemlayout2}</div>\r\n                        <div data-dojo-type=\"dijit/CheckedMenuItem\" checked=\"false\" title=\"${res.menuitemlayout3}\" data-dojo-attach-event=\"onClick: onLayoutClick\">${res.menuitemlayout3}</div>\r\n                    </div>\r\n                </div>\r\n                <div data-dojo-type=\"dijit/MenuSeparator\"></div>\r\n                <div data-dojo-type=\"dijit/MenuItem\" data-dojo-attach-point=\"closeTabMenuItem\" data-dojo-attach-event=\"onClick: onCloseMenuItem\">${res.menuitemclose}</div>\r\n            </div>\r\n        </div>\r\n    </span>\r\n</div>","epi/shell/widget/ApplicationContentPane":function(){define(["dojo/_base/declare","dijit/layout/ContentPane","./Application"],function(_d85,_d86,_d87){return _d85([_d86,_d87],{});});},"epi/shell/widget/layout/ComponentContainer":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/aspect","dojo/when","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojox/layout/GridContainer","dijit/focus","dijit/registry","epi/dependency","epi/shell/widget/_ActionProvider","epi/shell/widget/ComponentSelectorDialog","epi/shell/widget/layout/_ComponentWrapper","epi/shell/widget/layout/ComponentTabContainer","epi/i18n!epi/shell/ui/nls/episerver.shell.ui.resources"],function(_d88,_d89,lang,_d8a,when,_d8b,_d8c,_d8d,_d8e,_d8f,_d90,_d91,_d92,_d93,_d94,_d95,_d96){return _d89([_d8e,_d92],{containerUnlocked:false,isAutoOrganized:false,baseClass:"epi-componentContainer",numberOfColumns:1,hasResizableColumns:false,_componentSelectorDialog:null,_componentsController:null,postMixInProperties:function(){this.inherited(arguments);this.nbZones=this.numberOfColumns;this._componentsController=this._componentsController||_d91.resolve("epi.shell.controller.Components");},resizeChildAfterDrop:function(node,_d97,_d98){this.inherited(arguments);if(_d90.getEnclosingWidget(_d97.node)==this){this._onDndDrop();}},_persistComponentSettings:function(){var _d99=this.getChildren();_d88.forEach(_d99,function(_d9a){var _d9b=this._componentsController.getComponentDefinitionById(_d9a.componentId);_d9b.settings=lang.mixin(_d9b.settings,_d9a.get("settings"));_d9b.settings.column=_d9a.get("column");this._componentsController.saveComponent(_d9b);},this);},buildRendering:function(){this.inherited(arguments);this.acceptTypes=[this.id];},postCreate:function(){this.inherited(arguments);this._setupDragManager();this.containerNode.removeAttribute("id");},_setupDragManager:function(){_d8a.before(this._dragManager,"_searchDragHandle",function(node){if(node&&_d8b.contains(node,"dojoxDragHandle")){return node;}});},startup:function(){if(this._started){return;}this.inherited(arguments);this.changeLockButtonState(false);},onShow:function(){if(this._disabled&&this.containerUnlocked){this.enableDnd();}},layout:function(){if(this.doLayout){_d8c.setContentSize(this.containerNode,{h:this._contentBox.h-this._border.h});_d8c.setContentSize(this.domNode,{w:this._contentBox.w-this._border.w});}this.layoutComponents();},layoutComponents:function(){var _d9c=_d8c.getContentBox(this.gridContainerDiv);var _d9d={w:_d9c.w/this.numberOfColumns};_d88.forEach(this.getChildren(),function(_d9e){if(_d9e.resize&&lang.isFunction(_d9e.resize)){_d9e.resize(_d9d);}});},_layoutChildren:function(_d9f,_da0,_da1){_d9f.resize({h:_da0});if(_da1){_d9f.set("lastOpenHeight",_da0);this.layoutComponents();this._persistComponentSettings();}},addComponent:function(_da2){this._componentSelectorDialog.hide();this._componentsController.addComponent(this,_da2,true,lang.hitch(this,function(){this.layoutComponents();}));},_selectFocus:function(){var _da3=_d8f.curNode;if(_da3===null||_da3.parentNode===null){return;}this.inherited(arguments);},addChild:function(_da4,_da5){var _da6,_da7=this._componentsController.getComponentDefinitionById(_da4.componentId),id=_da7?_da7.id:_da4.componentId,_da8=this.containerUnlocked,_da9={componentId:id,dndType:this.id,isRemovable:_da7?_da7.settings.isRemovable:_da4.params.isRemovable,minHeight:_da4.get("minHeight")||200,maxHeight:_da4.get("maxHeight")||Infinity,dragRestriction:!_da8,closable:_da8,heading:_da4.get("heading"),container:this},_daa=lang.mixin(_da9,_da7.settings);if(!_da4.isInstanceOf(_d94)&&!_da4.isInstanceOf(_d95)){_da6=new _d94(_daa);_da6.addChild(_da4);}else{_da6=_da4;for(var _dab in _daa){_da6.set(_dab,_da9[_dab]);}}this.connect(_da6,"onClosed",lang.hitch(this,this._gadgetClosed,_da6));this._connect(_da6.on("toggle",lang.hitch(this,function(){this._componentToggle(_da6);})));if(_da5>=this.numberOfColumns){_da5=this.numberOfColumns-1;}var _dac=this.inherited(arguments,[_da6,_da5]);if(_da8&&lang.isFunction(_dac.disableResize)){_dac.disableResize();}this._onCompontentsChanged();return _dac;},_componentToggle:function(_dad){_dad.resize();this.layoutComponents();this._persistComponentSettings();},_gadgetClosed:function(_dae){var _daf=_dae.componentId;when(this._componentsController.removeComponent(_daf),lang.hitch(this,function(){_dae.destroyRecursive();this._onCompontentsChanged();this._persistComponentSettings();this.layoutComponents();}));},_onCompontentsChanged:function(){this.layoutComponents();},showComponentSelector:function(){if(this._componentSelectorDialog===null){this._componentSelectorDialog=new _d93();this.own(this._componentSelectorDialog);this.connect(this._componentSelectorDialog,"onComponentSelected",this.addComponent);}this._componentSelectorDialog.show();},changeLockButtonState:function(_db0){this.containerUnlocked=_db0;_d88.forEach(this.getChildren(),lang.hitch(this,function(_db1){_db1.set("dragRestriction",!_db0);_db1.set("closable",_db0);}));this.containerUnlocked?this.enableDnd():this.disableDnd();},_saveComponentOrder:function(_db2,_db3){var _db4=_d88.map(_db2,function(_db5){return {id:_db5.componentId,column:_db5.get("column")};});this._componentsController.sortComponents(this,_db4,_db3);},_onDndDrop:function(){var _db6=this.getChildren();this._saveComponentOrder(_db6);this._onCompontentsChanged();this.layoutComponents();},_reloadGadgets:function(){var _db7=this.getChildren();var _db8=_db7.length;var self=this;_d88.forEach(_db7,function(_db9){self.removeChild(_db9);self.addChild(_db9,_db9.get("column"),_db8);});this._onCompontentsChanged();},_reloadContainer:function(_dba,_dbb){this.numberOfColumns=_dbb;if(_dba){this._reloadGadgets();}},setColumns:function(_dbc){var _dbd=this.getChildren();var self=this;if(_dbd.length<=0){this._reloadContainer(false,_dbc);}else{_d88.forEach(_dbd,function(_dbe){if(_dbe.column>=_dbc){_dbe.set("column",_dbc-1);}});this._saveComponentOrder(_dbd,lang.hitch(this,function(_dbf){this._reloadContainer(_dbf,_dbc);}));}this.inherited(arguments);this.resize();},_organizeChildrenManually:function(){var _dc0=dojox.layout.GridContainerLite.superclass.getChildren.call(this),_dc1=_dc0.length,_dc2;for(var i=0;i<_dc1;i++){_dc2=_dc0[i];try{this._insertChild(_dc2,_dc2.column);}catch(e){console.error("Unable to insert child in GridContainer",e);}}},_connect:function(_dc3){this._connects.push(_dc3);},getActions:function(){var self=this,_dc4=this.inherited(arguments),_dc5={parent:"settings",name:"addGadgets",label:_d96.componentselection.addgadgetstitle,type:"menuitem",action:lang.hitch(this,this.showComponentSelector)},_dc6={parent:"settings",name:"rearrangeGadgets",label:_d96.componentselection.rearrangegadgets,type:"checkedmenuitem",action:function(){lang.hitch(this,self.changeLockButtonState(this.checked));}};_dc4.splice(_dc4.length,0,_dc5);_dc4.splice(_dc4.length,0,_dc6);return _dc4;}});});},"dojox/layout/GridContainer":function(){define("dojox/layout/GridContainer",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/array","dojo/_base/connect","dojo/_base/sniff","dojo/dom-class","dojo/dom-style","dojo/dom-geometry","dojo/dom-construct","dojo/_base/lang","dojo/_base/window","dojo/ready","dojox/layout/GridContainerLite"],function(dojo,_dc7,_dc8,_dc9,has,_dca,_dcb,geom,_dcc,lang,win,_dcd,_dce){return _dc7("dojox.layout.GridContainer",_dce,{hasResizableColumns:true,liveResizeColumns:false,minColWidth:20,minChildWidth:150,mode:"right",isRightFixed:false,isLeftFixed:false,startup:function(){this.inherited(arguments);if(this.hasResizableColumns){for(var i=0;i<this._grid.length-1;i++){this._createGrip(i);}if(!this.getParent()){_dcd(lang.hitch(this,"_placeGrips"));}}},resizeChildAfterDrop:function(node,_dcf,_dd0){if(this.inherited(arguments)){this._placeGrips();}},onShow:function(){this.inherited(arguments);this._placeGrips();},resize:function(){this.inherited(arguments);if(this._isShown()&&this.hasResizableColumns){this._placeGrips();}},_createGrip:function(_dd1){var _dd2=this._grid[_dd1],grip=_dcc.create("div",{"class":"gridContainerGrip"},this.domNode);_dd2.grip=grip;_dd2.gripHandler=[this.connect(grip,"onmouseover",function(e){var _dd3=false;for(var i=0;i<this._grid.length-1;i++){if(_dca.contains(this._grid[i].grip,"gridContainerGripShow")){_dd3=true;break;}}if(!_dd3){_dca.replace(e.target,"gridContainerGripShow","gridContainerGrip");}})[0],this.connect(grip,"onmouseout",function(e){if(!this._isResized){_dca.replace(e.target,"gridContainerGrip","gridContainerGripShow");}})[0],this.connect(grip,"onmousedown","_resizeColumnOn")[0],this.connect(grip,"ondblclick","_onGripDbClick")[0]];},_placeGrips:function(){var _dd4,_dd5,left=0,grip;_dc8.forEach(this._grid,function(_dd6){if(_dd6.grip){grip=_dd6.grip;if(!_dd4){_dd4=grip.offsetWidth/2;}left+=geom.getMarginBox(_dd6.node).w;_dcb.set(grip,"left",(left-_dd4)+"px");if(!_dd5){_dd5=geom.getContentBox(this.gridNode).h;}if(_dd5>0){_dcb.set(grip,"height",_dd5+"px");}}},this);},_onGripDbClick:function(){this._updateColumnsWidth(this._dragManager);this.resize();},_resizeColumnOn:function(e){this._activeGrip=e.target;this._initX=e.pageX;e.preventDefault();win.body().style.cursor="ew-resize";this._isResized=true;var _dd7=[];var grid;var i;for(i=0;i<this._grid.length;i++){_dd7[i]=geom.getContentBox(this._grid[i].node).w;}this._oldTabSize=_dd7;for(i=0;i<this._grid.length;i++){grid=this._grid[i];if(this._activeGrip==grid.grip){this._currentColumn=grid.node;this._currentColumnWidth=_dd7[i];this._nextColumn=this._grid[i+1].node;this._nextColumnWidth=_dd7[i+1];}grid.node.style.width=_dd7[i]+"px";}var _dd8=function(_dd9,_dda){var _ddb=0;var _ddc=0;_dc8.forEach(_dd9,function(_ddd){if(_ddd.nodeType==1){var _dde=_dcb.getComputedStyle(_ddd);var _ddf=(has("ie"))?_dda:parseInt(_dde.minWidth);_ddc=_ddf+parseInt(_dde.marginLeft)+parseInt(_dde.marginRight);if(_ddb<_ddc){_ddb=_ddc;}}});return _ddb;};var _de0=_dd8(this._currentColumn.childNodes,this.minChildWidth);var _de1=_dd8(this._nextColumn.childNodes,this.minChildWidth);var _de2=Math.round((geom.getMarginBox(this.gridContainerTable).w*this.minColWidth)/100);this._currentMinCol=_de0;this._nextMinCol=_de1;if(_de2>this._currentMinCol){this._currentMinCol=_de2;}if(_de2>this._nextMinCol){this._nextMinCol=_de2;}this._connectResizeColumnMove=_dc9.connect(win.doc,"onmousemove",this,"_resizeColumnMove");this._connectOnGripMouseUp=_dc9.connect(win.doc,"onmouseup",this,"_onGripMouseUp");},_onGripMouseUp:function(){win.body().style.cursor="default";_dc9.disconnect(this._connectResizeColumnMove);_dc9.disconnect(this._connectOnGripMouseUp);this._connectOnGripMouseUp=this._connectResizeColumnMove=null;if(this._activeGrip){_dca.replace(this._activeGrip,"gridContainerGrip","gridContainerGripShow");}this._isResized=false;},_resizeColumnMove:function(e){e.preventDefault();if(!this._connectResizeColumnOff){_dc9.disconnect(this._connectOnGripMouseUp);this._connectOnGripMouseUp=null;this._connectResizeColumnOff=_dc9.connect(win.doc,"onmouseup",this,"_resizeColumnOff");}var d=e.pageX-this._initX;if(d==0){return;}if(!(this._currentColumnWidth+d<this._currentMinCol||this._nextColumnWidth-d<this._nextMinCol)){this._currentColumnWidth+=d;this._nextColumnWidth-=d;this._initX=e.pageX;this._activeGrip.style.left=parseInt(this._activeGrip.style.left)+d+"px";if(this.liveResizeColumns){this._currentColumn.style["width"]=this._currentColumnWidth+"px";this._nextColumn.style["width"]=this._nextColumnWidth+"px";this.resize();}}},_resizeColumnOff:function(e){win.body().style.cursor="default";_dc9.disconnect(this._connectResizeColumnMove);_dc9.disconnect(this._connectResizeColumnOff);this._connectResizeColumnOff=this._connectResizeColumnMove=null;if(!this.liveResizeColumns){this._currentColumn.style["width"]=this._currentColumnWidth+"px";this._nextColumn.style["width"]=this._nextColumnWidth+"px";}var _de3=[],_de4=[],_de5=this.gridContainerTable.clientWidth,node,_de6=false,i;for(i=0;i<this._grid.length;i++){node=this._grid[i].node;if(has("ie")){_de3[i]=geom.getMarginBox(node).w;_de4[i]=geom.getContentBox(node).w;}else{_de3[i]=geom.getContentBox(node).w;_de4=_de3;}}for(i=0;i<_de4.length;i++){if(_de4[i]!=this._oldTabSize[i]){_de6=true;break;}}if(_de6){var mul=has("ie")?100:10000;for(i=0;i<this._grid.length;i++){this._grid[i].node.style.width=Math.round((100*mul*_de3[i])/_de5)/mul+"%";}this.resize();}if(this._activeGrip){_dca.replace(this._activeGrip,"gridContainerGrip","gridContainerGripShow");}this._isResized=false;},setColumns:function(_de7){var z,j;if(_de7>0){var _de8=this._grid.length,_de9=_de8-_de7;if(_de9>0){var _dea=[],zone,_deb,end,_dec;if(this.mode=="right"){end=(this.isLeftFixed&&_de8>0)?1:0;_deb=(this.isRightFixed)?_de8-2:_de8-1;for(z=_deb;z>=end;z--){_dec=0;zone=this._grid[z].node;for(j=0;j<zone.childNodes.length;j++){if(zone.childNodes[j].nodeType==1&&!(zone.childNodes[j].id=="")){_dec++;break;}}if(_dec==0){_dea[_dea.length]=z;}if(_dea.length>=_de9){this._deleteColumn(_dea);break;}}if(_dea.length<_de9){_dc9.publish("/dojox/layout/gridContainer/noEmptyColumn",[this]);}}else{_deb=(this.isLeftFixed&&_de8>0)?1:0;end=(this.isRightFixed)?_de8-1:_de8;for(z=_deb;z<end;z++){_dec=0;zone=this._grid[z].node;for(j=0;j<zone.childNodes.length;j++){if(zone.childNodes[j].nodeType==1&&!(zone.childNodes[j].id=="")){_dec++;break;}}if(_dec==0){_dea[_dea.length]=z;}if(_dea.length>=_de9){this._deleteColumn(_dea);break;}}if(_dea.length<_de9){_dc9.publish("/dojox/layout/gridContainer/noEmptyColumn",[this]);}}}else{if(_de9<0){this._addColumn(Math.abs(_de9));}}if(this.hasResizableColumns){this._placeGrips();}}},_addColumn:function(_ded){var grid=this._grid,_dee,node,_def,_df0,_df1=(this.mode=="right"),_df2=this.acceptTypes.join(","),m=this._dragManager;if(this.hasResizableColumns&&((!this.isRightFixed&&_df1)||(this.isLeftFixed&&!_df1&&this.nbZones==1))){this._createGrip(grid.length-1);}for(var i=0;i<_ded;i++){node=_dcc.create("td",{"class":"gridContainerZone dojoxDndArea","accept":_df2,"id":this.id+"_dz"+this.nbZones});_df0=grid.length;if(_df1){if(this.isRightFixed){_def=_df0-1;grid.splice(_def,0,{"node":grid[_def].node.parentNode.insertBefore(node,grid[_def].node)});}else{_def=_df0;grid.push({"node":this.gridNode.appendChild(node)});}}else{if(this.isLeftFixed){_def=(_df0==1)?0:1;this._grid.splice(1,0,{"node":this._grid[_def].node.parentNode.appendChild(node,this._grid[_def].node)});_def=1;}else{_def=_df0-this.nbZones;this._grid.splice(_def,0,{"node":grid[_def].node.parentNode.insertBefore(node,grid[_def].node)});}}if(this.hasResizableColumns){if((!_df1&&this.nbZones!=1)||(!_df1&&this.nbZones==1&&!this.isLeftFixed)||(_df1&&i<_ded-1)||(_df1&&i==_ded-1&&this.isRightFixed)){this._createGrip(_def);}}m.registerByNode(grid[_def].node);this.nbZones++;}this._updateColumnsWidth(m);},_deleteColumn:function(_df3){var _df4,grid,_df5,_df6=0,_df7=_df3.length,m=this._dragManager;for(var i=0;i<_df7;i++){_df5=(this.mode=="right")?_df3[i]:_df3[i]-_df6;grid=this._grid[_df5];if(this.hasResizableColumns&&grid.grip){_dc8.forEach(grid.gripHandler,function(_df8){_dc9.disconnect(_df8);});_dcc.destroy(this.domNode.removeChild(grid.grip));grid.grip=null;}m.unregister(grid.node);_dcc.destroy(this.gridNode.removeChild(grid.node));this._grid.splice(_df5,1);this.nbZones--;_df6++;}var _df9=this._grid[this.nbZones-1];if(_df9.grip){_dc8.forEach(_df9.gripHandler,_dc9.disconnect);_dcc.destroy(this.domNode.removeChild(_df9.grip));_df9.grip=null;}this._updateColumnsWidth(m);},_updateColumnsWidth:function(_dfa){this.inherited(arguments);_dfa._dropMode.updateAreas(_dfa._areaList);},destroy:function(){_dc9.unsubscribe(this._dropHandler);this.inherited(arguments);}});});},"epi/shell/widget/ComponentSelectorDialog":function(){define(["epi","dojo/_base/declare","dojo/dom-style","dijit/Dialog","epi/shell/widget/ComponentSelector","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.ComponentSelection"],function(epi,_dfb,_dfc,_dfd,_dfe,res){return _dfb([_dfd],{_componentSelector:null,autofocus:false,size:{width:"650px",height:""},res:res,onComponentSelected:function(){},postMixInProperties:function(){this.inherited(arguments);this.buttonCancel=epi.resources.action.close;},postCreate:function(){this.inherited(arguments);this.set("title",this.res.dialogtitle);_dfc.set(this.domNode,this.size);},show:function(){this.inherited(arguments);this._ensureComponentSelectorCreated();this._componentSelector.show();},_ensureComponentSelectorCreated:function(){if(this._componentSelector){return;}this._contentSetterParams={parseContent:false};this._componentSelector=new _dfe();this.own(this._componentSelector);this.set("content",this._componentSelector);this.connect(this._componentSelector,"onComponentSelected",this.onComponentSelected);}});});},"epi/shell/widget/ComponentSelector":function(){define(["epi","dojo/_base/declare","dojo/_base/Deferred","dojo/keys","dojo/_base/array","dojo/_base/lang","dojo/dom-geometry","dgrid/OnDemandGrid","dgrid/Selection","dgrid/Keyboard","dgrid/extensions/DijitRegistry","dijit/_Contained","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/MenuItem","dijit/layout/ContentPane","dijit/layout/BorderContainer","dijit/form/Button","dijit/form/TextBox","dojo/store/Memory","epi/routes","epi/dependency","epi/shell/ViewSettings","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.ComponentSelection"],function(epi,_dff,_e00,keys,_e01,lang,_e02,_e03,_e04,_e05,_e06,_e07,_e08,_e09,_e0a,_e0b,_e0c,_e0d,_e0e,_e0f,_e10,_e11,_e12,_e13,res){var _e14=_dff([_e08,_e09,_e0a,_e07],{templateString:"            <div>            <div class=\"dijitDialogPaneToolBar clearfix\">                    <div class=\"dijitDialogPaneLeading\">                    </div>                    <div class=\"dijitDialogPaneTrailing\">                        <input data-dojo-type=\"dijit/form/TextBox\" dojoAttachPoint=\"searchBox\" dojoAttachEvent=\"onKeyUp: _onSearchBoxChange\" placeHolder=\"${commonRes.action.search}\" class=\"epi-searchInput\" />                    </div>                </div>                <div class=\"dijitDialogPaneContentArea epi-wrapped\">                    <div data-dojo-type=\"dijit/layout/BorderContainer\" data-dojo-attach-point=\"container\" style=\"width: 100%; height: 330px;\">                        <div data-dojo-type=\"dijit/layout/ContentPane\" region=\"left\" splitter=\"false\" class=\"epi-dialog-resourcePane epi-dijitMenuDisableIcon\" style=\"width: 160px;\" >                            <div data-dojo-type=\"dijit/Menu\" dojoAttachPoint=\"categoryMenu\" dojoAttachEvent=\"onItemClick: _onCategoryMenuClick\" style=\"width:160px;\"></div>                        </div>                            <div data-dojo-attach-point=\"grid\"></div>                    </div>                </div>                <div class=\"dijitDialogPaneActionBar\">                    <button data-dojo-type=\"dijit/form/Button\" type=\"submit\" data-dojo-props=\"'class':'default'\" data-dojo-attach-event=\"onClick:onClose\">${commonRes.action.close}</button>                </div>             </div>",res:res,commonRes:epi.resources,selectedCategory:"*",componentCategories:null,_selectedCategoryMenuItem:null,categoryStore:null,componentDefinitionStore:null,_sortableColumns:[1],_gridClass:_dff([_e03,_e06,_e04,_e05],{resize:function(size){if(!size){return;}_e02.setMarginBox(this.domNode,{w:size.w,h:size.h});this.inherited(arguments);}}),postMixInProperties:function(){this.inherited(arguments);this.categoryStore=this.categoryStore||this._getStore("epi.shell.componentcategory");this.componentDefinitionStore=this.componentDefinitionStore||this._getStore("epi.shell.componentdefinition");this.componentCategories=_e13.settings.componentCategories;},buildRendering:function(){this.inherited(arguments);this.grid=new this._gridClass({region:"center",columns:{title:{label:this.commonRes.header.name},description:{label:" "}},selectionMode:"single",sort:[{attribute:"title",descending:false}],query:lang.hitch(this,function(item){if(this.selectedCategory!=="*"){if(!item.categories){return false;}var _e15=this.selectedCategory;var _e16=_e01.some(item.categories,function(_e17){return _e17===_e15;});if(!_e16){return;}}var name=this.searchBox.get("value").toLowerCase();if(name.length>0&&(item.title&&item.title.toLowerCase().indexOf(name))){return false;}return true;})},this.grid);this.grid.on(".dgrid-row:click",lang.hitch(this,this._onGridRowSelected));this.grid.on(".dgrid-row:keydown",lang.hitch(this,this._onGridRowSelected));},_getStore:function(name){var _e18=_e12.resolve("epi.storeregistry");return _e18.get(name);},onComponentSelected:function(){},onClose:function(){},_onGridRowSelected:function(e){if(e.keyCode&&e.keyCode!==keys.ENTER){return;}var row=this.grid.row(e);if(!row||!row.data){return;}var _e19=row.data.component;this.onComponentSelected(_e19);},dataBind:function(_e1a){if(this.grid.store!==null&&_e1a!==true){return;}if(_e1a){_e01.forEach(this.categoryMenu.getChildren(),function(_e1b){this.categoryMenu.removeChild(_e1b);},this);}var grid=this.grid;_e00.when(this.componentDefinitionStore.query(),lang.hitch(this,function(data){var _e1c=_e01.filter(data,function(item){return this._inCategoryFilter(item.categories);},this);this._populateCategoryMenu(_e1c);var _e1d=new _e10({data:_e1c});grid.set("store",_e1d);}));},show:function(_e1e){this.inherited(arguments);this.dataBind(_e1e);this.resize();},resize:function(){this.inherited(arguments);this.container.resize();},_populateCategoryMenu:function(_e1f){this._selectedCategoryMenuItem=new _e0b({label:this.commonRes.header.all,selected:true,value:"*"});this.categoryMenu.addChild(this._selectedCategoryMenuItem);var _e20=this.categoryStore.query();_e00.when(_e20,lang.hitch(this,function(_e21){_e01.forEach(_e21,function(_e22){var _e23=_e01.some(_e1f,function(_e24){return _e01.indexOf(_e24.categories,_e22.name)>=0;});if(_e23){this.categoryMenu.addChild(new _e0b({label:_e22.displayName,value:_e22.name}));}},this);}));},_inCategoryFilter:function(_e25){var _e26=this.componentCategories;return _e26==null||_e01.some(_e25,function(c){return _e01.some(_e26,function(_e27){return _e27===c;});});},_onCategoryMenuClick:function(item,e){this._selectedCategoryMenuItem.set("selected",false);item.set("selected",true);this._selectedCategoryMenuItem=item;this.selectedCategory=item.value;this.searchBox.reset();this.grid.refresh();},_onSearchBoxChange:function(e){this.grid.refresh();}});return _e14;});},"dgrid/OnDemandGrid":function(){define(["dojo/_base/declare","./Grid","./OnDemandList"],function(_e28,Grid,_e29){return _e28([Grid,_e29],{});});},"dgrid/Grid":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/on","dojo/has","put-selector/put","./List","./util/misc","dojo/_base/sniff"],function(_e2a,_e2b,_e2c,has,put,List,_e2d){var _e2e=has("ie")<8&&!has("quirks");var _e2f=/[^\._a-zA-Z0-9-]/g;function _e30(_e31,_e32){if(_e32&&_e32.nodeType){_e31.appendChild(_e32);}};var Grid=_e2b(List,{columns:null,cellNavigation:true,tabableHeader:true,showHeader:true,column:function(_e33){if(typeof _e33!="object"){return this.columns[_e33];}else{return this.cell(_e33).column;}},listType:"grid",cell:function(_e34,_e35){if(_e34.column&&_e34.element){return _e34;}if(_e34.target&&_e34.target.nodeType){_e34=_e34.target;}var _e36;if(_e34.nodeType){var _e37;do{if(this._rowIdToObject[_e34.id]){break;}var _e38=_e34.columnId;if(_e38){_e35=_e38;_e36=_e34;break;}_e34=_e34.parentNode;}while(_e34&&_e34!=this.domNode);}if(!_e36&&typeof _e35!="undefined"){var row=this.row(_e34),_e39=row&&row.element;if(_e39){var _e3a=_e39.getElementsByTagName("td");for(var i=0;i<_e3a.length;i++){if(_e3a[i].columnId==_e35){_e36=_e3a[i];break;}}}}if(_e34!=null){return {row:row||this.row(_e34),column:_e35&&this.column(_e35),element:_e36};}},createRowCells:function(tag,each,_e3b){var row=put("table.dgrid-row-table[role=presentation]"),_e3c=this.cellNavigation,_e3d=(has("ie")<9||has("quirks"))?put(row,"tbody"):row,tr,si,sl,i,l,_e3e,_e3f,id,_e40,cell,_e41,_e42,_e43;_e3b=_e3b||this.subRows;for(si=0,sl=_e3b.length;si<sl;si++){_e3e=_e3b[si];tr=put(_e3d,"tr");if(_e3e.className){put(tr,"."+_e3e.className);}for(i=0,l=_e3e.length;i<l;i++){_e3f=_e3e[i];id=_e3f.id;_e40=_e3f.className||(_e3f.field&&"field-"+_e3f.field);cell=put(tag+(".dgrid-cell.dgrid-cell-padding"+(id?".dgrid-column-"+id:"")+(_e40?"."+_e40:"")).replace(_e2f,"-")+"[role="+(tag==="th"?"columnheader":"gridcell")+"]");cell.columnId=id;if(_e2e){_e41=put(cell,"!dgrid-cell-padding div.dgrid-cell-padding");cell.contents=_e41;}else{_e41=cell;}_e42=_e3f.colSpan;if(_e42){cell.colSpan=_e42;}_e43=_e3f.rowSpan;if(_e43){cell.rowSpan=_e43;}each(_e41,_e3f);tr.appendChild(cell);}}return row;},left:function(cell,_e44){if(!cell.element){cell=this.cell(cell);}return this.cell(this._move(cell,-(_e44||1),"dgrid-cell"));},right:function(cell,_e45){if(!cell.element){cell=this.cell(cell);}return this.cell(this._move(cell,_e45||1,"dgrid-cell"));},renderRow:function(_e46,_e47){var self=this;var row=this.createRowCells("td",function(td,_e48){var data=_e46;if(_e48.get){data=_e48.get(_e46);}else{if("field" in _e48&&_e48.field!="_item"){data=data[_e48.field];}}if(_e48.renderCell){_e30(td,_e48.renderCell(_e46,data,td,_e47));}else{_e49.call(_e48,_e46,data,td,_e47);}},_e47&&_e47.subRows);return put("div[role=row]>",row);},renderHeader:function(){var grid=this,_e4a=this.columns,_e4b=this.headerNode,i=_e4b.childNodes.length;_e4b.setAttribute("role","row");while(i--){put(_e4b.childNodes[i],"!");}var row=this.createRowCells("th",function(th,_e4c){var _e4d=_e4c.headerNode=th;if(_e2e){th=th.parentNode;}var _e4e=_e4c.field;if(_e4e){th.field=_e4e;}if(_e4c.renderHeaderCell){_e30(_e4d,_e4c.renderHeaderCell(_e4d));}else{if("label" in _e4c||_e4c.field){_e4d.appendChild(document.createTextNode("label" in _e4c?_e4c.label:_e4c.field));}}if(_e4c.sortable!==false&&_e4e&&_e4e!="_item"){th.sortable=true;th.className+=" dgrid-sortable";}},this.subRows&&this.subRows.headerRows);this._rowIdToObject[row.id=this.id+"-header"]=this.columns;_e4b.appendChild(row);if(this._sortListener){this._sortListener.remove();}this._sortListener=_e2c(row,"click,keydown",function(_e4f){if(_e4f.type=="click"||_e4f.keyCode==32||(!has("opera")&&_e4f.keyCode==13)){var _e50=_e4f.target,_e51,sort,_e52,_e53;do{if(_e50.sortable){_e52=[{attribute:(_e51=_e50.field||_e50.columnId),descending:(sort=grid._sort[0])&&sort.attribute==_e51&&!sort.descending}];_e53={bubbles:true,cancelable:true,grid:grid,parentType:_e4f.type,sort:_e52};if(_e2c.emit(_e4f.target,"dgrid-sort",_e53)){grid._sortNode=_e50;grid.set("sort",_e52);}break;}}while((_e50=_e50.parentNode)&&_e50!=_e4b);}});},resize:function(){var _e54=this.headerNode.firstChild,_e55=this.contentNode,_e56;this.inherited(arguments);if(!has("ie")||(has("ie")>7&&!has("quirks"))){_e55.style.width="";if(_e55&&_e54){if((_e56=_e54.offsetWidth)!=_e55.offsetWidth){_e55.style.width=_e56+"px";}}}},destroy:function(){this._destroyColumns();if(this._sortListener){this._sortListener.remove();}this.inherited(arguments);},_setSort:function(_e57,_e58){this.inherited(arguments);this.updateSortArrow(this._sort);},updateSortArrow:function(sort,_e59){if(this._lastSortedArrow){put(this._lastSortedArrow,"<!dgrid-sort-up!dgrid-sort-down");put(this._lastSortedArrow,"!");delete this._lastSortedArrow;}if(_e59){this._sort=sort;}if(!sort[0]){return;}var prop=sort[0].attribute,desc=sort[0].descending,_e5a=this._sortNode,_e5b,_e5c,i;delete this._sortNode;if(!_e5a){_e5b=this.columns;for(i in _e5b){_e5c=_e5b[i];if(_e5c.field==prop){_e5a=_e5c.headerNode;break;}}}if(_e5a){_e5a=_e5a.contents||_e5a;this._lastSortedArrow=put(_e5a.firstChild,"-div.dgrid-sort-arrow.ui-icon[role=presentation]");this._lastSortedArrow.innerHTML="&nbsp;";put(_e5a,desc?".dgrid-sort-down":".dgrid-sort-up");this.resize();}},styleColumn:function(_e5d,css){return this.addCssRule("#"+_e2d.escapeCssIdentifier(this.domNode.id)+" .dgrid-column-"+_e5d,css);},_configColumns:function(_e5e,_e5f){var _e60=[],_e61=_e5f instanceof Array;function _e62(_e63,_e64){if(typeof _e63=="string"){_e5f[_e64]=_e63={label:_e63};}if(!_e61&&!_e63.field){_e63.field=_e64;}_e64=_e63.id=_e63.id||(isNaN(_e64)?_e64:(_e5e+_e64));if(_e61){this.columns[_e64]=_e63;}if(this._configColumn){this._configColumn(_e63,_e64,_e5f,_e5e);}_e63.grid=this;if(typeof _e63.init==="function"){_e63.init();}_e60.push(_e63);};_e2d.each(_e5f,_e62,this);return _e61?_e5f:_e60;},_destroyColumns:function(){var _e65=this.subRows,_e66=_e65&&_e65.length,i,j,_e67,len;this.cleanup();for(i=0;i<_e66;i++){for(j=0,len=_e65[i].length;j<len;j++){_e67=_e65[i][j];if(typeof _e67.destroy==="function"){_e67.destroy();}}}},configStructure:function(){var _e68=this.subRows,_e69=this._columns=this.columns;this.columns=!_e69||_e69 instanceof Array?{}:_e69;if(_e68){for(var i=0;i<_e68.length;i++){_e68[i]=this._configColumns(i+"-",_e68[i]);}}else{this.subRows=[this._configColumns("",_e69)];}},_getColumns:function(){return this._columns||this.columns;},_setColumns:function(_e6a){this._destroyColumns();this.subRows=null;this.columns=_e6a;this._updateColumns();},_setSubRows:function(_e6b){this._destroyColumns();this.subRows=_e6b;this._updateColumns();},setColumns:function(_e6c){_e2a.deprecated("setColumns(...)","use set(\"columns\", ...) instead","dgrid 0.4");this.set("columns",_e6c);},setSubRows:function(_e6d){_e2a.deprecated("setSubRows(...)","use set(\"subRows\", ...) instead","dgrid 0.4");this.set("subRows",_e6d);},_updateColumns:function(){this.configStructure();this.renderHeader();this.refresh();this._lastCollection&&this.renderArray(this._lastCollection);if(this._started){if(this._sort&&this._sort.length){this.updateSortArrow(this._sort);}else{this.resize();}}}});function _e49(_e6e,data,td,_e6f){if(this.formatter){var _e70=this.formatter,_e71=this.grid.formatterScope;td.innerHTML=typeof _e70==="string"&&_e71?_e71[_e70](data,_e6e):_e70(data,_e6e);}else{if(data!=null){td.appendChild(document.createTextNode(data));}}};Grid.appendIfNode=_e30;Grid.defaultRenderCell=_e49;return Grid;});},"put-selector/put":function(){(function(_e72){var _e73,_e74=/[-+,> ]/;_e72([],_e73=function(doc,_e75){"use strict";_e74=_e75||_e74;var _e76=/(?:\s*([-+ ,<>]))?\s*(\.|!\.?|#)?([-\w%$|]+)?(?:\[([^\]=]+)=?['"]?([^\]'"]*)['"]?\])?/g,_e77,_e78,_e79=false,doc=doc||document,_e7a=typeof doc.createElement=="object";function _e7b(_e7c,text){_e7c.appendChild(doc.createTextNode(text));};function put(_e7d){var _e7e,_e7f,_e80,_e81,_e82,args=arguments,_e83=args[0];function _e84(){if(_e82&&_e81&&_e82!=_e81){(_e81==_e7d&&(_e7e||(_e7e=_e74.test(_e85)&&doc.createDocumentFragment()))?_e7e:_e81).insertBefore(_e82,_e80||null);}};for(var i=0;i<args.length;i++){var _e85=args[i];if(typeof _e85=="object"){_e7f=false;if(_e85 instanceof Array){_e82=doc.createDocumentFragment();for(var key=0;key<_e85.length;key++){_e82.appendChild(put(_e85[key]));}_e85=_e82;}if(_e85.nodeType){_e82=_e85;_e84();_e81=_e85;_e80=0;}else{for(var key in _e85){_e82[key]=_e85[key];}}}else{if(_e7f){_e7f=false;_e7b(_e82,_e85);}else{if(i<1){_e7d=null;}_e7f=true;var _e86=_e85.replace(_e76,function(t,_e87,_e88,_e89,_e8a,_e8b){if(_e87){_e84();if(_e87=="-"||_e87=="+"){_e81=(_e80=(_e82||_e81)).parentNode;_e82=null;if(_e87=="+"){_e80=_e80.nextSibling;}}else{if(_e87=="<"){_e81=_e82=(_e82||_e81).parentNode;}else{if(_e87==","){_e81=_e7d;}else{if(_e82){_e81=_e82;}}_e82=null;}_e80=0;}if(_e82){_e81=_e82;}}var tag=!_e88&&_e89;if(tag||(!_e82&&(_e88||_e8a))){if(tag=="$"){_e7b(_e81,args[++i]);}else{tag=tag||put.defaultTag;var _e8c=_e7a&&args[i+1]&&args[i+1].name;if(_e8c){tag="<"+tag+" name=\""+_e8c+"\">";}_e82=_e79&&~(_e78=tag.indexOf("|"))?doc.createElementNS(_e79[tag.slice(0,_e78)],tag.slice(_e78+1)):doc.createElement(tag);}}if(_e88){if(_e89=="$"){_e89=args[++i];}if(_e88=="#"){_e82.id=_e89;}else{var _e8d=_e82.className;var _e8e=_e8d&&(" "+_e8d+" ").replace(" "+_e89+" "," ");if(_e88=="."){_e82.className=_e8d?(_e8e+_e89).substring(1):_e89;}else{if(_e85=="!"){var _e8f;if(_e7a){put("div",_e82,"<").innerHTML="";}else{if(_e8f=_e82.parentNode){_e8f.removeChild(_e82);}}}else{_e8e=_e8e.substring(1,_e8e.length-1);if(_e8e!=_e8d){_e82.className=_e8e;}}}}}if(_e8a){if(_e8b=="$"){_e8b=args[++i];}if(_e8a=="style"){_e82.style.cssText=_e8b;}else{var _e90=_e8a.charAt(0)=="!"?(_e8a=_e8a.substring(1))&&"removeAttribute":"setAttribute";_e8b=_e8b===""?_e8a:_e8b;_e79&&~(_e78=_e8a.indexOf("|"))?_e82[_e90+"NS"](_e79[_e8a.slice(0,_e78)],_e8a.slice(_e78+1),_e8b):_e82[_e90](_e8a,_e8b);}}return "";});if(_e86){throw new SyntaxError("Unexpected char "+_e86+" in "+_e85);}_e84();_e81=_e83=_e82||_e81;}}}if(_e7d&&_e7e){_e7d.appendChild(_e7e);}return _e83;};put.addNamespace=function(name,uri){if(doc.createElementNS){(_e79||(_e79={}))[name]=uri;}else{doc.namespaces.add(name,uri);}};put.defaultTag="div";put.forDocument=_e73;return put;});})(function(id,deps,_e91){_e91=_e91||deps;if(typeof define==="function"){define([],function(){return _e91();});}else{if(typeof window=="undefined"){require("./node-html")(module,_e91);}else{put=_e91();}}});},"dgrid/List":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/on","dojo/has","./util/misc","dojo/has!touch?./TouchScroll","xstyle/has-class","put-selector/put","dojo/_base/sniff","xstyle/css!./css/dgrid.css"],function(_e92,_e93,_e94,has,_e95,_e96,_e97,put){_e97("mozilla","opera","webkit","ie","ie-6","ie-6-7","quirks","no-quirks","touch");var _e98="dgrid-row-odd",_e99="dgrid-row-even",_e9a,_e9b;function byId(id){return document.getElementById(id);};function _e9c(node,_e9d){var body=document.body,size;put(body,node,".dgrid-scrollbar-measure");size=node["offset"+_e9d]-node["client"+_e9d];put(node,"!dgrid-scrollbar-measure");body.removeChild(node);return size;};has.add("dom-scrollbar-width",function(_e9e,doc,_e9f){return _e9c(_e9f,"Width");});has.add("dom-scrollbar-height",function(_ea0,doc,_ea1){return _e9c(_ea1,"Height");});var _ea2=0;function _ea3(){return "dgrid_"+_ea2++;};var _ea4=/ +/g;function _ea5(cls){var _ea6=cls?"."+cls.replace(_ea4,"."):"";if(this._class){_ea6="!"+this._class.replace(_ea4,"!")+_ea6;}put(this.domNode,_ea6);this._class=cls;};function _ea7(){return this._class;};var _ea8=has("ie")<7&&!has("quirks")?function(){var root,w,h,dims;if(!this._started){return;}root=document.documentElement;w=root.clientWidth;h=root.clientHeight;dims=this._prevWinDims||[];if(dims[0]!==w||dims[1]!==h){this.resize();this._prevWinDims=[w,h];}}:function(){if(this._started){this.resize();}};function _ea9(){return {x:this.bodyNode.scrollLeft,y:this.bodyNode.scrollTop};};function _eaa(_eab){if(typeof _eab.x!=="undefined"){this.bodyNode.scrollLeft=_eab.x;}if(typeof _eab.y!=="undefined"){this.bodyNode.scrollTop=_eab.y;}};return _e93(has("touch")?_e96:null,{tabableHeader:false,showHeader:false,showFooter:false,maintainOddEven:true,cleanAddedRules:true,useTouchScroll:true,postscript:function(_eac,_ead){var grid=this;(this._Row=function(id,_eae,_eaf){this.id=id;this.data=_eae;this.element=_eaf;}).prototype.remove=function(){grid.removeRow(this.element);};if(_ead){this.srcNodeRef=_ead=_ead.nodeType?_ead:byId(_ead);}this.create(_eac,_ead);},listType:"list",create:function(_eb0,_eb1){var _eb2=this.domNode=_eb1||put("div"),cls;if(_eb0){this.params=_eb0;_e93.safeMixin(this,_eb0);cls=_eb0["class"]||_eb0.className||_eb2.className;this._sort=_eb0.sort||[];delete this.sort;}else{this._sort=[];}this.observers=[];this._numObservers=0;this._listeners=[];this._rowIdToObject={};this.postMixInProperties&&this.postMixInProperties();this.id=_eb2.id=_eb2.id||this.id||_ea3();this.buildRendering();if(cls){_ea5.call(this,cls);}this.postCreate();delete this.srcNodeRef;if(this.domNode.offsetHeight){this.startup();}},buildRendering:function(){var _eb3=this.domNode,self=this,_eb4,_eb5,_eb6,_eb7,_eb8;_eb8=this.isRTL=(document.body.dir||document.documentElement.dir||document.body.style.direction).toLowerCase()=="rtl";_eb3.className="";put(_eb3,"[role=grid].ui-widget.dgrid.dgrid-"+this.listType);_eb4=this.headerNode=put(_eb3,"div.dgrid-header.dgrid-header-row.ui-widget-header"+(this.showHeader?"":".dgrid-header-hidden"));if(has("quirks")||has("ie")<8){_eb5=put(_eb3,"div.dgrid-spacer");}_eb6=this.bodyNode=put(_eb3,"div.dgrid-scroller");_eb6.tabIndex=-1;this.headerScrollNode=put(_eb3,"div.dgrid-header-scroll.dgrid-scrollbar-width.ui-widget-header");_eb7=this.footerNode=put("div.dgrid-footer"+(this.showFooter?"":".dgrid-footer-hidden"));put(_eb3,_eb7);if(_eb8){_eb3.className+=" dgrid-rtl"+(has("webkit")?"":" dgrid-rtl-nonwebkit");}_e94(_eb6,"scroll",function(_eb9){if(self.showHeader){_eb4.scrollLeft=_eb9.scrollLeft||_eb6.scrollLeft;}_eb9.stopPropagation();_e94.emit(_eb3,"scroll",{scrollTarget:_eb6});});this.configStructure();this.renderHeader();this.contentNode=this.touchNode=put(this.bodyNode,"div.dgrid-content.ui-widget-content");this._listeners.push(this._resizeHandle=_e94(window,"resize",_e95.throttleDelayed(_ea8,this)));},postCreate:has("touch")?function(){if(this.useTouchScroll){this.inherited(arguments);}}:function(){},startup:function(){if(this._started){return;}this.inherited(arguments);this._started=true;this.resize();this.set("sort",this._sort);},configStructure:function(){},resize:function(){var _eba=this.bodyNode,_ebb=this.headerNode,_ebc=this.footerNode,_ebd=_ebb.offsetHeight,_ebe=this.showFooter?_ebc.offsetHeight:0,_ebf=has("quirks")||has("ie")<7;this.headerScrollNode.style.height=_eba.style.marginTop=_ebd+"px";_eba.style.marginBottom=_ebe+"px";if(_ebf){_eba.style.height="";_eba.style.height=Math.max((this.domNode.offsetHeight-_ebd-_ebe),0)+"px";if(_ebe){_ebc.style.bottom="1px";setTimeout(function(){_ebc.style.bottom="";},0);}}if(!_e9a){_e9a=has("dom-scrollbar-width");_e9b=has("dom-scrollbar-height");if(has("ie")){_e9a++;_e9b++;}_e95.addCssRule(".dgrid-scrollbar-width","width: "+_e9a+"px");_e95.addCssRule(".dgrid-scrollbar-height","height: "+_e9b+"px");if(_e9a!=17&&!_ebf){_e95.addCssRule(".dgrid-header","right: "+_e9a+"px");_e95.addCssRule(".dgrid-rtl-nonwebkit .dgrid-header","left: "+_e9a+"px");}}if(_ebf){_ebb.style.width=_eba.clientWidth+"px";setTimeout(function(){_ebb.scrollLeft=_eba.scrollLeft;},0);}},addCssRule:function(_ec0,css){var rule=_e95.addCssRule(_ec0,css);if(this.cleanAddedRules){this._listeners.push(rule);}return rule;},on:function(_ec1,_ec2){var _ec3=_e94(this.domNode,_ec1,_ec2);if(!has("dom-addeventlistener")){this._listeners.push(_ec3);}return _ec3;},cleanup:function(){var _ec4=this.observers,i;for(i in this._rowIdToObject){if(this._rowIdToObject[i]!=this.columns){var _ec5=byId(i);if(_ec5){this.removeRow(_ec5,true);}}}for(i=0;i<_ec4.length;i++){var _ec6=_ec4[i];_ec6&&_ec6.cancel();}this.observers=[];this._numObservers=0;this.preload=null;},destroy:function(){if(this._listeners){for(var i=this._listeners.length;i--;){this._listeners[i].remove();}delete this._listeners;}this.cleanup();put(this.domNode,"!");this.inherited(arguments);},refresh:function(){this.cleanup();this._rowIdToObject={};this._autoId=0;this.contentNode.innerHTML="";this.scrollTo({x:0,y:0});},newRow:function(_ec7,_ec8,_ec9,i,_eca){if(_ec8){var row=this.insertRow(_ec7,_ec8,_ec9,i,_eca);put(row,".ui-state-highlight");setTimeout(function(){put(row,"!ui-state-highlight");},250);return row;}},adjustRowIndices:function(_ecb){var next=_ecb;var _ecc=next.rowIndex;if(_ecc>-1){do{if(next.rowIndex>-1){if(this.maintainOddEven){if((next.className+" ").indexOf("dgrid-row ")>-1){put(next,"."+(_ecc%2==1?_e98:_e99)+"!"+(_ecc%2==0?_e98:_e99));}}next.rowIndex=_ecc++;}}while((next=next.nextSibling)&&next.rowIndex!=_ecc);}},renderArray:function(_ecd,_ece,_ecf){_ecf=_ecf||{};var self=this,_ed0=_ecf.start||0,_ed1=this.observers,rows,_ed2,_ed3;if(!_ece){this._lastCollection=_ecd;}if(_ecd.observe){self._numObservers++;_ed3=_ed1.push(_ecd.observe(function(_ed4,from,to){var row,_ed5,_ed6,_ed7;function _ed8(){_ed6=(_ed6.connected||_ed6).nextSibling;};if(from>-1&&rows[from]){row=rows.splice(from,1)[0];if(row.parentNode==_ed2){_ed5=row.nextSibling;if(_ed5){if(from!=to){_ed5.rowIndex--;}}self.removeRow(row);}if(self._processScroll){self._processScroll();}}if(to>-1){if(rows.length){_ed6=rows[to];if(!_ed6){_ed6=rows[to-1];if(_ed6){_ed8();}}}else{_ed6=self._getFirstRowSibling&&self._getFirstRowSibling(_ed2);}if(row&&_ed6&&row.id===_ed6.id){_ed8();}if(_ed6&&!_ed6.parentNode){_ed6=byId(_ed6.id);}_ed7=(_ece&&_ece.parentNode)||(_ed6&&_ed6.parentNode)||self.contentNode;row=self.newRow(_ed4,_ed7,_ed6,_ecf.start+to,_ecf);if(row){row.observerIndex=_ed3;rows.splice(to,0,row);if(!_ed5||to<from){var _ed9=row.previousSibling;_ed5=!_ed9||_ed9.rowIndex+1==row.rowIndex||row.rowIndex==0?row:_ed9;}}_ecf.count++;}from!=to&&_ed5&&self.adjustRowIndices(_ed5);self._onNotification(rows,_ed4,from,to);},true))-1;}var _eda=document.createDocumentFragment(),_edb;function _edc(_edd){_edb=self.insertRow(_edd,_eda,null,_ed0++,_ecf);_edb.observerIndex=_ed3;return _edb;};function _ede(_edf){if(typeof _ed3!=="undefined"){_ed1[_ed3].cancel();_ed1[_ed3]=0;self._numObservers--;}if(_edf){throw _edf;}};function _ee0(_ee1){_ed2=_ece?_ece.parentNode:self.contentNode;if(_ed2&&_ed2.parentNode&&(_ed2!==self.contentNode||_ee1.length)){_ed2.insertBefore(_eda,_ece||null);_edb=_ee1[_ee1.length-1];_edb&&self.adjustRowIndices(_edb);}else{if(_ed1[_ed3]){_ede();}}return (rows=_ee1);};if(_ecd.map){rows=_ecd.map(_edc,console.error);if(rows.then){return rows.then(_ee0,_ede);}}else{rows=[];for(var i=0,l=_ecd.length;i<l;i++){rows[i]=_edc(_ecd[i]);}}return _ee0(rows);},_onNotification:function(rows,_ee2,from,to){},renderHeader:function(){},_autoId:0,insertRow:function(_ee3,_ee4,_ee5,i,_ee6){var _ee7=_ee6.parentId,id=this.id+"-row-"+(_ee7?_ee7+"-":"")+((this.store&&this.store.getIdentity)?this.store.getIdentity(_ee3):this._autoId++),row=byId(id),_ee8=row&&row.previousSibling;if(row){this.removeRow(row);}row=this.renderRow(_ee3,_ee6);row.className=(row.className||"")+" ui-state-default dgrid-row "+(i%2==1?_e98:_e99);this._rowIdToObject[row.id=id]=_ee3;_ee4.insertBefore(row,_ee5||null);if(_ee8){this.adjustRowIndices(_ee8);}row.rowIndex=i;return row;},renderRow:function(_ee9,_eea){return put("div",""+_ee9);},removeRow:function(_eeb,_eec){_eeb=_eeb.element||_eeb;delete this._rowIdToObject[_eeb.id];if(!_eec){put(_eeb,"!");}},row:function(_eed){var id;if(_eed instanceof this._Row){return _eed;}if(_eed.target&&_eed.target.nodeType){_eed=_eed.target;}if(_eed.nodeType){var _eee;do{var _eef=_eed.id;if((_eee=this._rowIdToObject[_eef])){return new this._Row(_eef.substring(this.id.length+5),_eee,_eed);}_eed=_eed.parentNode;}while(_eed&&_eed!=this.domNode);return;}if(typeof _eed=="object"){id=this.store.getIdentity(_eed);}else{id=_eed;_eed=this._rowIdToObject[this.id+"-row-"+id];}return new this._Row(id,_eed,byId(this.id+"-row-"+id));},cell:function(_ef0){return {row:this.row(_ef0)};},_move:function(item,_ef1,_ef2,_ef3){var _ef4,_ef5,_ef6;_ef6=_ef5=item.element;_ef1=_ef1||1;do{if((_ef4=_ef5[_ef1<0?"previousSibling":"nextSibling"])){do{_ef5=_ef4;if(_ef5&&(_ef5.className+" ").indexOf(_ef2+" ")>-1){_ef6=_ef5;_ef1+=_ef1<0?1:-1;break;}}while((_ef4=(!_ef3||!_ef5.hidden)&&_ef5[_ef1<0?"lastChild":"firstChild"]));}else{_ef5=_ef5.parentNode;if(_ef5===this.bodyNode||_ef5===this.headerNode){break;}}}while(_ef1);return _ef6;},up:function(row,_ef7,_ef8){if(!row.element){row=this.row(row);}return this.row(this._move(row,-(_ef7||1),"dgrid-row",_ef8));},down:function(row,_ef9,_efa){if(!row.element){row=this.row(row);}return this.row(this._move(row,_ef9||1,"dgrid-row",_efa));},scrollTo:has("touch")?function(_efb){return this.useTouchScroll?this.inherited(arguments):_eaa.call(this,_efb);}:_eaa,getScrollPosition:has("touch")?function(){return this.useTouchScroll?this.inherited(arguments):_ea9.call(this);}:_ea9,get:function(name){var fn="_get"+name.charAt(0).toUpperCase()+name.slice(1);if(typeof this[fn]==="function"){return this[fn].apply(this,[].slice.call(arguments,1));}if(!1&&typeof this[fn+"Attr"]==="function"){}return this[name];},set:function(name,_efc){if(typeof name==="object"){for(var k in name){this.set(k,name[k]);}}else{var fn="_set"+name.charAt(0).toUpperCase()+name.slice(1);if(typeof this[fn]==="function"){this[fn].apply(this,[].slice.call(arguments,1));}else{if(!1&&typeof this[fn+"Attr"]==="function"){}this[name]=_efc;}}return this;},_getClass:_ea7,_setClass:_ea5,_getClassName:_ea7,_setClassName:_ea5,_setSort:function(_efd,_efe){this._sort=typeof _efd!="string"?_efd:[{attribute:_efd,descending:_efe}];this.refresh();if(this._lastCollection){if(_efd.length){if(typeof _efd!="string"){_efe=_efd[0].descending;_efd=_efd[0].attribute;}this._lastCollection.sort(function(a,b){var aVal=a[_efd],bVal=b[_efd];if(aVal===undefined){aVal="";}if(bVal===undefined){bVal="";}return aVal==bVal?0:(aVal>bVal==!_efe?1:-1);});}this.renderArray(this._lastCollection);}},sort:function(_eff,_f00){_e92.deprecated("sort(...)","use set(\"sort\", ...) instead","dgrid 0.4");this.set("sort",_eff,_f00);},_getSort:function(){return this._sort;},_setShowHeader:function(show){var _f01=this.headerNode;this.showHeader=show;put(_f01,(show?"!":".")+"dgrid-header-hidden");this.renderHeader();this.resize();if(show){_f01.scrollLeft=this.getScrollPosition().x;}},setShowHeader:function(show){_e92.deprecated("setShowHeader(...)","use set(\"showHeader\", ...) instead","dgrid 0.4");this.set("showHeader",show);},_setShowFooter:function(show){this.showFooter=show;put(this.footerNode,(show?"!":".")+"dgrid-footer-hidden");this.resize();}});});},"dgrid/util/misc":function(){define(["put-selector/put"],function(put){var _f02=[],_f03,_f04,_f05,_f06=/([^A-Za-z0-9_\u00A0-\uFFFF-])/g;function _f07(_f08){var _f09=_f02[_f08],i,l;if(_f09===undefined){return;}_f03[_f04](_f09);_f02[_f08]=undefined;for(i=_f08+1,l=_f02.length;i<l;i++){if(_f02[i]>_f09){_f02[i]--;}}};var util={defaultDelay:15,throttle:function(cb,_f0a,_f0b){var ran=false;_f0b=_f0b||util.defaultDelay;return function(){if(ran){return;}ran=true;cb.apply(_f0a,arguments);setTimeout(function(){ran=false;},_f0b);};},throttleDelayed:function(cb,_f0c,_f0d){var ran=false;_f0d=_f0d||util.defaultDelay;return function(){if(ran){return;}ran=true;var a=arguments;setTimeout(function(){ran=false;cb.apply(_f0c,a);},_f0d);};},debounce:function(cb,_f0e,_f0f){var _f10;_f0f=_f0f||util.defaultDelay;return function(){if(_f10){clearTimeout(_f10);_f10=null;}var a=arguments;_f10=setTimeout(function(){cb.apply(_f0e,a);},_f0f);};},each:function(_f11,_f12,_f13){var i,len;if(!_f11){return;}if(typeof _f11.length==="number"){for(i=0,len=_f11.length;i<len;i++){_f12.call(_f13,_f11[i],i,_f11);}}else{for(i in _f11){_f12.call(_f13,_f11[i],i,_f11);}}},addCssRule:function(_f14,css){if(!_f03){_f03=put(document.getElementsByTagName("head")[0],"style");_f03=_f03.sheet||_f03.styleSheet;_f04=_f03.deleteRule?"deleteRule":"removeRule";_f05=_f03.cssRules?"cssRules":"rules";}var _f15=_f02.length;_f02[_f15]=(_f03.cssRules||_f03.rules).length;_f03.addRule?_f03.addRule(_f14,css):_f03.insertRule(_f14+"{"+css+"}",_f02[_f15]);return {get:function(prop){return _f03[_f05][_f02[_f15]].style[prop];},set:function(prop,_f16){if(typeof _f02[_f15]!=="undefined"){_f03[_f05][_f02[_f15]].style[prop]=_f16;}},remove:function(){_f07(_f15);}};},escapeCssIdentifier:function(id){return id.replace(_f06,"\\$1");}};return util;});},"xstyle/has-class":function(){define(["dojo/has"],function(has){var _f17={};return function(){var test,args=arguments;for(var i=0;i<args.length;i++){var test=args[i];if(!_f17[test]){_f17[test]=true;var _f18=test.match(/^(no-)?(.+?)((-[\d\.]+)(-[\d\.]+)?)?$/),_f19=has(_f18[2]),_f1a=-_f18[4];if((_f1a>0?_f1a<=_f19&&(-_f18[5]||_f1a)>=_f19:!!_f19)==!_f18[1]){document.documentElement.className+=" has-"+test;}}}};});},"xstyle/css":function(){define(["require"],function(_f1b){"use strict";function _f1c(tag,id,_f1d){var _f1e=document.documentElement;var _f1f=_f1e.insertBefore(document.createElement(tag),_f1e.firstChild);_f1f.id=id;var _f20=(_f1f.currentStyle||getComputedStyle(_f1f,null))[_f1d];_f1e.removeChild(_f1f);return _f20;};return {load:function(_f21,_f22,_f23,_f24){var url=_f22.toUrl(_f21);var _f25=_f22.cache["url:"+url];if(_f25){if(_f25.xCss){var _f26=_f25.parser;var xCss=_f25.xCss;_f25=_f25.cssText;}_f1b(["./util/createStyleSheet"],function(_f27){_f27(_f25);});if(xCss){}return _f28();}function _f28(){var _f29=_f1c("x-parse",null,"content");if(_f29&&_f29!="none"){_f22([eval(_f29)],_f23);}else{_f23();}};var _f2a=_f1c("div",_f21.replace(/\//g,"-").replace(/\..*/,"")+"-loaded","display");if(_f2a=="none"){return _f28();}_f1b(["./load-css"],function(load){load(url,_f28);});}};});},"dgrid/OnDemandList":function(){define(["./List","./_StoreMixin","dojo/_base/declare","dojo/_base/lang","dojo/_base/Deferred","dojo/on","./util/misc","put-selector/put"],function(List,_f2b,_f2c,lang,_f2d,_f2e,_f2f,put){return _f2c([List,_f2b],{minRowsPerPage:25,maxRowsPerPage:250,maxEmptySpace:Infinity,bufferRows:10,farOffRemoval:2000,queryRowsOverlap:1,pagingMethod:"debounce",pagingDelay:_f2f.defaultDelay,keepScrollPosition:false,rowHeight:22,postCreate:function(){this.inherited(arguments);var self=this;_f2e(this.bodyNode,"scroll",_f2f[this.pagingMethod](function(_f30){self._processScroll(_f30);},null,this.pagingDelay));},renderQuery:function(_f31,_f32,_f33){var self=this,_f34={query:_f31,count:0,node:_f32,options:_f33},_f35=this.preload,_f36;if(!_f32){var _f37={node:put(this.contentNode,"div.dgrid-preload",{rowIndex:0}),count:0,query:_f31,next:_f34,options:_f33};_f37.node.style.height="0";_f34.node=_f32=put(this.contentNode,"div.dgrid-preload");_f34.previous=_f37;}_f32.rowIndex=this.minRowsPerPage;if(_f35){if((_f34.next=_f35.next)&&this.bodyNode.scrollTop>=_f35.node.offsetTop){_f34.previous=_f35;}else{_f34.next=_f35;_f34.previous=_f35.previous;}_f34.previous.next=_f34;_f34.next.previous=_f34;}else{this.preload=_f34;}var _f38=put(_f32,"-div.dgrid-loading"),_f39=put(_f38,"div.dgrid-below");_f39.innerHTML=this.loadingMessage;function _f3a(err){put(_f38,"!");if(err){if(self._refreshDeferred){self._refreshDeferred.reject(err);delete self._refreshDeferred;}throw err;}};_f33=lang.mixin(this.get("queryOptions"),_f33,{start:0,count:this.minRowsPerPage,query:_f31});this._trackError(function(){return _f36=_f31(_f33);});if(typeof _f36==="undefined"){_f3a();return;}_f2d.when(self.renderArray(_f36,_f32,_f33),function(trs){var _f3b=typeof _f36.total==="undefined"?_f36.length:_f36.total;return _f2d.when(_f3b,function(_f3c){var _f3d=trs.length,_f3e=_f32.parentNode,_f3f=self.noDataNode;put(_f38,"!");self._total=_f3c;if(_f3c===0){if(_f3f){put(_f3f,"!");delete self.noDataNode;}self.noDataNode=_f3f=put("div.dgrid-no-data");_f3e.insertBefore(_f3f,self._getFirstRowSibling(_f3e));_f3f.innerHTML=self.noDataMessage;}var _f40=0;for(var i=0;i<_f3d;i++){_f40+=self._calcRowHeight(trs[i]);}if(_f3d&&_f40){self.rowHeight=_f40/_f3d;}_f3c-=_f3d;_f34.count=_f3c;_f32.rowIndex=_f3d;if(_f3c){_f32.style.height=Math.min(_f3c*self.rowHeight,self.maxEmptySpace)+"px";}else{_f32.style.display="none";}if(self._previousScrollPosition){self.scrollTo(self._previousScrollPosition);delete self._previousScrollPosition;}self._processScroll();if(self._refreshDeferred){self._refreshDeferred.resolve(_f36);delete self._refreshDeferred;}return trs;},_f3a);},_f3a);return _f36;},refresh:function(_f41){var self=this,keep=(_f41&&_f41.keepScrollPosition),dfd,_f42;if(typeof keep==="undefined"){keep=this.keepScrollPosition;}if(keep){this._previousScrollPosition=this.getScrollPosition();}this.inherited(arguments);if(this.store){dfd=this._refreshDeferred=new _f2d();_f42=self.renderQuery(function(_f43){return self.store.query(self.query,_f43);});if(typeof _f42==="undefined"){dfd.reject();}return dfd.then(function(_f44){setTimeout(function(){_f2e.emit(self.domNode,"dgrid-refresh-complete",{bubbles:true,cancelable:false,grid:self,results:_f44});},0);delete self._refreshDeferred;return _f44;},function(err){delete self._refreshDeferred;throw err;});}},resize:function(){this.inherited(arguments);this._processScroll();},_getFirstRowSibling:function(_f45){return _f45.lastChild;},_calcRowHeight:function(_f46){var _f47=_f46.previousSibling;return _f47&&_f47.offsetTop!=_f46.offsetTop?_f46.offsetHeight:0;},lastScrollTop:0,_processScroll:function(evt){var grid=this,_f48=grid.bodyNode,_f49=(evt&&evt.scrollTop)||this.getScrollPosition().y,_f4a=_f48.offsetHeight+_f49,_f4b,_f4c,_f4d=grid.preload,_f4e=grid.lastScrollTop,_f4f=grid.bufferRows*grid.rowHeight,_f50=_f4f-grid.rowHeight,_f51,_f52,_f53,_f54=true;var _f55=1;grid.lastScrollTop=_f49;function _f56(_f57,_f58,_f59,_f5a){var _f5b=grid.farOffRemoval,_f4c=_f57.node;if(_f58>2*_f5b){var row,_f5c=_f4c[_f59];var _f5d=0;var _f5e=0;var _f5f=[];while((row=_f5c)){var _f60=grid._calcRowHeight(row);if(_f5d+_f60+_f5b>_f58||(_f5c.className.indexOf("dgrid-row")<0&&_f5c.className.indexOf("dgrid-loading")<0)){break;}var _f5c=row[_f59];_f5d+=_f60;_f5e+=row.count||1;grid.removeRow(row,true);_f5f.push(row);}_f57.count+=_f5e;if(_f5a){_f4c.rowIndex-=_f5e;_f61(_f57);}else{_f4c.style.height=(_f4c.offsetHeight+_f5d)+"px";}var _f62=put("div",_f5f);setTimeout(function(){put(_f62,"!");},1);}};function _f61(_f63,_f64){_f63.node.style.height=Math.min(_f63.count*grid.rowHeight,_f64?Infinity:grid.maxEmptySpace)+"px";};function _f65(_f66,_f67){do{_f66=_f67?_f66.next:_f66.previous;}while(_f66&&!_f66.node.offsetWidth);return _f66;};while(_f4d&&!_f4d.node.offsetWidth){_f4d=_f4d.previous;}while(_f4d&&_f4d!=_f4b){_f4b=grid.preload;grid.preload=_f4d;_f4c=_f4d.node;var _f68=_f4c.offsetTop;var _f69;if(_f4a+_f55+_f50<_f68){_f4d=_f65(_f4d,(_f54=false));}else{if(_f49-_f55-_f50>(_f68+(_f69=_f4c.offsetHeight))){_f4d=_f65(_f4d,(_f54=true));}else{var _f6a=((_f4c.rowIndex?_f49-_f4f:_f4a)-_f68)/grid.rowHeight;var _f6b=(_f4a-_f49+2*_f4f)/grid.rowHeight;var _f6c=Math.max(Math.min((_f49-_f4e)*grid.rowHeight,grid.maxRowsPerPage/2),grid.maxRowsPerPage/-2);_f6b+=Math.min(Math.abs(_f6c),10);if(_f4c.rowIndex==0){_f6a-=_f6b;}_f6a=Math.max(_f6a,0);if(_f6a<10&&_f6a>0&&_f6b+_f6a<grid.maxRowsPerPage){_f6b+=Math.max(0,_f6a);_f6a=0;}_f6b=Math.min(Math.max(_f6b,grid.minRowsPerPage),grid.maxRowsPerPage,_f4d.count);if(_f6b==0){_f4d=_f65(_f4d,_f54);continue;}_f6b=Math.ceil(_f6b);_f6a=Math.min(Math.floor(_f6a),_f4d.count-_f6b);var _f6d=lang.mixin(grid.get("queryOptions"),_f4d.options);_f4d.count-=_f6b;var _f6e=_f4c,_f6f,_f70=grid.queryRowsOverlap,_f71=_f4c.rowIndex>0&&_f4d;if(_f71){var _f72=_f4d.previous;if(_f72){_f56(_f72,_f49-(_f72.node.offsetTop+_f72.node.offsetHeight),"nextSibling");if(_f6a>0&&_f72.node==_f4c.previousSibling){_f6a=Math.min(_f4d.count,_f6a);_f4d.previous.count+=_f6a;_f61(_f4d.previous,true);_f4c.rowIndex+=_f6a;_f70=0;}else{_f6b+=_f6a;}_f4d.count-=_f6a;}_f6d.start=_f4c.rowIndex-_f70;_f6d.count=Math.min(_f6b+_f70,grid.maxRowsPerPage);_f4c.rowIndex=_f6d.start+_f6d.count;}else{if(_f4d.next){_f56(_f4d.next,_f4d.next.node.offsetTop-_f4a,"previousSibling",true);var _f6e=_f4c.nextSibling;if(_f6e==_f4d.next.node){_f4d.next.count+=_f4d.count-_f6a;_f4d.next.node.rowIndex=_f6a+_f6b;_f61(_f4d.next);_f4d.count=_f6a;_f70=0;}else{_f6f=true;}}_f6d.start=_f4d.count;_f6d.count=Math.min(_f6b+_f70,grid.maxRowsPerPage);}if(_f6f&&_f6e&&_f6e.offsetWidth){_f6f=_f6e.offsetTop;}_f61(_f4d);var _f73=put(_f6e,"-div.dgrid-loading[style=height:"+_f6b*grid.rowHeight+"px]"),_f74=put(_f73,"div.dgrid-"+(_f71?"below":"above"));_f74.innerHTML=grid.loadingMessage;_f73.count=_f6b;_f6d.query=_f4d.query;if(_f6d.start>grid._total||_f6d.count<0){continue;}var _f75=_f4d.query(_f6d),_f76=grid._trackError(function(){return _f75;});if(_f76===undefined){put(_f73,"!");return;}(function(_f77,_f78,_f79,_f7a,_f7b){_f53=_f2d.when(grid.renderArray(_f7b,_f77,_f6d),function(rows){_f52=_f7b;_f6e=_f77.nextSibling;put(_f77,"!");if(_f7a&&_f6e&&_f6e.offsetWidth){var pos=grid.getScrollPosition();grid.scrollTo({x:pos.x,y:pos.y+_f6e.offsetTop-_f7a,preserveMomentum:true});}_f2d.when(_f7b.total||_f7b.length,function(_f7c){grid._total=_f7c;if(_f79){_f79.count=_f7c-_f79.node.rowIndex;_f61(_f79);}});grid._processScroll();return rows;},function(e){put(_f77,"!");throw e;});}).call(this,_f73,_f48,_f71,_f6f,_f75);_f4d=_f4d.previous;}}}if(_f53&&(_f51=this._refreshDeferred)){delete this._refreshDeferred;_f2d.when(_f53,function(){_f51.resolve(_f52);});}},removeRow:function(_f7d,_f7e){function _f7f(_f80,_f81){return _f80!=null?_f80:_f81;};if(_f7d){var _f82=_f7d.previousSibling,_f83=_f7d.nextSibling,_f84=_f82&&_f7f(_f82.observerIndex,_f82.previousObserverIndex),_f85=_f83&&_f7f(_f83.observerIndex,_f83.nextObserverIndex),_f86=_f7d.observerIndex;_f7d.observerIndex=undefined;if(_f7e){_f7d.nextObserverIndex=_f85;_f7d.previousObserverIndex=_f84;}if(_f86>-1&&_f86!==_f84&&_f86!==_f85){var _f87=this.observers;var _f88=_f87[_f86];if(_f88){_f88.cancel();this._numObservers--;_f87[_f86]=0;}}}this.inherited(arguments);}});});},"dgrid/_StoreMixin":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","dojo/_base/Deferred","dojo/on","dojo/aspect","put-selector/put"],function(_f89,_f8a,lang,_f8b,_f8c,_f8d,put){function noop(_f8e){return _f8e;};function _f8f(err){if(typeof err!=="object"){err=new Error(err);}else{if(err.dojoType==="cancel"){return;}}err.grid=this;if(_f8c.emit(this.domNode,"dgrid-error",{grid:this,error:err,cancelable:true,bubbles:true})){console.error(err);}};return _f8a(null,{store:null,query:null,queryOptions:null,getBeforePut:true,noDataMessage:"",loadingMessage:"",constructor:function(){this.query={};this.queryOptions={};this.dirty={};this._updating={};this._columnsWithSet={};_f8d.before(this,"configStructure",lang.hitch(this,function(){this._columnsWithSet={};}));},postCreate:function(){this.inherited(arguments);if(this.store){this._updateNotifyHandle(this.store);}},destroy:function(){this.inherited(arguments);if(this._notifyHandle){this._notifyHandle.remove();}},_configColumn:function(_f90){if(_f90.set){this._columnsWithSet[_f90.field]=_f90;}},_updateNotifyHandle:function(_f91){if(this._notifyHandle){this._notifyHandle.remove();delete this._notifyHandle;}if(_f91&&typeof _f91.notify==="function"){this._notifyHandle=_f8d.after(_f91,"notify",lang.hitch(this,"_onNotify"),true);}},_setStore:function(_f92,_f93,_f94){this._updateNotifyHandle(_f92);this.store=_f92;this.dirty={};this.set("query",_f93,_f94);},_setQuery:function(_f95,_f96){var sort=_f96&&_f96.sort;this.query=_f95!==undefined?_f95:this.query;this.queryOptions=_f96||this.queryOptions;sort?this.set("sort",sort):this.refresh();},setStore:function(_f97,_f98,_f99){_f89.deprecated("setStore(...)","use set(\"store\", ...) instead","dgrid 0.4");this.set("store",_f97,_f98,_f99);},setQuery:function(_f9a,_f9b){_f89.deprecated("setQuery(...)","use set(\"query\", ...) instead","dgrid 0.4");this.set("query",_f9a,_f9b);},_getQueryOptions:function(){var _f9c=lang.delegate(this.queryOptions,{});if(this._sort.length){_f9c.sort=this._sort;}return _f9c;},_getQuery:function(){var q=this.query;return typeof q=="object"&&q!=null?lang.delegate(q,{}):q;},_setSort:function(_f9d,_f9e){if(this.store){this._lastCollection=null;}this.inherited(arguments);},_onNotify:function(_f9f,_fa0){this.inherited(arguments);if(_f9f&&this._numObservers<1){this.refresh({keepScrollPosition:true});}},insertRow:function(_fa1,_fa2,_fa3,i,_fa4){var _fa5=this.store,_fa6=this.dirty,id=_fa5&&_fa5.getIdentity(_fa1),_fa7;if(id in _fa6&&!(id in this._updating)){_fa7=_fa6[id];}if(_fa7){_fa1=lang.delegate(_fa1,_fa7);}return this.inherited(arguments);},updateDirty:function(id,_fa8,_fa9){var _faa=this.dirty,_fab=_faa[id];if(!_fab){_fab=_faa[id]={};}_fab[_fa8]=_fa9;},setDirty:function(id,_fac,_fad){_f89.deprecated("setDirty(...)","use updateDirty() instead","dgrid 0.4");this.updateDirty(id,_fac,_fad);},save:function(){var self=this,_fae=this.store,_faf=this.dirty,dfd=new _f8b(),_fb0=dfd.promise,_fb1=function(id){var data;return (self.getBeforePut||!(data=self.row(id).data))?function(){return _fae.get(id);}:function(){return data;};};function _fb2(id,_fb3){return function(_fb4){var _fb5=self._columnsWithSet,_fb6=self._updating,key,data;if(typeof _fb4.set==="function"){_fb4.set(_fb3);}else{for(key in _fb3){_fb4[key]=_fb3[key];}}for(key in _fb5){data=_fb5[key].set(_fb4);if(data!==undefined){_fb4[key]=data;}}_fb6[id]=true;return _f8b.when(_fae.put(_fb4),function(){delete _faf[id];delete _fb6[id];});};};for(var id in _faf){var put=_fb2(id,_faf[id]);_fb0=_fb0.then(_fb1(id)).then(put);}dfd.resolve();return _fb0;},revert:function(){this.dirty={};this.refresh();},_trackError:function(func){var _fb7;if(typeof func=="string"){func=lang.hitch(this,func);}try{_fb7=func();}catch(err){_f8f.call(this,err);}return _f8b.when(_fb7,noop,lang.hitch(this,_f8f));},newRow:function(){var row=this.inherited(arguments);if(this.noDataNode){put(this.noDataNode,"!");delete this.noDataNode;}return row;},removeRow:function(_fb8,_fb9){var row={element:_fb8};if(!_fb9&&this.noDataMessage&&(this.up(row).element===_fb8)&&(this.down(row).element===_fb8)){this.noDataNode=put(this.contentNode,"div.dgrid-no-data");this.noDataNode.innerHTML=this.noDataMessage;}return this.inherited(arguments);}});});},"dgrid/Selection":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/Deferred","dojo/on","dojo/has","dojo/aspect","./List","dojo/has!touch?./util/touch","put-selector/put","dojo/query","dojo/_base/sniff"],function(_fba,_fbb,_fbc,on,has,_fbd,List,_fbe,put){has.add("mspointer",function(_fbf,doc,_fc0){return "onmspointerdown" in _fc0;});has.add("css-user-select",function(_fc1,doc,_fc2){var _fc3=_fc2.style,_fc4=["Khtml","O","ms","Moz","Webkit"],i=_fc4.length,name="userSelect";do{if(typeof _fc3[name]!=="undefined"){return name;}}while(i--&&(name=_fc4[i]+"UserSelect"));return false;});has.add("dom-selectstart",typeof document.onselectstart!=="undefined");var _fc5=has("mac")?"metaKey":"ctrlKey",_fc6=has("css-user-select"),_fc7=has("mspointer")?"MSPointerDown":"mousedown",_fc8=has("mspointer")?"MSPointerUp":"mouseup";function _fc9(node,_fca){var _fcb=node.unselectable=_fca?"on":"",_fcc=node.getElementsByTagName("*"),i=_fcc.length;while(--i){if(_fcc[i].tagName==="INPUT"||_fcc[i].tagName==="TEXTAREA"){continue;}_fcc[i].unselectable=_fcb;}};function _fcd(grid,_fce){var node=grid.bodyNode,_fcf=_fce?"text":has("ff")<21?"-moz-none":"none";if(_fc6){node.style[_fc6]=_fcf;}else{if(has("dom-selectstart")){if(!_fce&&!grid._selectstartHandle){grid._selectstartHandle=on(node,"selectstart",function(evt){var tag=evt.target&&evt.target.tagName;if(tag!=="INPUT"&&tag!=="TEXTAREA"){evt.preventDefault();}});}else{if(_fce&&grid._selectstartHandle){grid._selectstartHandle.remove();delete grid._selectstartHandle;}}}else{_fc9(node,!_fce);if(!_fce&&!grid._unselectableHandle){grid._unselectableHandle=_fbd.after(grid,"renderRow",function(row){_fc9(row,true);return row;});}else{if(_fce&&grid._unselectableHandle){grid._unselectableHandle.remove();delete grid._unselectableHandle;}}}}};return _fbb(null,{selectionDelegate:".dgrid-row",selectionEvents:_fc7+","+_fc8+",dgrid-cellfocusin",deselectOnRefresh:true,allowSelectAll:false,selection:{},selectionMode:"extended",allowTextSelection:undefined,create:function(){this.selection={};return this.inherited(arguments);},postCreate:function(){this.inherited(arguments);var _fd0=this.selectionMode;this.selectionMode="";this._setSelectionMode(_fd0);this._initSelectionEvents();},destroy:function(){this.inherited(arguments);if(this._selectstartHandle){this._selectstartHandle.remove();}if(this._unselectableHandle){this._unselectableHandle.remove();}if(this._deselectionHandle){this._deselectionHandle.remove();}},_setSelectionMode:function(mode){if(mode==this.selectionMode){return;}this.clearSelection();this.selectionMode=mode;this._selectionHandlerName="_"+mode+"SelectionHandler";this._setAllowTextSelection(this.allowTextSelection);},setSelectionMode:function(mode){_fba.deprecated("setSelectionMode(...)","use set(\"selectionMode\", ...) instead","dgrid 0.4");this.set("selectionMode",mode);},_setAllowTextSelection:function(_fd1){if(typeof _fd1!=="undefined"){_fcd(this,_fd1);}else{_fcd(this,this.selectionMode==="none");}this.allowTextSelection=_fd1;},_handleSelect:function(_fd2,_fd3){if(!this[this._selectionHandlerName]||(_fd2.type==="dgrid-cellfocusin"&&_fd2.parentType==="mousedown")||(_fd2.type===_fc8&&_fd3!=this._waitForMouseUp)){return;}this._waitForMouseUp=null;this._selectionTriggerEvent=_fd2;if(!_fd2.keyCode||!_fd2.ctrlKey||_fd2.keyCode==32){if(!_fd2.shiftKey&&_fd2.type===_fc7&&this.isSelected(_fd3)){this._waitForMouseUp=_fd3;}else{this[this._selectionHandlerName](_fd2,_fd3);}}this._selectionTriggerEvent=null;},_singleSelectionHandler:function(_fd4,_fd5){var _fd6=_fd4.keyCode?_fd4.ctrlKey:_fd4[_fc5];if(this._lastSelected===_fd5){this.select(_fd5,null,!_fd6||!this.isSelected(_fd5));}else{this.clearSelection();this.select(_fd5);this._lastSelected=_fd5;}},_multipleSelectionHandler:function(_fd7,_fd8){var _fd9=this._lastSelected,_fda=_fd7.keyCode?_fd7.ctrlKey:_fd7[_fc5],_fdb;if(!_fd7.shiftKey){_fdb=_fda?null:true;_fd9=null;}this.select(_fd8,_fd9,_fdb);if(!_fd9){this._lastSelected=_fd8;}},_extendedSelectionHandler:function(_fdc,_fdd){if(_fdc.button===2?!this.isSelected(_fdd):!(_fdc.keyCode?_fdc.ctrlKey:_fdc[_fc5])){this.clearSelection(null,true);}this._multipleSelectionHandler(_fdc,_fdd);},_toggleSelectionHandler:function(_fde,_fdf){this.select(_fdf,null,null);},_initSelectionEvents:function(){var grid=this,_fe0=this.selectionDelegate;if(has("touch")){on(this.contentNode,_fbe.selector(_fe0,_fbe.tap),function(evt){grid._handleSelect(evt,this);});}else{on(this.contentNode,on.selector(_fe0,this.selectionEvents),function(_fe1){grid._handleSelect(_fe1,this);});}if(this.addKeyHandler){this.addKeyHandler(32,function(_fe2){grid._handleSelect(_fe2,_fe2.target);});}if(this.allowSelectAll){this.on("keydown",function(_fe3){if(_fe3[_fc5]&&_fe3.keyCode==65){_fe3.preventDefault();grid[grid.allSelected?"clearSelection":"selectAll"]();}});}if(this._setStore){_fbd.after(this,"_setStore",function(){grid._updateDeselectionAspect();});}this._updateDeselectionAspect();},_updateDeselectionAspect:function(){var self=this,_fe4=this.store;if(this._deselectionSignal){this._deselectionSignal.remove();}if(_fe4&&_fe4.notify){this._deselectionSignal=_fbd.after(_fe4,"notify",function(_fe5,_fe6){var id=_fe6||(_fe5&&_fe5[this.idProperty||"id"]);if(id){var row=self.row(id),_fe7=row&&self.selection[row.id];if(_fe7){self[(_fe5?"":"de")+"select"](row,null,_fe7);}}},true);}else{this._deselectionSignal=_fbd.before(this,"removeRow",function(_fe8,_fe9){var row;if(!_fe9){row=this.row(_fe8);if(row&&(row.id in this.selection)){this.deselect(row);}}});}},allowSelect:function(row){return true;},_selectionEventQueue:function(_fea,type){var grid=this,_feb="dgrid-"+(_fea?"select":"deselect"),rows=this[_feb],_fec=this._selectionTriggerEvent;if(_fec){_fec=_fec.type;}if(rows){return rows;}setTimeout(this._fireSelectionEvent=function(){if(!rows){return;}var _fed={bubbles:true,grid:grid};if(_fec){_fed.parentType=_fec;}_fed[type]=rows;on.emit(grid.contentNode,_feb,_fed);rows=null;delete grid[_feb];},0);return (rows=this[_feb]=[]);},select:function(row,_fee,_fef){if(_fef===undefined){_fef=true;}if(!row.element){row=this.row(row);}if(_fef===false||this.allowSelect(row)){var _ff0=this.selection;var _ff1=_ff0[row.id];if(_fef===null){_fef=!_ff1;}var _ff2=row.element;if(!_fef&&!this.allSelected){delete this.selection[row.id];}else{_ff0[row.id]=_fef;}if(_ff2){if(_fef){put(_ff2,".dgrid-selected.ui-state-active");}else{put(_ff2,"!dgrid-selected!ui-state-active");}}if(_fef!=_ff1&&_ff2){this._selectionEventQueue(_fef,"rows").push(row);}if(_fee){if(!_fee.element){_fee=this.row(_fee);}var _ff3=_fee.element;var _ff4=row.element;var _ff5=(_ff3&&(_ff3.compareDocumentPosition?_ff3.compareDocumentPosition(_ff4)==2:_ff3.sourceIndex>_ff4.sourceIndex))?"down":"up";while(row.element!=_ff3&&(row=this[_ff5](row))){this.select(row,null,_fef);}}}},deselect:function(row,_ff6){this.select(row,_ff6,false);},clearSelection:function(_ff7,_ff8){this.allSelected=false;for(var id in this.selection){if(_ff7!==id){this.deselect(id);}}if(!_ff8){this._lastSelected=null;}},selectAll:function(){this.allSelected=true;this.selection={};for(var i in this._rowIdToObject){var row=this.row(this._rowIdToObject[i]);this.select(row.id);}},isSelected:function(_ff9){if(typeof _ff9==="undefined"||_ff9===null){return false;}if(!_ff9.element){_ff9=this.row(_ff9);}return (_ff9.id in this.selection)?!!this.selection[_ff9.id]:this.allSelected&&(!_ff9.data||this.allowSelect(_ff9));},refresh:function(){if(this.deselectOnRefresh){this.clearSelection();this._fireSelectionEvent&&this._fireSelectionEvent();}this._lastSelected=null;return this.inherited(arguments);},renderArray:function(){var grid=this,rows=this.inherited(arguments);_fbc.when(rows,function(rows){var _ffa=grid.selection,i,row,_ffb;for(i=0;i<rows.length;i++){row=grid.row(rows[i]);_ffb=row.id in _ffa?_ffa[row.id]:grid.allSelected;if(_ffb){grid.select(row,null,_ffb);}}});return rows;}});});},"dgrid/Keyboard":function(){define(["dojo/_base/declare","dojo/aspect","dojo/on","dojo/_base/lang","dojo/has","put-selector/put","dojo/_base/Deferred","dojo/_base/sniff"],function(_ffc,_ffd,on,lang,has,put,_ffe){var _fff={checkbox:1,radio:1,button:1},_1000=/\bdgrid-cell\b/,_1001=/\bdgrid-row\b/;has.add("dom-contains",function(_1002,doc,_1003){return !!_1003.contains;});function _1004(_1005,node){if(has("dom-contains")){return _1005.contains(node);}else{return _1005.compareDocumentPosition(node)&8;}};var _1006=_ffc(null,{pageSkip:10,tabIndex:0,keyMap:null,headerKeyMap:null,postMixInProperties:function(){this.inherited(arguments);if(!this.keyMap){this.keyMap=lang.mixin({},_1006.defaultKeyMap);}if(!this.headerKeyMap){this.headerKeyMap=lang.mixin({},_1006.defaultHeaderKeyMap);}},postCreate:function(){this.inherited(arguments);var grid=this;function _1007(event){var _1008=event.target;return _1008.type&&(!_fff[_1008.type]||event.keyCode==32);};function _1009(_100a){var _100b=grid.cellNavigation,_100c=_100b?_1000:_1001,_100d=_100a===grid.headerNode,_100e=_100a;function _100f(){grid._focusedHeaderNode=_100e=_100b?grid.headerNode.getElementsByTagName("th")[0]:grid.headerNode;if(_100e){_100e.tabIndex=grid.tabIndex;}};if(_100d){_100f();_ffd.after(grid,"renderHeader",_100f,true);}else{_ffd.after(grid,"renderArray",function(ret){return _ffe.when(ret,function(ret){var _1010=grid._focusedNode||_100e;if(_100c.test(_1010.className)&&_1004(_100a,_1010)){return ret;}for(var i=0,_1011=_100a.getElementsByTagName("*"),_1012;(_1012=_1011[i]);++i){if(_100c.test(_1012.className)){_1010=grid._focusedNode=_1012;break;}}_1010.tabIndex=grid.tabIndex;return ret;});});}grid._listeners.push(on(_100a,"mousedown",function(event){if(!_1007(event)){grid._focusOnNode(event.target,_100d,event);}}));grid._listeners.push(on(_100a,"keydown",function(event){if(event.metaKey||event.altKey){return;}var _1013=grid[_100d?"headerKeyMap":"keyMap"][event.keyCode];if(_1013&&!_1007(event)){_1013.call(grid,event);}}));};if(this.tabableHeader){_1009(this.headerNode);on(this.headerNode,"dgrid-cellfocusin",function(){grid.scrollTo({x:this.scrollLeft});});}_1009(this.contentNode);},removeRow:function(_1014){if(!this._focusedNode){return this.inherited(arguments);}var self=this,_1015=document.activeElement===this._focusedNode,_1016=this[this.cellNavigation?"cell":"row"](this._focusedNode),_1017=_1016.row||_1016,_1018;_1014=_1014.element||_1014;if(_1014===_1017.element){_1018=this.down(_1017,true);if(!_1018||_1018.element===_1014){_1018=this.up(_1017,true);}this._removedFocus={active:_1015,rowId:_1017.id,columnId:_1016.column&&_1016.column.id,siblingId:!_1018||_1018.element===_1014?undefined:_1018.id};setTimeout(function(){if(self._removedFocus){self._restoreFocus(_1017.id);}},0);this._focusedNode=null;}this.inherited(arguments);},insertRow:function(_1019){var _101a=this.inherited(arguments);if(this._removedFocus&&!this._removedFocus.wait){this._restoreFocus(_101a);}return _101a;},_restoreFocus:function(row){var _101b=this._removedFocus,_101c;row=row&&this.row(row);_101c=row&&row.element&&row.id===_101b.rowId?row:typeof _101b.siblingId!=="undefined"&&this.row(_101b.siblingId);if(_101c&&_101c.element){if(!_101c.element.parentNode.parentNode){_101b.wait=true;return;}_101c=typeof _101b.columnId!=="undefined"?this.cell(_101c,_101b.columnId):_101c;if(_101b.active){this.focus(_101c);}else{put(_101c.element,".dgrid-focus");_101c.element.tabIndex=this.tabIndex;}}delete this._removedFocus;},addKeyHandler:function(key,_101d,_101e){return _ffd.after(this[_101e?"headerKeyMap":"keyMap"],key,_101d,true);},_focusOnNode:function(_101f,_1020,event){var _1021="_focused"+(_1020?"Header":"")+"Node",_1022=this[_1021],_1023=this.cellNavigation?"cell":"row",cell=this[_1023](_101f),_1024,input,_1025,_1026,i;_101f=cell&&cell.element;if(!_101f){return;}if(this.cellNavigation){_1024=_101f.getElementsByTagName("input");for(i=0,_1025=_1024.length;i<_1025;i++){input=_1024[i];if((input.tabIndex!=-1||"lastValue" in input)&&!input.disabled){if(has("ie")<8){input.style.position="relative";}input.focus();if(has("ie")<8){input.style.position="";}_1026=true;break;}}}event=lang.mixin({grid:this},event);if(event.type){event.parentType=event.type;}if(!event.bubbles){event.bubbles=true;}if(_1022){put(_1022,"!dgrid-focus[!tabIndex]");if(has("ie")<8){_1022.style.position="";}event[_1023]=this[_1023](_1022);on.emit(_101f,"dgrid-cellfocusout",event);}_1022=this[_1021]=_101f;event[_1023]=cell;if(!_1026){if(has("ie")<8){_101f.style.position="relative";}_101f.tabIndex=this.tabIndex;_101f.focus();}put(_101f,".dgrid-focus");on.emit(_1022,"dgrid-cellfocusin",event);},focusHeader:function(_1027){this._focusOnNode(_1027||this._focusedHeaderNode,true);},focus:function(_1028){this._focusOnNode(_1028||this._focusedNode,false);}});var _1029=_1006.moveFocusVertical=function(event,steps){var _102a=this.cellNavigation,_102b=this[_102a?"cell":"row"](event),_102c=_102a&&_102b.column.id,next=this.down(this._focusedNode,steps,true);if(_102a){next=this.cell(next,_102c);}this._focusOnNode(next,false,event);event.preventDefault();};var _102d=_1006.moveFocusUp=function(event){_1029.call(this,event,-1);};var _102e=_1006.moveFocusDown=function(event){_1029.call(this,event,1);};var _102f=_1006.moveFocusPageUp=function(event){_1029.call(this,event,-this.pageSkip);};var _1030=_1006.moveFocusPageDown=function(event){_1029.call(this,event,this.pageSkip);};var _1031=_1006.moveFocusHorizontal=function(event,steps){if(!this.cellNavigation){return;}var _1032=!this.row(event),_1033=this["_focused"+(_1032?"Header":"")+"Node"];this._focusOnNode(this.right(_1033,steps),_1032,event);event.preventDefault();};var _1034=_1006.moveFocusLeft=function(event){_1031.call(this,event,-1);};var _1035=_1006.moveFocusRight=function(event){_1031.call(this,event,1);};var _1036=_1006.moveHeaderFocusEnd=function(event,_1037){var nodes;if(this.cellNavigation){nodes=this.headerNode.getElementsByTagName("th");this._focusOnNode(nodes[_1037?0:nodes.length-1],true,event);}event.preventDefault();};var _1038=_1006.moveHeaderFocusHome=function(event){_1036.call(this,event,true);};var _1039=_1006.moveFocusEnd=function(event,_103a){var self=this,_103b=this.cellNavigation,_103c=this.contentNode,_103d=_103a?0:_103c.scrollHeight,_103e=_103c.scrollTop+_103d,_103f=_103c[_103a?"firstChild":"lastChild"],_1040=_103f.className.indexOf("dgrid-preload")>-1,_1041=_1040?_103f[(_103a?"next":"previous")+"Sibling"]:_103f,_1042=_1041.offsetTop+(_103a?0:_1041.offsetHeight),_1043;if(_1040){while(_1041&&_1041.className.indexOf("dgrid-row")<0){_1041=_1041[(_103a?"next":"previous")+"Sibling"];}if(!_1041){return;}}if(!_1040||_103f.offsetHeight<1){if(_103b){_1041=this.cell(_1041,this.cell(event).column.id);}this._focusOnNode(_1041,false,event);}else{if(!has("dom-addeventlistener")){event=lang.mixin({},event);}_1043=_ffd.after(this,"renderArray",function(rows){_1043.remove();return _ffe.when(rows,function(rows){var _1044=rows[_103a?0:rows.length-1];if(_103b){_1044=self.cell(_1044,self.cell(event).column.id);}self._focusOnNode(_1044,false,event);});});}if(_103e===_1042){event.preventDefault();}};var _1045=_1006.moveFocusHome=function(event){_1039.call(this,event,true);};function _1046(event){event.preventDefault();};_1006.defaultKeyMap={32:_1046,33:_102f,34:_1030,35:_1039,36:_1045,37:_1034,38:_102d,39:_1035,40:_102e};_1006.defaultHeaderKeyMap={32:_1046,35:_1036,36:_1038,37:_1034,39:_1035};return _1006;});},"dgrid/extensions/DijitRegistry":function(){define(["dojo/_base/declare","dojo/dom-geometry","dijit/registry"],function(_1047,_1048,_1049){return _1047(null,{minSize:0,maxSize:Infinity,layoutPriority:0,showTitle:true,buildRendering:function(){_1049.add(this);this.inherited(arguments);this.domNode.setAttribute("widgetId",this.id);},startup:function(){if(this._started){return;}this.inherited(arguments);var _104a=_1049.getEnclosingWidget(this.domNode.parentNode);if(_104a&&_104a.isLayoutContainer){this._resizeHandle.remove();}},destroyRecursive:function(){this.destroy();},destroy:function(){this.inherited(arguments);_1049.remove(this.id);},getChildren:function(){return [];},isLeftToRight:function(){return !this.isRTL;},resize:function(_104b){if(_104b){_1048.setMarginBox(this.domNode,_104b);}this.inherited(arguments);},_set:function(prop,value){this[prop]=value;},watch:function(){},getParent:function(){return _1049.getEnclosingWidget(this.domNode.parentNode);}});});},"dijit/layout/BorderContainer":function(){define("dijit/layout/BorderContainer",["dojo/_base/array","dojo/cookie","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/_base/event","dojo/keys","dojo/_base/lang","dojo/on","dojo/touch","../_WidgetBase","../_Widget","../_TemplatedMixin","./_LayoutWidget","./utils"],function(array,_104c,_104d,_104e,_104f,_1050,_1051,event,keys,lang,on,touch,_1052,_1053,_1054,_1055,_1056){var _1057=_104d("dijit.layout._Splitter",[_1053,_1054],{live:true,templateString:"<div class=\"dijitSplitter\" data-dojo-attach-event=\"onkeypress:_onKeyPress,press:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse\" tabIndex=\"0\" role=\"separator\"><div class=\"dijitSplitterThumb\"></div></div>",constructor:function(){this._handlers=[];},postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);this._factor=/top|left/.test(this.region)?1:-1;this._cookieName=this.container.id+"_"+this.region;},buildRendering:function(){this.inherited(arguments);_104e.add(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V"));if(this.container.persist){var _1058=_104c(this._cookieName);if(_1058){this.child.domNode.style[this.horizontal?"height":"width"]=_1058;}}},_computeMaxSize:function(){var dim=this.horizontal?"h":"w",_1059=_1050.getMarginBox(this.child.domNode)[dim],_105a=array.filter(this.container.getChildren(),function(child){return child.region=="center";})[0],_105b=_1050.getMarginBox(_105a.domNode)[dim];return Math.min(this.child.maxSize,_1059+_105b);},_startDrag:function(e){if(!this.cover){this.cover=_104f.place("<div class=dijitSplitterCover></div>",this.child.domNode,"after");}_104e.add(this.cover,"dijitSplitterCoverActive");if(this.fake){_104f.destroy(this.fake);}if(!(this._resize=this.live)){(this.fake=this.domNode.cloneNode(true)).removeAttribute("id");_104e.add(this.domNode,"dijitSplitterShadow");_104f.place(this.fake,this.domNode,"after");}_104e.add(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active");if(this.fake){_104e.remove(this.fake,"dijitSplitterHover dijitSplitter"+(this.horizontal?"H":"V")+"Hover");}var _105c=this._factor,_105d=this.horizontal,axis=_105d?"pageY":"pageX",_105e=e[axis],_105f=this.domNode.style,dim=_105d?"h":"w",_1060=_1050.getMarginBox(this.child.domNode)[dim],max=this._computeMaxSize(),min=this.child.minSize||20,_1061=this.region,_1062=_1061=="top"||_1061=="bottom"?"top":"left",_1063=parseInt(_105f[_1062],10),_1064=this._resize,_1065=lang.hitch(this.container,"_layoutChildren",this.child.id),de=this.ownerDocument;this._handlers=this._handlers.concat([on(de,touch.move,this._drag=function(e,_1066){var delta=e[axis]-_105e,_1067=_105c*delta+_1060,_1068=Math.max(Math.min(_1067,max),min);if(_1064||_1066){_1065(_1068);}_105f[_1062]=delta+_1063+_105c*(_1068-_1067)+"px";}),on(de,"dragstart",event.stop),on(this.ownerDocumentBody,"selectstart",event.stop),on(de,touch.release,lang.hitch(this,"_stopDrag"))]);event.stop(e);},_onMouse:function(e){var o=(e.type=="mouseover"||e.type=="mouseenter");_104e.toggle(this.domNode,"dijitSplitterHover",o);_104e.toggle(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")+"Hover",o);},_stopDrag:function(e){try{if(this.cover){_104e.remove(this.cover,"dijitSplitterCoverActive");}if(this.fake){_104f.destroy(this.fake);}_104e.remove(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active dijitSplitterShadow");this._drag(e);this._drag(e,true);}finally{this._cleanupHandlers();delete this._drag;}if(this.container.persist){_104c(this._cookieName,this.child.domNode.style[this.horizontal?"height":"width"],{expires:365});}},_cleanupHandlers:function(){var h;while(h=this._handlers.pop()){h.remove();}},_onKeyPress:function(e){this._resize=true;var _1069=this.horizontal;var tick=1;switch(e.charOrCode){case _1069?keys.UP_ARROW:keys.LEFT_ARROW:tick*=-1;case _1069?keys.DOWN_ARROW:keys.RIGHT_ARROW:break;default:return;}var _106a=_1050.getMarginSize(this.child.domNode)[_1069?"h":"w"]+this._factor*tick;this.container._layoutChildren(this.child.id,Math.max(Math.min(_106a,this._computeMaxSize()),this.child.minSize));event.stop(e);},destroy:function(){this._cleanupHandlers();delete this.child;delete this.container;delete this.cover;delete this.fake;this.inherited(arguments);}});var _106b=_104d("dijit.layout._Gutter",[_1053,_1054],{templateString:"<div class=\"dijitGutter\" role=\"presentation\"></div>",postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);},buildRendering:function(){this.inherited(arguments);_104e.add(this.domNode,"dijitGutter"+(this.horizontal?"H":"V"));}});var _106c=_104d("dijit.layout.BorderContainer",_1055,{design:"headline",gutters:true,liveSplitters:true,persist:false,baseClass:"dijitBorderContainer",_splitterClass:_1057,postMixInProperties:function(){if(!this.gutters){this.baseClass+="NoGutter";}this.inherited(arguments);},startup:function(){if(this._started){return;}array.forEach(this.getChildren(),this._setupChild,this);this.inherited(arguments);},_setupChild:function(child){var _106d=child.region;if(_106d){this.inherited(arguments);_104e.add(child.domNode,this.baseClass+"Pane");var ltr=this.isLeftToRight();if(_106d=="leading"){_106d=ltr?"left":"right";}if(_106d=="trailing"){_106d=ltr?"right":"left";}if(_106d!="center"&&(child.splitter||this.gutters)&&!child._splitterWidget){var _106e=child.splitter?this._splitterClass:_106b;if(lang.isString(_106e)){_106e=lang.getObject(_106e);}var _106f=new _106e({id:child.id+"_splitter",container:this,child:child,region:_106d,live:this.liveSplitters});_106f.isSplitter=true;child._splitterWidget=_106f;_104f.place(_106f.domNode,child.domNode,"after");_106f.startup();}child.region=_106d;}},layout:function(){this._layoutChildren();},addChild:function(child,_1070){this.inherited(arguments);if(this._started){this.layout();}},removeChild:function(child){var _1071=child.region;var _1072=child._splitterWidget;if(_1072){_1072.destroy();delete child._splitterWidget;}this.inherited(arguments);if(this._started){this._layoutChildren();}_104e.remove(child.domNode,this.baseClass+"Pane");_1051.set(child.domNode,{top:"auto",bottom:"auto",left:"auto",right:"auto",position:"static"});_1051.set(child.domNode,_1071=="top"||_1071=="bottom"?"width":"height","auto");},getChildren:function(){return array.filter(this.inherited(arguments),function(_1073){return !_1073.isSplitter;});},getSplitter:function(_1074){return array.filter(this.getChildren(),function(child){return child.region==_1074;})[0]._splitterWidget;},resize:function(_1075,_1076){if(!this.cs||!this.pe){var node=this.domNode;this.cs=_1051.getComputedStyle(node);this.pe=_1050.getPadExtents(node,this.cs);this.pe.r=_1051.toPixelValue(node,this.cs.paddingRight);this.pe.b=_1051.toPixelValue(node,this.cs.paddingBottom);_1051.set(node,"padding","0px");}this.inherited(arguments);},_layoutChildren:function(_1077,_1078){if(!this._borderBox||!this._borderBox.h){return;}var _1079=array.map(this.getChildren(),function(child,idx){return {pane:child,weight:[child.region=="center"?Infinity:0,child.layoutPriority,(this.design=="sidebar"?1:-1)*(/top|bottom/.test(child.region)?1:-1),idx]};},this);_1079.sort(function(a,b){var aw=a.weight,bw=b.weight;for(var i=0;i<aw.length;i++){if(aw[i]!=bw[i]){return aw[i]-bw[i];}}return 0;});var _107a=[];array.forEach(_1079,function(_107b){var pane=_107b.pane;_107a.push(pane);if(pane._splitterWidget){_107a.push(pane._splitterWidget);}});var dim={l:this.pe.l,t:this.pe.t,w:this._borderBox.w-this.pe.w,h:this._borderBox.h-this.pe.h};_1056.layoutChildren(this.domNode,dim,_107a,_1077,_1078);},destroyRecursive:function(){array.forEach(this.getChildren(),function(child){var _107c=child._splitterWidget;if(_107c){_107c.destroy();}delete child._splitterWidget;});this.inherited(arguments);}});_106c.ChildWidgetProperties={region:"",layoutPriority:0,splitter:false,minSize:0,maxSize:Infinity};lang.extend(_1052,_106c.ChildWidgetProperties);_106c._Splitter=_1057;_106c._Gutter=_106b;return _106c;});},"epi/shell/widget/layout/_ComponentWrapper":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/string","dojo/_base/lang","dojo/dom-style","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/Evented","dijit/_base/wai","dijit/_CssStateMixin","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/_Widget","dijit/layout/BorderContainer","epi/shell/command/_CommandProviderMixin","epi/shell/widget/command/GadgetAction","epi/shell/widget/command/RemoveGadget","epi/shell/widget/ComponentChrome","epi/shell/widget/dialog/Confirmation","epi/shell/widget/layout/_ComponentResizeMixin","epi/shell/widget/layout/_ComponentSplitter","dojo/text!./templates/_ComponentWrapperHeader.htm","epi/i18n!epi/shell/ui/nls/episerver.shell.ui.resources.gadgetchrome","dijit/form/Button","dijit/form/ToggleButton"],function(_107d,array,_107e,lang,_107f,_1080,_1081,_1082,_1083,wai,_1084,_1085,_1086,_1087,_1088,_1089,_108a,_108b,_108c,_108d,_108e,_108f,_1090,res){var _1091=_107d([_1087,_1085,_1086,_1084,_1083],{templateString:_1090,title:"",res:res,open:true,toggleable:true,closable:false,"class":"epi-gadgetHeader",toggle:function(){},onClose:function(){},postCreate:function(){this.inherited(arguments);if(this.toggleable){this._trackMouseState(this.titleBarNode,"epi-gadgetTitle");}},startup:function(){this.inherited(arguments);this.toggleButton.set("checked",!this.open);},_setClosableAttr:function(_1092){_107f.set(this.closeButton.domNode,"display",_1092?"":"none");_1081.toggle(this.titleBarNode,"epi-gadget-unlocked",_1092);},_setTitleAttr:function(title){this._set("title",title||"");this.toggleButton.set("label",this.title);},_setToggleableAttr:function(_1093){this.toggleable=_1093;wai.setWaiRole(this.focusNode,_1093?"button":"heading");if(_1093){wai.setWaiState(this.focusNode,"controls",this.id+"_pane");_1080.set(this.focusNode,"tabIndex",this.tabIndex);}else{_1080.remove(this.focusNode,"tabIndex");}this.toggleButton.set("disabled",!this.toggleable);this.toggleButton.set("iconClass",this.toggleable?"epi-gadget-toggle":"");}});return _107d([_1088,_108e,_1084,_1089,_1083],{dndType:"epi.shell.layout._ComponentWrapper",heading:"",toggleable:true,tabIndex:"0",baseClass:"epi-gadget","class":"epi-gadgetContainer",closable:false,dragRestriction:false,confirmationBeforeRemoval:true,res:res,gutters:false,postCreate:function(){this.inherited(arguments);this._header=new _1091({region:"top",splitter:false,title:this.heading||"",closable:this.closable,toggle:lang.hitch(this,this.toggle),onClose:lang.hitch(this,this.onClose)});this.addChild(this._header);},_setIsRemovableAttr:function(_1094){_1094=_1094!==false;this._set("isRemovable",_1094);this.set("closable",!!(_1094&&this.closable));},_setClosableAttr:function(_1095){this._set("closable",_1095);this._header&&this._header.set("closable",_1095);},_showRemovalConfirmationDialog:function(_1096){var _1097=this.heading?_107e.substitute(this.res.removecomponentquestion,{name:this.heading}):this.res.removecomponentquestionwithoutname;var _1098=new _108d({description:_1097,title:epi.resources.header.episerver,onAction:_1096});_1098.show();},onClose:function(evt){if(!this.confirmationBeforeRemoval){_107f.set(this.domNode,"display","none");this.onClosed();}else{this._showRemovalConfirmationDialog(lang.hitch(this,function(close){if(close){_107f.set(this.domNode,"display","none");this.onClosed();}}));return true;}},startup:function(){this._header.set("open",this.open);this.set("open",this.open);this.inherited(arguments);},resize:function(_1099){_1099=lang.mixin({},_1099);if(!_1099.h){if(!this.open){var _109a=_1082.getMarginExtents(this.domNode).h;_1099.h=_109a+this._getClosedHeight();}else{if(this.lastOpenHeight){_1099.h=this.lastOpenHeight;}}}this.inherited(arguments,[_1099]);},getSize:function(){var size=_1082.getMarginBox(this.domNode);if(!this.open){size.h=this._getClosedHeight();}return size;},_getClosedHeight:function(){var _109b=this._header?_1082.getMarginBox(this._header.domNode).h:0,_109c=this._splitter?_1082.getMarginBox(this._splitter.domNode).h:0;return _109b+_109c;},onClosed:function(){},_setHeadingAttr:function(text){this._set("heading",text);this._header&&this._header.set("title",text);},_setToggleableAttr:function(_109d){this._header&&this._header.set("toggleable",_109d);},toggle:function(){if(this._started){if(!open){this.lastOpenHeight=_1082.getMarginBox(this.domNode).h;}}this._started&&this.set("open",!this.get("open"));},_setOpenAttr:function(open){this.inherited(arguments);if(this._started){this.emit("toggle",this.open);}},addChild:function(child){if(child.isInstanceOf(_108f)||child.isInstanceOf(_1091)){return this.inherited(arguments);}this._addGadgetCommands(child);this.add("commands",new _108b({model:this}));var _109e=new _108c({region:"center",splitter:false});_109e.addProvider(this);_109e.addChild(child);this._child=_109e;this.inherited("addChild",[_109e]);if(this._started&&!child.started&&!child._started){child.startup();}},_addGadgetCommands:function(_109f){if(_109f&&lang.isArray(_109f.gadgetActions)){array.forEach(_109f.gadgetActions,function(_10a0){this.add("commands",new _108a({actionName:_10a0.actionName,label:_10a0.text,model:_109f}));},this);}}});});},"dijit/_base/wai":function(){define("dijit/_base/wai",["dojo/dom-attr","dojo/_base/lang","../main","../hccss"],function(_10a1,lang,dijit){var _10a2={hasWaiRole:function(elem,role){var _10a3=this.getWaiRole(elem);return role?(_10a3.indexOf(role)>-1):(_10a3.length>0);},getWaiRole:function(elem){return lang.trim((_10a1.get(elem,"role")||"").replace("wairole:",""));},setWaiRole:function(elem,role){_10a1.set(elem,"role",role);},removeWaiRole:function(elem,role){var _10a4=_10a1.get(elem,"role");if(!_10a4){return;}if(role){var t=lang.trim((" "+_10a4+" ").replace(" "+role+" "," "));_10a1.set(elem,"role",t);}else{elem.removeAttribute("role");}},hasWaiState:function(elem,state){return elem.hasAttribute?elem.hasAttribute("aria-"+state):!!elem.getAttribute("aria-"+state);},getWaiState:function(elem,state){return elem.getAttribute("aria-"+state)||"";},setWaiState:function(elem,state,value){elem.setAttribute("aria-"+state,value);},removeWaiState:function(elem,state){elem.removeAttribute("aria-"+state);}};lang.mixin(dijit,_10a2);return dijit;});},"epi/shell/command/_CommandProviderMixin":function(){define(["dojo/_base/array","dojo/_base/declare","epi/shell/StatefulArray"],function(array,_10a5,_10a6){return _10a5([_10a6],{commands:null,constructor:function(){this.commands=this.commands||[];},updateCommandModel:function(model){array.forEach(this.commands,function(_10a7){_10a7.set("model",model);});}});});},"epi/shell/widget/command/GadgetAction":function(){define(["dojo/_base/declare","epi/shell/command/_Command"],function(_10a8,_10a9){return _10a8([_10a9],{actionName:null,category:"setting",canExecute:true,_execute:function(){this.model.loadView({action:this.actionName});}});});},"epi/shell/command/_Command":function(){define(["dojo/_base/declare","dojo/Stateful"],function(_10aa,_10ab){return _10aa([_10ab],{label:null,tooltip:null,iconClass:null,category:null,order:null,model:null,canExecute:false,isAvailable:true,_modelChangeWatcher:[],postscript:function(){this.inherited(arguments);this.watchModelChange();if(this.model){this._onModelChange();}},destroy:function(){this.unwatchModelChange();},execute:function(){if(this.isAvailable&&this.canExecute){return this._execute();}},watchModelChange:function(){this._modelChangeWatcher=this.watch("model",this._onModelChange);},unwatchModelChange:function(){this._modelChangeWatcher&&this._modelChangeWatcher.unwatch();},_execute:function(){},_onModelChange:function(){}});});},"epi/shell/widget/command/RemoveGadget":function(){define(["dojo/_base/declare","dojo/_base/lang","epi/i18n!epi/shell/ui/nls/episerver.shell.ui.resources.gadgetchrome","epi/shell/command/_Command"],function(_10ac,lang,_10ad,_10ae){return _10ac([_10ae],{label:_10ad.deletemenuitemlabel,category:"setting",order:1000,canExecute:true,_onModelChange:function(){this.model.watch("closable",lang.hitch(this,function(_10af,_10b0,_10b1){this.set("canExecute",_10b1);}));this.set("canExecute",this.model.closable);},_execute:function(){this.model.onClose();}});});},"epi/shell/widget/ComponentChrome":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-attr","dijit/layout/BorderContainer","epi/shell/widget/command/CommandToolbar","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.GadgetChrome","epi/shell/command/_CommandConsumerMixin","epi/shell/command/builder/ButtonBuilder","epi/shell/command/builder/DropDownButtonBuilder","epi/shell/command/builder/MenuAssembler"],function(_10b2,lang,_10b3,_10b4,_10b5,_10b6,_10b7,_10b8,_10b9,_10ba){return _10b2([_10b4,_10b7],{gutters:false,iconClass:"dijitNoIcon",postCreate:function(){this.inherited(arguments);this.toolbar=new _10b5({"class":"epi-componentToolbar",region:"bottom",groups:["default","context","setting"]});this.inherited("addChild",[this.toolbar]);var _10bb={showLabel:false};var _10bc=lang.mixin({"class":"epi-componentToolbarButton epi-mediumButton"},_10bb);var _10bd=new _10b8({settings:_10bc});var _10be=new _10b9({itemSettings:_10bb,settings:lang.delegate(_10bc,{iconClass:"epi-iconContextMenu",title:_10b6.contextmenutooltip})});var _10bf=new _10b9({itemSettings:_10bb,settings:lang.delegate(_10bc,{"class":"epi-componentSettingsButton epi-componentToolbarButton epi-mediumButton",iconClass:"epi-iconSettingsMenu",title:_10b6.settingsmenutooltip})});var _10c0=[{builder:_10bd,target:this.toolbar},{category:"setting",builder:_10bf,target:this.toolbar},{category:"context",builder:_10be,target:this.toolbar},{category:"popup",builder:_10be,target:this.toolbar}];var _10c1=new _10ba({configuration:_10c0,commandSource:this});_10c1.build();},addChild:function(child){if(child){this.set("heading",child.get("heading"));}child.region="center";this.inherited(arguments);}});});},"epi/shell/widget/command/CommandToolbar":function(){define(["dojo/_base/declare","dijit/Toolbar"],function(_10c2,_10c3){return _10c2("epi.shell.widget.command.CommandToolbar",[_10c3],{_positions:null,groups:null,constructor:function(){this._positions=[];this.groups=[];},postMixInProperties:function(){this.inherited(arguments);for(var i=0;i<this.groups.length;i++){var _10c4={category:this.groups[i],position:0};this._positions.push(_10c4);}},addChild:function(_10c5,_10c6){if(!_10c6){var _10c7=_10c5._commandCategory||"default";_10c6=this._getCurrentPosition(_10c7);this.inherited("addChild",[_10c5,_10c6]);this._updatePositions(_10c7);}else{this.inherited(arguments);}},_getCurrentPosition:function(_10c8){for(var i=0;i<this._positions.length;i++){if(this._positions[i].category==_10c8){return this._positions[i].position;}}return 0;},_updatePositions:function(_10c9){var _10ca=0;for(var i=0;i<this._positions.length;i++){if(this._positions[i].category==_10c9){_10ca=1;}this._positions[i].position=this._positions[i].position+_10ca;}}});});},"epi/shell/command/_CommandConsumerMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang"],function(array,_10cb,lang){return _10cb(null,{providers:null,constructor:function(){this.providers=this.providers||[];},destroy:function(){this.inherited(arguments);array.forEach(this.providers,function(item){item.watch.unwatch();});},getConsumer:function(){return this;},addProvider:function(_10cc){var watch=_10cc.watch("commands",lang.hitch(this,this._commandsChanged));this.providers.push({provider:_10cc,watch:watch});this.onCommandsChanged("commands",null,_10cc.commands);return {removeProvider:lang.hitch(this,this.removeProvider,_10cc)};},removeProvider:function(_10cd){var _10ce=this.providers;for(var i=_10ce.length-1;i>=0;i--){if(_10ce[i].provider==_10cd){break;}}if(i>=0){var item=_10ce.splice(i,1)[0];item.watch.unwatch();item=null;this.onCommandsChanged("commands",_10cd.commands,null);}},getCommands:function(){var _10cf=[];array.forEach(this.providers,function(item){_10cf=_10cf.concat(item.provider.commands);});return _10cf;},onCommandsChanged:function(name,_10d0,added){},_commandsChanged:function(){this.onCommandsChanged.apply(this,arguments);}});});},"epi/shell/command/builder/ButtonBuilder":function(){define(["dojo/_base/declare","dojo/_base/lang","dijit/form/Button","epi/shell/command/builder/_Builder","../_CommandModelBindingMixin"],function(_10d1,lang,_10d2,_10d3,_10d4){return _10d1([_10d3],{_buttonClass:_10d1([_10d2,_10d4]),_create:function(_10d5){var _10d6=lang.mixin({model:_10d5},this.settings);return new this._buttonClass(_10d6);}});});},"epi/shell/command/builder/_Builder":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang"],function(array,_10d7,lang){return _10d7(null,{settings:null,postscript:function(mixin){if(mixin){lang.mixin(this,mixin);}},create:function(_10d8,_10d9){var _10da=this._create(_10d8);_10da._command=_10d8;_10da._commandCategory=_10d8.category;this._addToContainer(_10da,_10d9);},remove:function(_10db,_10dc){var _10dd=_10dc.getChildren(),len=_10dd.length,i=0;for(;i<len;i++){var child=_10dd[i];if(child._command===_10db){_10dc.removeChild(child);child.destroy();return true;}}return false;},_create:function(){},_addToContainer:function(_10de,_10df){var _10e0=null;if(_10df.getChildren&&_10de._command&&_10de._command.order){var order=_10de._command.order;array.some(_10df.getChildren(),function(child,index){var _10e1=child._command&&child._command.order;if(!_10e1||_10e1>order){_10e0=index;return true;}});}if(_10e0!==null){_10df.addChild?_10df.addChild(_10de,_10e0):_10de.placeAt(_10df);}else{_10df.addChild?_10df.addChild(_10de):_10de.placeAt(_10df);}}});});},"epi/shell/command/_CommandModelBindingMixin":function(){define(["dojo/_base/declare","dojo/dom-style","../widget/_ModelBindingMixin"],function(_10e2,_10e3,_10e4){return _10e2(_10e4,{modelBindingMap:{"label":["label"],"tooltip":["tooltip"],"iconClass":["iconClass"],"canExecute":["canExecute"],"isAvailable":["isAvailable"],"active":["checked","isExpand"]},_setCanExecuteAttr:function(_10e5){this.set("disabled",!_10e5);},_setIsAvailableAttr:function(_10e6){if(this.domNode){_10e3.set(this.domNode,"display",_10e6?"":"none");}},onClick:function(){this.inherited(arguments);this.model&&this.model.execute.apply(this.model,arguments);}});});},"epi/shell/widget/_ModelBindingMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","epi/shell/DestroyableByKey"],function(array,_10e7,lang,_10e8){return _10e7([_10e8],{model:null,modelBindingMap:null,constructor:function(_10e9){},postMixInProperties:function(){this.inherited(arguments);if(!this.modelBindingMap){this.modelBindingMap={};}},_setModelAttr:function(value){this.destroyByKey(this.model);this._set("model",value);this._setupModelBindings();},_setupModelBindings:function(){if(!this.model){return;}var _10ea=lang.hitch(this,"_modelWatch");for(var _10eb in this.modelBindingMap){var _10ec=this.modelBindingMap[_10eb];this.ownByKey(this.model,this.model.watch(_10eb,_10ea));array.forEach(_10ec,function(_10ed){this.set(_10ed,this.model.get(_10eb));},this);}},_modelWatch:function(_10ee,_10ef,value){var _10f0=this.modelBindingMap[_10ee];array.forEach(_10f0,function(_10f1){this.set(_10f1,value);},this);}});});},"epi/shell/command/builder/DropDownButtonBuilder":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dijit/Menu","dijit/form/DropDownButton","epi/shell/command/builder/MenuBuilder"],function(array,_10f2,lang,Menu,_10f3,_10f4){return _10f2([_10f4],{_addToContainer:function(_10f5,_10f6){if(!this._added){this._button=new _10f3(lang.mixin({dropDown:new Menu()},this.settings));this._button._commandCategory=_10f5._commandCategory;if(_10f6.addChild){_10f6.addChild(this._button);}else{this._button.placeAt(_10f6);this._button.startup();}this._added=true;}return this.inherited(arguments,[_10f5,this._button.dropDown]);},remove:function(_10f7,_10f8){var _10f9=this._button,_10fa=_10f9.dropDown?_10f9.dropDown.getChildren():[];array.forEach(_10fa,function(child){if(child._command===_10f7){_10f9.removeChild(child);child.destroy();return true;}});return false;}});});},"epi/shell/command/builder/MenuBuilder":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/on","dijit/Menu","dijit/MenuItem","dijit/CheckedMenuItem","dijit/PopupMenuItem","epi/shell/command/builder/_Builder","epi/shell/command/_CommandModelBindingMixin"],function(array,_10fb,lang,on,Menu,_10fc,_10fd,_10fe,_10ff,_1100){return _10fb([_10ff],{_menuItemClass:_10fb([_10fc,_1100]),_checkedMenuItemClass:_10fb([_10fd,_1100]),_popupMenuItemClass:_10fb([_10fe,_1100]),_create:function(_1101){var _1102=typeof _1101.active=="boolean",_1103=lang.isArray(_1101.options),_1104="popup" in _1101,cls=_1102?this._checkedMenuItemClass:(_1103||_1104)?this._popupMenuItemClass:this._menuItemClass,_1105=lang.mixin({model:_1101},this.itemSettings);var _1106=new cls(_1105);if(_1104){if(_1101.popupClass){_1101.set("popup",new _1101.popupClass({category:_1101.popupCategory}));}_1106.popup=_1101.popup;}if(_1103){this._createOptionMenu(_1101,_1106);}return _1106;},_createOptionMenu:function(_1107,_1108){_1108.popup=new Menu();array.forEach(_1107.options,function(_1109){var child=new _10fd({label:_1109.label,checked:_1107.selected===_1109.value});child.own(on(child,"click",function(e){_1107.set("selected",_1109.value);}));child.own(_1107.watch("selected",function(name,_110a,_110b){if(_110b!==_1109.value){child.set("checked",false);}}));_1108.popup.addChild(child);});}});});},"epi/shell/command/builder/MenuAssembler":function(){define(["dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/Stateful","epi/shell/_StatefulGetterSetterMixin"],function(array,_110c,_110d,lang,_110e,_110f){return _110d([_110e,_110f],{commandSource:null,configuration:null,_commandSourceConnect:null,destroy:function(){_110c.disconnect(this._commandSourceConnect);},build:function(){this.set("commandSource",this.commandSource);},_setCommandSourceAttr:function(value){if(this._commandSourceConnect&&this.commandSource){_110c.disconnect(this._commandSourceConnect);this._removeCommands(this.commandSource.getCommands());}this.commandSource=value;if(this.commandSource){this._addCommands(this.commandSource.getCommands());this._commandSourceConnect=_110c.connect(this.commandSource,"onCommandsChanged",this,this._commandsChanged);}},_commandsChanged:function(name,_1110,added){if(_1110){this._removeCommands(_1110);}if(added){this._addCommands(added);}},_getBuildInfo:function(_1111){var _1112,_1113=_1111.category;array.some(this.configuration,function(item){if(item.category==_1113){_1112=item;return true;}return false;});return _1112;},_addCommands:function(_1114){array.forEach(_1114,this._addCommand,this);},_addCommand:function(_1115){var _1116=this._getBuildInfo(_1115);if(_1116){_1116.builder.create(_1115,_1116.target);}},_removeCommands:function(_1117){array.forEach(_1117,function(_1118){var _1119=this._getBuildInfo(_1118);if(_1119){_1119.builder.remove(_1118,_1119.target);}},this);}});});},"epi/shell/_StatefulGetterSetterMixin":function(){define(["dojo/_base/declare","dojo/_base/lang"],function(_111a,lang){return _111a(null,{get:function(name){var names=this._getAttrNames(name);return this[names.g]?this[names.g]():this[name];},set:function(name,value){if(typeof name==="object"){for(var x in name){this.set(x,name[x]);}return this;}var names=this._getAttrNames(name);var _111b=this[names.s];if(lang.isFunction(_111b)){_111b.apply(this,Array.prototype.slice.call(arguments,1));}else{this._set(name,value);}return this;},_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}var uc=name.replace(/^[a-z]|-[a-zA-Z]/g,function(c){return c.charAt(c.length-1).toUpperCase();});return (apn[name]={s:"_set"+uc+"Attr",g:"_get"+uc+"Attr",l:uc.toLowerCase()});},_set:function(name,value){var _111c=this[name];this[name]=value;if(this._watchCallbacks){this._watchCallbacks(name,_111c,value);}return this;}});});},"epi/shell/widget/layout/_ComponentResizeMixin":function(){define(["dojo/_base/declare","dojo/dom-style","epi/shell/widget/layout/_ComponentSplitter"],function(_111d,_111e,_111f){return _111d(null,{showSplitter:true,open:true,resizable:true,startup:function(){this.inherited(arguments);if(!this._splitter){var _1120={child:this,container:this.getParent(),id:this.id+"_splitter",region:"bottom"};if(this._splitterNode){this._splitter=new _111f(_1120,this._splitterNode);}else{this._splitter=new _111f(_1120);this.addChild(this._splitter);}}this._toggleSplitter(this.showSplitter);this._splitter.startup();this._splitter.set("disabled",!this.resizable);},destroy:function(){if(this._splitter){this._splitter.destroyRecursive();}this.inherited(arguments);},_setOpenAttr:function(value){this._set("open",value);_111e.set(this.domNode,"minHeight",this.get("minHeight")+"px");this.set("resizable",value);},_setResizableAttr:function(value){this._set("resizable",value);if(this._splitter){this._splitter.set("disabled",!value);}},_getMinHeightAttr:function(){if(this.open){return this.minHeight;}return this.getSize().h;},_setShowSplitterAttr:function(_1121){this._set("showSplitter",_1121);this._toggleSplitter(_1121);},_toggleSplitter:function(show){if(this._splitter){_111e.set(this._splitter.domNode,"display",show?"":"none");}},getSize:function(){},_setLastOpenHeightAttr:function(value){this._set("lastOpenHeight",value);if(value&&this.open){_111e.set(this.domNode,"height",value+"px");}},_getSettingsAttr:function(){return {open:this.open,lastOpenHeight:this.open?this.getSize().h:this.lastOpenHeight};}});});},"epi/shell/widget/layout/_ComponentSplitter":function(){define(["dojo/_base/declare","dojo/_base/event","dojo/_base/lang","dojo/_base/window","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/on","dojo/touch","dijit/_WidgetBase","dijit/_TemplatedMixin","dijit/_CssStateMixin"],function(_1122,event,lang,win,_1123,_1124,keys,on,touch,_1125,_1126,_1127){return _1122([_1125,_1126,_1127],{baseClass:"epi-gadgetGutter",templateString:"<div data-dojo-attach-event=\"onkeypress:_onKeyPress,press:_startDrag\" role=\"separator\" tabindex=\"0\"></div>",disabled:false,constructor:function(){this._handlers=[];},_startDrag:function(e){if(this.disabled){return;}var _1128=this.domNode.style,_1129=e.pageY,node=this.child.domNode,_112a=_1124.getComputedStyle(node),_112b=_1123.getMarginExtents(node,_112a).h,_112c=_1123.getMarginBox(node,_112a).h,_112d=this.container._getMaxSizeChild?lang.hitch(this.container,"_getMaxSizeChild"):lang.hitch(this,function(){return this.child.maxHeight||Infinity;}),min=this.child.minHeight||0,_112e=parseInt(_1128.top,10),_112f=lang.hitch(this.container,"_layoutChildren",this.child),doc=win.doc;this._handlers=this._handlers.concat([on(doc,touch.move,this._drag=function(e,_1130){var delta=e.pageY-_1129,_1131=delta+_112c,_1132=Math.max(Math.min(_1131,_112d()),min+_112b);_112f(_1132,_1130);_1128.top=delta+_112e+_1132-_1131+"px";}),on(doc,"dragstart",event.stop),on(win.body(),"selectstart",event.stop),on(doc,touch.release,lang.hitch(this,"_stopDrag"))]);event.stop(e);},_stopDrag:function(e){try{this._drag(e);this._drag(e,true);}finally{this._cleanupHandlers();delete this._drag;}},_onKeyPress:function(e){var tick=1;switch(e.keyCode){case keys.UP_ARROW:tick=-1;break;case keys.DOWN_ARROW:break;default:return;}var _1133=_1123.getMarginSize(this.child.domNode).h+tick;this.container._layoutChildren(this.child,Math.max(Math.min(_1133,this.child.maxSize),this.child.minSize));event.stop(e);},_cleanupHandlers:function(){var h;while(h=this._handlers.pop()){h.remove();}},destroy:function(){this._cleanupHandlers();delete this.child;delete this.container;this.inherited(arguments);}});});},"url:epi/shell/widget/layout/templates/_ComponentWrapperHeader.htm":"<div>\r\n    <div class=\"epi-gadgetTitle dojoxDragHandle\" data-dojo-attach-point=\"titleBarNode\">\r\n        <div data-dojo-attach-point=\"focusNode\" class=\"epi-gadgetTitleFocus\">\r\n            <button data-dojo-type=\"dijit/form/ToggleButton\" data-dojo-attach-point=\"toggleButton\"\r\n                data-dojo-attach-event=\"onClick:toggle\" data-dojo-props=\"title:'${res.togglebuttontooltip}', showLabel:true, iconClass:'epi-gadget-toggle', 'class':'epi-chromelessButton'\">\r\n                ${title}</button>\r\n        </div>\r\n        <div class=\"epi-gadgetButtonBar\">\r\n            <button data-dojo-type=\"dijit/form/Button\" data-dojo-attach-point=\"closeButton\" data-dojo-attach-event=\"onClick:onClose\"\r\n                data-dojo-props=\"showLabel:false, title:'${res.closebuttontooltip}', iconClass:'epi-gadget-delete', 'class':'epi-chromelessButton'\">\r\n                ${res.closebuttontooltip}</button>\r\n        </div>\r\n    </div>\r\n</div>\r\n","epi/shell/widget/layout/ComponentTabContainer":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/_base/declare","dojo/dom-style","dojo/dom-construct","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/topic","dojo/Evented","dojo/text!./templates/ComponentTabContainer.htm","dijit/layout/TabContainer","dijit/layout/utils","epi/shell/widget/layout/_ComponentTabController","epi/shell/widget/layout/_ComponentResizeMixin","dijit/_WidgetsInTemplateMixin","dijit/form/ToggleButton","epi/shell/widget/ComponentChrome","epi/shell/widget/_FocusableMixin","epi/shell/command/_CommandProviderMixin","epi/shell/widget/command/RemoveGadget"],function(array,lang,_1134,_1135,_1136,_1137,_1138,_1139,topic,_113a,_113b,_113c,_113d,_113e,_113f,_1140,_1141,_1142,_1143,_1144,_1145){return _1134([_113c,_1140,_113f,_1143,_113a,_1144],{useMenu:true,doLayout:true,useSlider:false,toggleable:true,templateString:_113b,controllerWidget:_113e,_removeCommand:null,postMixInProperties:function(){this.inherited(arguments);this._removeCommand=new _1145({model:this});},startup:function(){if(this._started){return;}this.inherited(arguments);if(this.maxHeight){_1135.set(this.containerNode,"maxHeight",this.maxHeight);}},postCreate:function(){this.inherited(arguments);this.add("commands",this._removeCommand);this.tablist.on("toggle",lang.hitch(this,function(_1146){this._started&&this.set("open",_1146);}));},addChild:function(child,_1147){var _1148=new _1142({title:child.get("heading")||""});_1148.addChild(child);this.inherited(arguments,[_1148,_1147]);if(this._started&&!_1148._started){_1148.startup();}},layout:function(){if(!this._contentBox||typeof (this._contentBox.l)=="undefined"){return;}var sc=this.selectedChildWidget;if(this.doLayout){var _1149=this.tabPosition.replace(/-h/,"");this.tablist.layoutAlign=_1149;var _114a=[this.tablist,{domNode:this.tablistSpacer,layoutAlign:_1149},{domNode:this.containerNode,layoutAlign:"client"}];if(this._splitter){_114a.push({domNode:this._splitter.domNode,layoutAlign:"bottom"});}_113d.layoutChildren(this.domNode,this._contentBox,_114a);this._containerContentBox=_113d.marginBox2contentBox(this.containerNode,_114a[2]);if(sc&&sc.resize){sc.resize(this._containerContentBox);}}else{if(this.tablist.resize){var s=this.tablist.domNode.style;s.width="0";var width=_1139.getContentBox(this.domNode).w;s.width="";this.tablist.resize({w:width});}}},resize:function(_114b){_114b=lang.mixin({},_114b);if(!_114b.h){if(!this.open){_114b.h=this._getClosedHeight();}else{if(this.lastOpenHeight){_114b.h=this.lastOpenHeight;}}}this.inherited(arguments,[_114b]);},getSize:function(){var size=_1139.getMarginBox(this.domNode);if(!this.open){size.h=this._getClosedHeight();}return size;},_getClosedHeight:function(){var _114c=_1139.getMarginExtents(this.domNode).h,_114d=this.tablist?_1139.getMarginBox(this.tablist.domNode).h:0,_114e=this._splitter?_1139.getMarginBox(this._splitter.domNode).h:0;return _114d+_114e+_114c;},selectChild:function(){this.inherited(arguments);this._removeCommand.set("model",this.selectedChildWidget);},_makeController:function(_114f){var _1150=this.inherited(arguments);_1150.set("title",this.get("heading")||"");return _1150;},_setToggleableAttr:function(_1151){this._set("toggleable",_1151);this.tablist&&this.tablist.set("toggleable",this.toggleable);},_setOpenAttr:function(open){this.inherited(arguments);this.tablist.setOpen(open);_1135.set(this.containerNode,"display",open?"":"none");if(this._started){if(!open){this.lastOpenHeight=_1139.getMarginBox(this.domNode).h;}this.emit("toggle",this.open);}}});});},"url:epi/shell/widget/layout/templates/ComponentTabContainer.htm":"<div class=\"dijitTabContainer dojoxDragHandle epi-componentGroup epi-compactTabs\">\r\n    <div class=\"dijitTabListWrapper\" data-dojo-attach-point=\"tablistNode\"></div>\r\n    <div data-dojo-attach-point=\"tablistSpacer\" class=\"dijitTabSpacer ${baseClass}-spacer\"></div>\r\n    <div class=\"dijitTabPaneWrapper ${baseClass}-container\" data-dojo-attach-point=\"containerNode\"></div>\r\n    <div data-dojo-attach-point=\"_splitterNode\"></div>\r\n</div>\r\n","dijit/layout/TabContainer":function(){define("dijit/layout/TabContainer",["dojo/_base/lang","dojo/_base/declare","./_TabContainerBase","./TabController","./ScrollingTabController"],function(lang,_1152,_1153,_1154,_1155){return _1152("dijit.layout.TabContainer",_1153,{useMenu:true,useSlider:true,controllerWidget:"",_makeController:function(_1156){var cls=this.baseClass+"-tabs"+(this.doLayout?"":" dijitTabNoLayout"),_1154=typeof this.controllerWidget=="string"?lang.getObject(this.controllerWidget):this.controllerWidget;return new _1154({id:this.id+"_tablist",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,tabPosition:this.tabPosition,doLayout:this.doLayout,containerId:this.id,"class":cls,nested:this.nested,useMenu:this.useMenu,useSlider:this.useSlider,tabStripClass:this.tabStrip?this.baseClass+(this.tabStrip?"":"No")+"Strip":null},_1156);},postMixInProperties:function(){this.inherited(arguments);if(!this.controllerWidget){this.controllerWidget=(this.tabPosition=="top"||this.tabPosition=="bottom")&&!this.nested?_1155:_1154;}}});});},"dijit/layout/_TabContainerBase":function(){require({cache:{"url:dijit/layout/templates/TabContainer.html":"<div class=\"dijitTabContainer\">\n\t<div class=\"dijitTabListWrapper\" data-dojo-attach-point=\"tablistNode\"></div>\n\t<div data-dojo-attach-point=\"tablistSpacer\" class=\"dijitTabSpacer ${baseClass}-spacer\"></div>\n\t<div class=\"dijitTabPaneWrapper ${baseClass}-container\" data-dojo-attach-point=\"containerNode\"></div>\n</div>\n"}});define("dijit/layout/_TabContainerBase",["dojo/text!./templates/TabContainer.html","./StackContainer","./utils","../_TemplatedMixin","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style"],function(_1157,_1158,_1159,_115a,_115b,_115c,_115d,_115e){return _115b("dijit.layout._TabContainerBase",[_1158,_115a],{tabPosition:"top",baseClass:"dijitTabContainer",tabStrip:false,nested:false,templateString:_1157,postMixInProperties:function(){this.baseClass+=this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,"");this.srcNodeRef&&_115e.set(this.srcNodeRef,"visibility","hidden");this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);this.tablist=this._makeController(this.tablistNode);if(!this.doLayout){_115c.add(this.domNode,"dijitTabContainerNoLayout");}if(this.nested){_115c.add(this.domNode,"dijitTabContainerNested");_115c.add(this.tablist.containerNode,"dijitTabContainerTabListNested");_115c.add(this.tablistSpacer,"dijitTabContainerSpacerNested");_115c.add(this.containerNode,"dijitTabPaneWrapperNested");}else{_115c.add(this.domNode,"tabStrip-"+(this.tabStrip?"enabled":"disabled"));}},_setupChild:function(tab){_115c.add(tab.domNode,"dijitTabPane");this.inherited(arguments);},startup:function(){if(this._started){return;}this.tablist.startup();this.inherited(arguments);},layout:function(){if(!this._contentBox||typeof (this._contentBox.l)=="undefined"){return;}var sc=this.selectedChildWidget;if(this.doLayout){var _115f=this.tabPosition.replace(/-h/,"");this.tablist.layoutAlign=_115f;var _1160=[this.tablist,{domNode:this.tablistSpacer,layoutAlign:_115f},{domNode:this.containerNode,layoutAlign:"client"}];_1159.layoutChildren(this.domNode,this._contentBox,_1160);this._containerContentBox=_1159.marginBox2contentBox(this.containerNode,_1160[2]);if(sc&&sc.resize){sc.resize(this._containerContentBox);}}else{if(this.tablist.resize){var s=this.tablist.domNode.style;s.width="0";var width=_115d.getContentBox(this.domNode).w;s.width="";this.tablist.resize({w:width});}if(sc&&sc.resize){sc.resize();}}},destroy:function(){if(this.tablist){this.tablist.destroy();}this.inherited(arguments);}});});},"url:dijit/layout/templates/TabContainer.html":"<div class=\"dijitTabContainer\">\n\t<div class=\"dijitTabListWrapper\" data-dojo-attach-point=\"tablistNode\"></div>\n\t<div data-dojo-attach-point=\"tablistSpacer\" class=\"dijitTabSpacer ${baseClass}-spacer\"></div>\n\t<div class=\"dijitTabPaneWrapper ${baseClass}-container\" data-dojo-attach-point=\"containerNode\"></div>\n</div>\n","dijit/layout/StackContainer":function(){define("dijit/layout/StackContainer",["dojo/_base/array","dojo/cookie","dojo/_base/declare","dojo/dom-class","dojo/has","dojo/_base/lang","dojo/ready","dojo/topic","../registry","../_WidgetBase","./_LayoutWidget","dojo/i18n!../nls/common"],function(array,_1161,_1162,_1163,has,lang,ready,topic,_1164,_1165,_1166){if(has("dijit-legacy-requires")){ready(0,function(){var _1167=["dijit/layout/StackController"];require(_1167);});}var _1168=_1162("dijit.layout.StackContainer",_1166,{doLayout:true,persist:false,baseClass:"dijitStackContainer",buildRendering:function(){this.inherited(arguments);_1163.add(this.domNode,"dijitLayoutContainer");this.containerNode.setAttribute("role","tabpanel");},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onkeypress",this._onKeyPress);},startup:function(){if(this._started){return;}var _1169=this.getChildren();array.forEach(_1169,this._setupChild,this);if(this.persist){this.selectedChildWidget=_1164.byId(_1161(this.id+"_selectedChild"));}else{array.some(_1169,function(child){if(child.selected){this.selectedChildWidget=child;}return child.selected;},this);}var _116a=this.selectedChildWidget;if(!_116a&&_1169[0]){_116a=this.selectedChildWidget=_1169[0];_116a.selected=true;}topic.publish(this.id+"-startup",{children:_1169,selected:_116a});this.inherited(arguments);},resize:function(){if(!this._hasBeenShown){this._hasBeenShown=true;var _116b=this.selectedChildWidget;if(_116b){this._showChild(_116b);}}this.inherited(arguments);},_setupChild:function(child){this.inherited(arguments);_1163.replace(child.domNode,"dijitHidden","dijitVisible");child.domNode.title="";},addChild:function(child,_116c){this.inherited(arguments);if(this._started){topic.publish(this.id+"-addChild",child,_116c);this.layout();if(!this.selectedChildWidget){this.selectChild(child);}}},removeChild:function(page){this.inherited(arguments);if(this._started){topic.publish(this.id+"-removeChild",page);}if(this._descendantsBeingDestroyed){return;}if(this.selectedChildWidget===page){this.selectedChildWidget=undefined;if(this._started){var _116d=this.getChildren();if(_116d.length){this.selectChild(_116d[0]);}}}if(this._started){this.layout();}},selectChild:function(page,_116e){page=_1164.byId(page);if(this.selectedChildWidget!=page){var d=this._transition(page,this.selectedChildWidget,_116e);this._set("selectedChildWidget",page);topic.publish(this.id+"-selectChild",page);if(this.persist){_1161(this.id+"_selectedChild",this.selectedChildWidget.id);}}return d;},_transition:function(_116f,_1170){if(_1170){this._hideChild(_1170);}var d=this._showChild(_116f);if(_116f.resize){if(this.doLayout){_116f.resize(this._containerContentBox||this._contentBox);}else{_116f.resize();}}return d;},_adjacent:function(_1171){var _1172=this.getChildren();var index=array.indexOf(_1172,this.selectedChildWidget);index+=_1171?1:_1172.length-1;return _1172[index%_1172.length];},forward:function(){return this.selectChild(this._adjacent(true),true);},back:function(){return this.selectChild(this._adjacent(false),true);},_onKeyPress:function(e){topic.publish(this.id+"-containerKeyPress",{e:e,page:this});},layout:function(){var child=this.selectedChildWidget;if(child&&child.resize){if(this.doLayout){child.resize(this._containerContentBox||this._contentBox);}else{child.resize();}}},_showChild:function(page){var _1173=this.getChildren();page.isFirstChild=(page==_1173[0]);page.isLastChild=(page==_1173[_1173.length-1]);page._set("selected",true);_1163.replace(page.domNode,"dijitVisible","dijitHidden");return (page._onShow&&page._onShow())||true;},_hideChild:function(page){page._set("selected",false);_1163.replace(page.domNode,"dijitHidden","dijitVisible");page.onHide&&page.onHide();},closeChild:function(page){var _1174=page.onClose(this,page);if(_1174){this.removeChild(page);page.destroyRecursive();}},destroyDescendants:function(_1175){this._descendantsBeingDestroyed=true;this.selectedChildWidget=undefined;array.forEach(this.getChildren(),function(child){if(!_1175){this.removeChild(child);}child.destroyRecursive(_1175);},this);this._descendantsBeingDestroyed=false;}});_1168.ChildWidgetProperties={selected:false,disabled:false,closable:false,iconClass:"dijitNoIcon",showTitle:true};lang.extend(_1165,_1168.ChildWidgetProperties);return _1168;});},"dijit/layout/ScrollingTabController":function(){require({cache:{"url:dijit/layout/templates/ScrollingTabController.html":"<div class=\"dijitTabListContainer-${tabPosition}\" style=\"visibility:hidden\">\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerMenuButton\"\n\t\t\tclass=\"tabStripButton-${tabPosition}\"\n\t\t\tid=\"${id}_menuBtn\"\n\t\t\tdata-dojo-props=\"containerId: '${containerId}', iconClass: 'dijitTabStripMenuIcon',\n\t\t\t\t\tdropDownPosition: ['below-alt', 'above-alt']\"\n\t\t\tdata-dojo-attach-point=\"_menuBtn\" showLabel=\"false\" title=\"\">&#9660;</div>\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\"\n\t\t\tclass=\"tabStripButton-${tabPosition}\"\n\t\t\tid=\"${id}_leftBtn\"\n\t\t\tdata-dojo-props=\"iconClass:'dijitTabStripSlideLeftIcon', showLabel:false, title:''\"\n\t\t\tdata-dojo-attach-point=\"_leftBtn\" data-dojo-attach-event=\"onClick: doSlideLeft\">&#9664;</div>\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\"\n\t\t\tclass=\"tabStripButton-${tabPosition}\"\n\t\t\tid=\"${id}_rightBtn\"\n\t\t\tdata-dojo-props=\"iconClass:'dijitTabStripSlideRightIcon', showLabel:false, title:''\"\n\t\t\tdata-dojo-attach-point=\"_rightBtn\" data-dojo-attach-event=\"onClick: doSlideRight\">&#9654;</div>\n\t<div class='dijitTabListWrapper' data-dojo-attach-point='tablistWrapper'>\n\t\t<div role='tablist' data-dojo-attach-event='onkeypress:onkeypress'\n\t\t\t\tdata-dojo-attach-point='containerNode' class='nowrapTabStrip'></div>\n\t</div>\n</div>","url:dijit/layout/templates/_ScrollingTabControllerButton.html":"<div data-dojo-attach-event=\"onclick:_onClick\" class=\"dijitTabInnerDiv dijitTabContent dijitButtonContents\"  data-dojo-attach-point=\"focusNode\">\n\t<img role=\"presentation\" alt=\"\" src=\"${_blankGif}\" class=\"dijitTabStripIcon\" data-dojo-attach-point=\"iconNode\"/>\n\t<span data-dojo-attach-point=\"containerNode,titleNode\" class=\"dijitButtonText\"></span>\n</div>"}});define("dijit/layout/ScrollingTabController",["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/fx","dojo/_base/lang","dojo/on","dojo/query","dojo/sniff","../registry","dojo/text!./templates/ScrollingTabController.html","dojo/text!./templates/_ScrollingTabControllerButton.html","./TabController","./utils","../_WidgetsInTemplateMixin","../Menu","../MenuItem","../form/Button","../_HasDropDown","dojo/NodeList-dom"],function(array,_1176,_1177,_1178,_1179,fx,lang,on,query,has,_117a,_117b,_117c,_117d,_117e,_117f,Menu,_1180,_1181,_1182){var _1183=_1176("dijit.layout.ScrollingTabController",[_117d,_117f],{baseClass:"dijitTabController dijitScrollingTabController",templateString:_117b,useMenu:true,useSlider:true,tabStripClass:"",widgetsInTemplate:true,_minScroll:5,_setClassAttr:{node:"containerNode",type:"class"},buildRendering:function(){this.inherited(arguments);var n=this.domNode;this.scrollNode=this.tablistWrapper;this._initButtons();if(!this.tabStripClass){this.tabStripClass="dijitTabContainer"+this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,"")+"None";_1177.add(n,"tabStrip-disabled");}_1177.add(this.tablistWrapper,this.tabStripClass);},onStartup:function(){this.inherited(arguments);_1179.set(this.domNode,"visibility","");this._postStartup=true;this.own(on(this.containerNode,"attrmodified-label, attrmodified-iconclass",lang.hitch(this,function(evt){if(this._dim){this.resize(this._dim);}})));},onAddChild:function(page,_1184){this.inherited(arguments);_1179.set(this.containerNode,"width",(_1179.get(this.containerNode,"width")+200)+"px");},onRemoveChild:function(page,_1185){var _1186=this.pane2button[page.id];if(this._selectedTab===_1186.domNode){this._selectedTab=null;}this.inherited(arguments);},_initButtons:function(){this._btnWidth=0;this._buttons=query("> .tabStripButton",this.domNode).filter(function(btn){if((this.useMenu&&btn==this._menuBtn.domNode)||(this.useSlider&&(btn==this._rightBtn.domNode||btn==this._leftBtn.domNode))){this._btnWidth+=_1178.getMarginSize(btn).w;return true;}else{_1179.set(btn,"display","none");return false;}},this);},_getTabsWidth:function(){var _1187=this.getChildren();if(_1187.length){var _1188=_1187[this.isLeftToRight()?0:_1187.length-1].domNode,_1189=_1187[this.isLeftToRight()?_1187.length-1:0].domNode;return _1189.offsetLeft+_1189.offsetWidth-_1188.offsetLeft;}else{return 0;}},_enableBtn:function(width){var _118a=this._getTabsWidth();width=width||_1179.get(this.scrollNode,"width");return _118a>0&&width<_118a;},resize:function(dim){this._dim=dim;this.scrollNode.style.height="auto";var cb=this._contentBox=_117e.marginBox2contentBox(this.domNode,{h:0,w:dim.w});cb.h=this.scrollNode.offsetHeight;_1178.setContentSize(this.domNode,cb);var _118b=this._enableBtn(this._contentBox.w);this._buttons.style("display",_118b?"":"none");this._leftBtn.layoutAlign="left";this._rightBtn.layoutAlign="right";this._menuBtn.layoutAlign=this.isLeftToRight()?"right":"left";_117e.layoutChildren(this.domNode,this._contentBox,[this._menuBtn,this._leftBtn,this._rightBtn,{domNode:this.scrollNode,layoutAlign:"client"}]);if(this._selectedTab){if(this._anim&&this._anim.status()=="playing"){this._anim.stop();}this.scrollNode.scrollLeft=this._convertToScrollLeft(this._getScrollForSelectedTab());}this._setButtonClass(this._getScroll());this._postResize=true;return {h:this._contentBox.h,w:dim.w};},_getScroll:function(){return (this.isLeftToRight()||has("ie")<8||(has("ie")&&has("quirks"))||has("webkit"))?this.scrollNode.scrollLeft:_1179.get(this.containerNode,"width")-_1179.get(this.scrollNode,"width")+(has("ie")>=8?-1:1)*this.scrollNode.scrollLeft;},_convertToScrollLeft:function(val){if(this.isLeftToRight()||has("ie")<8||(has("ie")&&has("quirks"))||has("webkit")){return val;}else{var _118c=_1179.get(this.containerNode,"width")-_1179.get(this.scrollNode,"width");return (has("ie")>=8?-1:1)*(val-_118c);}},onSelectChild:function(page){var tab=this.pane2button[page.id];if(!tab||!page){return;}var node=tab.domNode;if(node!=this._selectedTab){this._selectedTab=node;if(this._postResize){var sl=this._getScroll();if(sl>node.offsetLeft||sl+_1179.get(this.scrollNode,"width")<node.offsetLeft+_1179.get(node,"width")){this.createSmoothScroll().play();}}}this.inherited(arguments);},_getScrollBounds:function(){var _118d=this.getChildren(),_118e=_1179.get(this.scrollNode,"width"),_118f=_1179.get(this.containerNode,"width"),_1190=_118f-_118e,_1191=this._getTabsWidth();if(_118d.length&&_1191>_118e){return {min:this.isLeftToRight()?0:_118d[_118d.length-1].domNode.offsetLeft,max:this.isLeftToRight()?(_118d[_118d.length-1].domNode.offsetLeft+_118d[_118d.length-1].domNode.offsetWidth)-_118e:_1190};}else{var _1192=this.isLeftToRight()?0:_1190;return {min:_1192,max:_1192};}},_getScrollForSelectedTab:function(){var w=this.scrollNode,n=this._selectedTab,_1193=_1179.get(this.scrollNode,"width"),_1194=this._getScrollBounds();var pos=(n.offsetLeft+_1179.get(n,"width")/2)-_1193/2;pos=Math.min(Math.max(pos,_1194.min),_1194.max);return pos;},createSmoothScroll:function(x){if(arguments.length>0){var _1195=this._getScrollBounds();x=Math.min(Math.max(x,_1195.min),_1195.max);}else{x=this._getScrollForSelectedTab();}if(this._anim&&this._anim.status()=="playing"){this._anim.stop();}var self=this,w=this.scrollNode,anim=new fx.Animation({beforeBegin:function(){if(this.curve){delete this.curve;}var oldS=w.scrollLeft,newS=self._convertToScrollLeft(x);anim.curve=new fx._Line(oldS,newS);},onAnimate:function(val){w.scrollLeft=val;}});this._anim=anim;this._setButtonClass(x);return anim;},_getBtnNode:function(e){var n=e.target;while(n&&!_1177.contains(n,"tabStripButton")){n=n.parentNode;}return n;},doSlideRight:function(e){this.doSlide(1,this._getBtnNode(e));},doSlideLeft:function(e){this.doSlide(-1,this._getBtnNode(e));},doSlide:function(_1196,node){if(node&&_1177.contains(node,"dijitTabDisabled")){return;}var _1197=_1179.get(this.scrollNode,"width");var d=(_1197*0.75)*_1196;var to=this._getScroll()+d;this._setButtonClass(to);this.createSmoothScroll(to).play();},_setButtonClass:function(_1198){var _1199=this._getScrollBounds();this._leftBtn.set("disabled",_1198<=_1199.min);this._rightBtn.set("disabled",_1198>=_1199.max);}});var _119a=_1176("dijit.layout._ScrollingTabControllerButtonMixin",null,{baseClass:"dijitTab tabStripButton",templateString:_117c,tabIndex:"",isFocusable:function(){return false;}});_1176("dijit.layout._ScrollingTabControllerButton",[_1181,_119a]);_1176("dijit.layout._ScrollingTabControllerMenuButton",[_1181,_1182,_119a],{containerId:"",tabIndex:"-1",isLoaded:function(){return false;},loadDropDown:function(_119b){this.dropDown=new Menu({id:this.containerId+"_menu",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir});var _119c=_117a.byId(this.containerId);array.forEach(_119c.getChildren(),function(page){var _119d=new _1180({id:page.id+"_stcMi",label:page.title,iconClass:page.iconClass,disabled:page.disabled,ownerDocument:this.ownerDocument,dir:page.dir,lang:page.lang,textDir:page.textDir,onClick:function(){_119c.selectChild(page);}});this.dropDown.addChild(_119d);},this);_119b();},closeDropDown:function(focus){this.inherited(arguments);if(this.dropDown){this.dropDown.destroyRecursive();delete this.dropDown;}}});return _1183;});},"url:dijit/layout/templates/ScrollingTabController.html":"<div class=\"dijitTabListContainer-${tabPosition}\" style=\"visibility:hidden\">\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerMenuButton\"\n\t\t\tclass=\"tabStripButton-${tabPosition}\"\n\t\t\tid=\"${id}_menuBtn\"\n\t\t\tdata-dojo-props=\"containerId: '${containerId}', iconClass: 'dijitTabStripMenuIcon',\n\t\t\t\t\tdropDownPosition: ['below-alt', 'above-alt']\"\n\t\t\tdata-dojo-attach-point=\"_menuBtn\" showLabel=\"false\" title=\"\">&#9660;</div>\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\"\n\t\t\tclass=\"tabStripButton-${tabPosition}\"\n\t\t\tid=\"${id}_leftBtn\"\n\t\t\tdata-dojo-props=\"iconClass:'dijitTabStripSlideLeftIcon', showLabel:false, title:''\"\n\t\t\tdata-dojo-attach-point=\"_leftBtn\" data-dojo-attach-event=\"onClick: doSlideLeft\">&#9664;</div>\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\"\n\t\t\tclass=\"tabStripButton-${tabPosition}\"\n\t\t\tid=\"${id}_rightBtn\"\n\t\t\tdata-dojo-props=\"iconClass:'dijitTabStripSlideRightIcon', showLabel:false, title:''\"\n\t\t\tdata-dojo-attach-point=\"_rightBtn\" data-dojo-attach-event=\"onClick: doSlideRight\">&#9654;</div>\n\t<div class='dijitTabListWrapper' data-dojo-attach-point='tablistWrapper'>\n\t\t<div role='tablist' data-dojo-attach-event='onkeypress:onkeypress'\n\t\t\t\tdata-dojo-attach-point='containerNode' class='nowrapTabStrip'></div>\n\t</div>\n</div>","url:dijit/layout/templates/_ScrollingTabControllerButton.html":"<div data-dojo-attach-event=\"onclick:_onClick\" class=\"dijitTabInnerDiv dijitTabContent dijitButtonContents\"  data-dojo-attach-point=\"focusNode\">\n\t<img role=\"presentation\" alt=\"\" src=\"${_blankGif}\" class=\"dijitTabStripIcon\" data-dojo-attach-point=\"iconNode\"/>\n\t<span data-dojo-attach-point=\"containerNode,titleNode\" class=\"dijitButtonText\"></span>\n</div>","epi/shell/widget/layout/_ComponentTabController":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/dom-style","dojo/dom-attr","dojo/dom-class","dojo/Evented","dojo/text!./templates/_ComponentTabController.htm","dijit/layout/ScrollingTabController","dijit/_WidgetsInTemplateMixin","dijit/form/ToggleButton"],function(array,_119e,lang,_119f,_11a0,_11a1,_11a2,_11a3,_11a4,_11a5,_11a6){return _119e([_11a4,_11a5,_11a2],{templateString:_11a3,title:"",toggleable:true,open:true,addChild:function(child,index){if(index&&typeof index=="number"){index++;}else{index=this.getChildren().length+1;}this.inherited("addChild",[child,index]);_119f.set(child.domNode,"display",this.open?"":"none");},_toggle:function(e){if(e){this._started&&!this._initializing&&this.set("open",!this.get("open"));}},_setTitleAttr:function(title){this._set("title",title||"");this.toggleButton.set("label",title);},setOpen:function(open){this._initializing=true;this.set("open",open);this.toggleButton.set("checked",!this.open);this._initializing=false;},_setOpenAttr:function(open){this._set("open",open);if(!this.open){_11a1.add(this.tablistWrapper,"closed");}else{_11a1.remove(this.tablistWrapper,"closed");}this.toggleButton.set("showLabel",!this.open);array.forEach(this.getChildren(),lang.hitch(this,function(child){if(child!==this.toggleButton){_119f.set(child.domNode,"display",this.open?"":"none");}}));!this._initializing&&this.emit("toggle",this.open);},_setToggleableAttr:function(_11a7){this._set("toggleable",_11a7);_119f.set(this.toggleButton.domNode,"display",this.toggleable?"":"none");}});});},"url:epi/shell/widget/layout/templates/_ComponentTabController.htm":"<div class=\"dijitTabListContainer-${tabPosition}\" style=\"visibility:hidden\">\r\n    \r\n    <div data-dojo-type=\"dijit.layout._ScrollingTabControllerMenuButton\"\r\n         class=\"tabStripButton-${tabPosition}\"\r\n         id=\"${id}_menuBtn\"\r\n         data-dojo-props=\"containerId: '${containerId}', iconClass: 'dijitTabStripMenuIcon',\r\n\t\t\t\t\tdropDownPosition: ['below-alt', 'above-alt']\"\r\n         data-dojo-attach-point=\"_menuBtn\" showLabel=\"false\" title=\"\">&#9660;</div>\r\n    <div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\"\r\n         class=\"tabStripButton-${tabPosition}\"\r\n         id=\"${id}_leftBtn\"\r\n         data-dojo-props=\"iconClass:'dijitTabStripSlideLeftIcon', showLabel:false, title:''\"\r\n         data-dojo-attach-point=\"_leftBtn\" data-dojo-attach-event=\"onClick: doSlideLeft\">&#9664;</div>\r\n    <div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\"\r\n         class=\"tabStripButton-${tabPosition}\"\r\n         id=\"${id}_rightBtn\"\r\n         data-dojo-props=\"iconClass:'dijitTabStripSlideRightIcon', showLabel:false, title:''\"\r\n         data-dojo-attach-point=\"_rightBtn\" data-dojo-attach-event=\"onClick: doSlideRight\">&#9654;</div>\r\n    <div class='dijitTabListWrapper' data-dojo-attach-point='tablistWrapper'>\r\n        <div role='tablist' data-dojo-attach-event='onkeypress:onkeypress' data-dojo-attach-point='containerNode' class=\"nowrapTabStrip\" >\r\n            <div data-dojo-type=\"dijit.form.ToggleButton\" data-dojo-attach-point=\"toggleButton\" data-dojo-attach-event=\"onClick:_toggle\" data-dojo-props=\"showLabel:true, iconClass:'epi-gadget-toggle', 'class':'epi-chromelessButton'\"></div>\r\n        </div>\r\n    </div>\r\n</div>","epi/shell/widget/layout/ComponentPaneContainer":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/dom-geometry","dojo/dom-style","epi/shell/widget/layout/ComponentContainer"],function(array,_11a8,lang,_11a9,_11aa,_11ab){return _11a8([_11ab],{_previousChildrenCount:null,layoutComponents:function(){var _11ac=this.getChildren();array.forEach(_11ac,function(_11ad){if(_11ad.lastOpenHeight&&(_11ad.lastOpenHeight<_11ad.minHeight)){_11ad.set("lastOpenHeight",_11ad.minHeight);}});if(_11ac.length===1){var child=_11ac[0];if(!child.open){child.set("open",true);}var _11ae=_11a9.getContentBox(this.containerNode);child.resize(_11ae);}else{if(_11ac.length===2){var _11af=array.every(_11ac,function(child){return child.open;});array.forEach(_11ac,function(child){child.set("resizable",_11af);});this._layout2Children(_11ac[0],_11ac[1]);}else{var _11b0=lang.hitch(this,function(width){array.forEach(this.getChildren(),function(_11b1){_11b1.set("resizable",_11b1.open);if(_11b1.resize&&lang.isFunction(_11b1.resize)){if(width){_11b1.resize({w:width});}else{_11b1.resize();}}});});if(this._previousChildrenCount<3){_11b0(null);}var _11b2=_11a9.getContentBox(this.gridContainerDiv);_11b0(_11b2.w);}}this._previousChildrenCount=_11ac.length;},_layout2Children:function(child,_11b3){var _11b4=_11a9.getMarginBox(this.containerNode);var _11b5={w:_11b4.w};var _11b6={w:_11b4.w};var _11b7=child.getSize().h;var _11b8=_11b3.getSize().h;var _11b9=Math.floor(_11b4.h/2);if(child.open&&_11b3.open&&(!child.lastOpenHeight||!_11b3.lastOpenHeight)){_11b5.h=_11b9;_11b6.h=_11b4.h-_11b9;}else{if(!child.open&&!_11b3.open){_11b5.h=_11b7;_11b6.h=_11b8;child.set("lastOpenHeight",_11b9);_11b3.set("lastOpenHeight",_11b4.h-_11b9);}else{if(_11b7<_11b8){_11b5.h=_11b7;_11b6.h=_11b4.h-_11b7;}else{_11b5.h=_11b4.h-_11b8;_11b6.h=_11b8;}}}child.resize(_11b5);_11b3.resize(_11b6);},_layoutChildren:function(child,_11ba,_11bb){var _11bc=this.getChildren(),_11bd=_11a9.getContentBox(this.containerNode).h;child.resize({h:_11ba});if(_11bc.length==2){array.forEach(_11bc,function(_11be){if(_11be!==child){_11be.resize({h:_11bd-_11ba});}});}if(_11bb){array.forEach(_11bc,function(_11bf){if(_11bf.getSize().h){_11bf.set("lastOpenHeight",_11bf.getSize().h);}});this.layoutComponents();this._persistComponentSettings();}},_onCompontentsChanged:function(){var _11c0=this.getChildren(),_11c1=_11c0.length>1,_11c2=_11c0.length>2,_11c3=_11c0.length===1;array.forEach(_11c0,function(child,index){child.set("showSplitter",_11c2||index<_11c0.length-1);child.set("toggleable",_11c1);if(_11c3&&child.setDefaultStates){child.setDefaultStates();}},this);},_componentToggle:function(){var _11c4=this.getChildren();if(_11c4.length==2){var _11c5=array.every(_11c4,function(child){return child.open;});array.forEach(_11c4,function(child){child.set("resizable",_11c5);});}this.inherited(arguments);},_getMaxSizeChild:function(){var _11c6=this.getChildren(),child=_11c6[0],_11c7=_11c6[1],_11c8=_11a9.getMarginBox(child.domNode).h;if(_11c6.length==2){_11c8+=_11a9.getMarginBox(_11c7.domNode).h-_11c7.minHeight;return _11c8;}return child.maxHeight||Infinity;}});});},"epi/shell/widget/DateRange":function(){define(["dojo","dojo/i18n","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/form/DateTextBox"],function(dojo,i18n,_11c9,_11ca,_11cb){return dojo.declare([_11c9,_11ca,_11cb],{templateString:"<div class=\"ui-daterange-popup\" style=\"width:390px;\">            <div>                <div style=\"margin: 5px;\" data-dojo-type=\"dijit/form/DateTextBox\" dojoAttachPoint=\"startDateInput\" dojoAttachEvent=\"onMouseEnter: forbidCloseParent\"></div>                <div style=\"margin: 5px;\" data-dojo-type=\"dijit/form/DateTextBox\" dojoAttachPoint=\"endDateInput\" dojoAttachEvent=\"onMouseEnter: forbidCloseParent\"></div>            </div>            <div style=\"text-align: right;margin: 20px 7px 0 0;\">                <button data-dojo-type=\"dijit/form/Button\" type=\"button\" dojoAttachPoint=\"chooseButton\">${commonRes.action.choose}</button>                <button data-dojo-type=\"dijit/form/Button\" type=\"button\" dojoAttachPoint=\"cancelButton\">${commonRes.action.cancel}</button>            </div>        </div>",closeParent:true,commonRes:epi.resources,forbidCloseParent:function(){this.closeParent=false;},allowCloseParent:function(){this.closeParent=true;}});});},"dijit/form/DateTextBox":function(){define("dijit/form/DateTextBox",["dojo/_base/declare","../Calendar","./_DateTimeTextBox"],function(_11cc,_11cd,_11ce){return _11cc("dijit.form.DateTextBox",_11ce,{baseClass:"dijitTextBox dijitComboBox dijitDateTextBox",popupClass:_11cd,_selector:"date",value:new Date("")});});},"dijit/Calendar":function(){define("dijit/Calendar",["dojo/_base/array","dojo/date","dojo/date/locale","dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/_base/event","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/sniff","./CalendarLite","./_Widget","./_CssStateMixin","./_TemplatedMixin","./form/DropDownButton"],function(array,date,local,_11cf,_11d0,_11d1,event,_11d2,keys,lang,has,_11d3,_11d4,_11d5,_11d6,_11d7){var _11d8=_11cf("dijit.Calendar",[_11d3,_11d4,_11d5],{cssStateNodes:{"decrementMonth":"dijitCalendarArrow","incrementMonth":"dijitCalendarArrow","previousYearLabelNode":"dijitCalendarPreviousYear","nextYearLabelNode":"dijitCalendarNextYear"},setValue:function(value){_11d2.deprecated("dijit.Calendar:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");this.set("value",value);},_createMonthWidget:function(){return new _11d8._MonthDropDownButton({id:this.id+"_mddb",tabIndex:-1,onMonthSelect:lang.hitch(this,"_onMonthSelect"),lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode);},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onkeydown","_onKeyDown");this.connect(this.dateRowsNode,"onmouseover","_onDayMouseOver");this.connect(this.dateRowsNode,"onmouseout","_onDayMouseOut");this.connect(this.dateRowsNode,"onmousedown","_onDayMouseDown");this.connect(this.dateRowsNode,"onmouseup","_onDayMouseUp");},_onMonthSelect:function(_11d9){var date=new this.dateClassObj(this.currentFocus);date.setDate(1);date.setMonth(_11d9);var _11da=this.dateModule.getDaysInMonth(date);var _11db=this.currentFocus.getDate();date.setDate(Math.min(_11db,_11da));this._setCurrentFocusAttr(date);},_onDayMouseOver:function(evt){var node=_11d1.contains(evt.target,"dijitCalendarDateLabel")?evt.target.parentNode:evt.target;if(node&&((node.dijitDateValue&&!_11d1.contains(node,"dijitCalendarDisabledDate"))||node==this.previousYearLabelNode||node==this.nextYearLabelNode)){_11d1.add(node,"dijitCalendarHoveredDate");this._currentNode=node;}},_onDayMouseOut:function(evt){if(!this._currentNode){return;}if(evt.relatedTarget&&evt.relatedTarget.parentNode==this._currentNode){return;}var cls="dijitCalendarHoveredDate";if(_11d1.contains(this._currentNode,"dijitCalendarActiveDate")){cls+=" dijitCalendarActiveDate";}_11d1.remove(this._currentNode,cls);this._currentNode=null;},_onDayMouseDown:function(evt){var node=evt.target.parentNode;if(node&&node.dijitDateValue&&!_11d1.contains(node,"dijitCalendarDisabledDate")){_11d1.add(node,"dijitCalendarActiveDate");this._currentNode=node;}},_onDayMouseUp:function(evt){var node=evt.target.parentNode;if(node&&node.dijitDateValue){_11d1.remove(node,"dijitCalendarActiveDate");}},handleKey:function(evt){var _11dc=-1,_11dd,_11de=this.currentFocus;switch(evt.keyCode){case keys.RIGHT_ARROW:_11dc=1;case keys.LEFT_ARROW:_11dd="day";if(!this.isLeftToRight()){_11dc*=-1;}break;case keys.DOWN_ARROW:_11dc=1;case keys.UP_ARROW:_11dd="week";break;case keys.PAGE_DOWN:_11dc=1;case keys.PAGE_UP:_11dd=evt.ctrlKey||evt.altKey?"year":"month";break;case keys.END:_11de=this.dateModule.add(_11de,"month",1);_11dd="day";case keys.HOME:_11de=new this.dateClassObj(_11de);_11de.setDate(1);break;case keys.ENTER:case keys.SPACE:this.set("value",this.currentFocus);break;default:return true;}if(_11dd){_11de=this.dateModule.add(_11de,_11dd,_11dc);}this._setCurrentFocusAttr(_11de);return false;},_onKeyDown:function(evt){if(!this.handleKey(evt)){event.stop(evt);}},onValueSelected:function(){},onChange:function(value){this.onValueSelected(value);},getClassForDate:function(){}});_11d8._MonthDropDownButton=_11cf("dijit.Calendar._MonthDropDownButton",_11d7,{onMonthSelect:function(){},postCreate:function(){this.inherited(arguments);this.dropDown=new _11d8._MonthDropDown({id:this.id+"_mdd",onChange:this.onMonthSelect});},_setMonthAttr:function(month){var _11df=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,month);this.dropDown.set("months",_11df);this.containerNode.innerHTML=(has("ie")==6?"":"<div class='dijitSpacer'>"+this.dropDown.domNode.innerHTML+"</div>")+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+_11df[month.getMonth()]+"</div>";}});_11d8._MonthDropDown=_11cf("dijit.Calendar._MonthDropDown",[_11d4,_11d6],{months:[],templateString:"<div class='dijitCalendarMonthMenu dijitMenu' "+"data-dojo-attach-event='onclick:_onClick,onmouseover:_onMenuHover,onmouseout:_onMenuHover'></div>",_setMonthsAttr:function(_11e0){this.domNode.innerHTML=array.map(_11e0,function(month,idx){return month?"<div class='dijitCalendarMonthLabel' month='"+idx+"'>"+month+"</div>":"";}).join("");},_onClick:function(evt){this.onChange(_11d0.get(evt.target,"month"));},onChange:function(){},_onMenuHover:function(evt){_11d1.toggle(evt.target,"dijitCalendarMonthLabelHover",evt.type=="mouseover");}});return _11d8;});},"dijit/CalendarLite":function(){require({cache:{"url:dijit/templates/Calendar.html":"<table cellspacing=\"0\" cellpadding=\"0\" class=\"dijitCalendarContainer\" role=\"grid\" aria-labelledby=\"${id}_mddb ${id}_year\">\n\t<thead>\n\t\t<tr class=\"dijitReset dijitCalendarMonthContainer\" valign=\"top\">\n\t\t\t<th class='dijitReset dijitCalendarArrow' data-dojo-attach-point=\"decrementMonth\">\n\t\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitCalendarIncrementControl dijitCalendarDecrease\" role=\"presentation\"/>\n\t\t\t\t<span data-dojo-attach-point=\"decreaseArrowNode\" class=\"dijitA11ySideArrow\">-</span>\n\t\t\t</th>\n\t\t\t<th class='dijitReset' colspan=\"5\">\n\t\t\t\t<div data-dojo-attach-point=\"monthNode\">\n\t\t\t\t</div>\n\t\t\t</th>\n\t\t\t<th class='dijitReset dijitCalendarArrow' data-dojo-attach-point=\"incrementMonth\">\n\t\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitCalendarIncrementControl dijitCalendarIncrease\" role=\"presentation\"/>\n\t\t\t\t<span data-dojo-attach-point=\"increaseArrowNode\" class=\"dijitA11ySideArrow\">+</span>\n\t\t\t</th>\n\t\t</tr>\n\t\t<tr role=\"row\">\n\t\t\t${!dayCellsHtml}\n\t\t</tr>\n\t</thead>\n\t<tbody data-dojo-attach-point=\"dateRowsNode\" data-dojo-attach-event=\"onclick: _onDayClick\" class=\"dijitReset dijitCalendarBodyContainer\">\n\t\t\t${!dateRowsHtml}\n\t</tbody>\n\t<tfoot class=\"dijitReset dijitCalendarYearContainer\">\n\t\t<tr>\n\t\t\t<td class='dijitReset' valign=\"top\" colspan=\"7\" role=\"presentation\">\n\t\t\t\t<div class=\"dijitCalendarYearLabel\">\n\t\t\t\t\t<span data-dojo-attach-point=\"previousYearLabelNode\" class=\"dijitInline dijitCalendarPreviousYear\" role=\"button\"></span>\n\t\t\t\t\t<span data-dojo-attach-point=\"currentYearLabelNode\" class=\"dijitInline dijitCalendarSelectedYear\" role=\"button\" id=\"${id}_year\"></span>\n\t\t\t\t\t<span data-dojo-attach-point=\"nextYearLabelNode\" class=\"dijitInline dijitCalendarNextYear\" role=\"button\"></span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tfoot>\n</table>\n"}});define("dijit/CalendarLite",["dojo/_base/array","dojo/_base/declare","dojo/cldr/supplemental","dojo/date","dojo/date/locale","dojo/date/stamp","dojo/dom","dojo/dom-class","dojo/_base/event","dojo/_base/lang","dojo/sniff","dojo/string","./_WidgetBase","./_TemplatedMixin","dojo/text!./templates/Calendar.html","./hccss"],function(array,_11e1,_11e2,date,_11e3,stamp,dom,_11e4,event,lang,has,_11e5,_11e6,_11e7,_11e8){var _11e9=_11e1("dijit.CalendarLite",[_11e6,_11e7],{templateString:_11e8,dowTemplateString:"<th class=\"dijitReset dijitCalendarDayLabelTemplate\" role=\"columnheader\"><span class=\"dijitCalendarDayLabel\">${d}</span></th>",dateTemplateString:"<td class=\"dijitReset\" role=\"gridcell\" data-dojo-attach-point=\"dateCells\"><span class=\"dijitCalendarDateLabel\" data-dojo-attach-point=\"dateLabels\"></span></td>",weekTemplateString:"<tr class=\"dijitReset dijitCalendarWeekTemplate\" role=\"row\">${d}${d}${d}${d}${d}${d}${d}</tr>",value:new Date(""),datePackage:"",dayWidth:"narrow",tabIndex:"0",currentFocus:new Date(),baseClass:"dijitCalendar",_isValidDate:function(value){return value&&!isNaN(value)&&typeof value=="object"&&value.toString()!=this.constructor.prototype.value.toString();},_getValueAttr:function(){if(this.value&&!isNaN(this.value)){var value=new this.dateClassObj(this.value);value.setHours(0,0,0,0);if(value.getDate()<this.value.getDate()){value=this.dateModule.add(value,"hour",1);}return value;}else{return null;}},_setValueAttr:function(value,_11ea){if(typeof value=="string"){value=stamp.fromISOString(value);}value=this._patchDate(value);if(this._isValidDate(value)&&!this.isDisabledDate(value,this.lang)){this._set("value",value);this.set("currentFocus",value);this._markSelectedDates([value]);if(this._created&&(_11ea||typeof _11ea=="undefined")){this.onChange(this.get("value"));}}else{this._set("value",null);this._markSelectedDates([]);}},_patchDate:function(value){if(value){value=new this.dateClassObj(value);value.setHours(1,0,0,0);}return value;},_setText:function(node,text){while(node.firstChild){node.removeChild(node.firstChild);}node.appendChild(node.ownerDocument.createTextNode(text));},_populateGrid:function(){var month=new this.dateClassObj(this.currentFocus);month.setDate(1);var _11eb=month.getDay(),_11ec=this.dateModule.getDaysInMonth(month),_11ed=this.dateModule.getDaysInMonth(this.dateModule.add(month,"month",-1)),today=new this.dateClassObj(),_11ee=_11e2.getFirstDayOfWeek(this.lang);if(_11ee>_11eb){_11ee-=7;}this._date2cell={};array.forEach(this.dateCells,function(_11ef,idx){var i=idx+_11ee;var date=new this.dateClassObj(month),_11f0,clazz="dijitCalendar",adj=0;if(i<_11eb){_11f0=_11ed-_11eb+i+1;adj=-1;clazz+="Previous";}else{if(i>=(_11eb+_11ec)){_11f0=i-_11eb-_11ec+1;adj=1;clazz+="Next";}else{_11f0=i-_11eb+1;clazz+="Current";}}if(adj){date=this.dateModule.add(date,"month",adj);}date.setDate(_11f0);if(!this.dateModule.compare(date,today,"date")){clazz="dijitCalendarCurrentDate "+clazz;}if(this.isDisabledDate(date,this.lang)){clazz="dijitCalendarDisabledDate "+clazz;_11ef.setAttribute("aria-disabled","true");}else{clazz="dijitCalendarEnabledDate "+clazz;_11ef.removeAttribute("aria-disabled");_11ef.setAttribute("aria-selected","false");}var _11f1=this.getClassForDate(date,this.lang);if(_11f1){clazz=_11f1+" "+clazz;}_11ef.className=clazz+"Month dijitCalendarDateTemplate";var _11f2=date.valueOf();this._date2cell[_11f2]=_11ef;_11ef.dijitDateValue=_11f2;this._setText(this.dateLabels[idx],date.getDateLocalized?date.getDateLocalized(this.lang):date.getDate());},this);},_populateControls:function(){var month=new this.dateClassObj(this.currentFocus);month.setDate(1);this.monthWidget.set("month",month);var y=month.getFullYear()-1;var d=new this.dateClassObj();array.forEach(["previous","current","next"],function(name){d.setFullYear(y++);this._setText(this[name+"YearLabelNode"],this.dateLocaleModule.format(d,{selector:"year",locale:this.lang}));},this);},goToToday:function(){this.set("value",new this.dateClassObj());},constructor:function(_11f3){this.dateModule=_11f3.datePackage?lang.getObject(_11f3.datePackage,false):date;this.dateClassObj=this.dateModule.Date||Date;this.dateLocaleModule=_11f3.datePackage?lang.getObject(_11f3.datePackage+".locale",false):_11e3;},_createMonthWidget:function(){return _11e9._MonthWidget({id:this.id+"_mw",lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode);},buildRendering:function(){var d=this.dowTemplateString,_11f4=this.dateLocaleModule.getNames("days",this.dayWidth,"standAlone",this.lang),_11f5=_11e2.getFirstDayOfWeek(this.lang);this.dayCellsHtml=_11e5.substitute([d,d,d,d,d,d,d].join(""),{d:""},function(){return _11f4[_11f5++%7];});var r=_11e5.substitute(this.weekTemplateString,{d:this.dateTemplateString});this.dateRowsHtml=[r,r,r,r,r,r].join("");this.dateCells=[];this.dateLabels=[];this.inherited(arguments);dom.setSelectable(this.domNode,false);var _11f6=new this.dateClassObj(this.currentFocus);this.monthWidget=this._createMonthWidget();this.set("currentFocus",_11f6,false);},postCreate:function(){this.inherited(arguments);this._connectControls();},_connectControls:function(){var _11f7=lang.hitch(this,function(_11f8,part,_11f9){this.connect(this[_11f8],"onclick",function(){this._setCurrentFocusAttr(this.dateModule.add(this.currentFocus,part,_11f9));});});_11f7("incrementMonth","month",1);_11f7("decrementMonth","month",-1);_11f7("nextYearLabelNode","year",1);_11f7("previousYearLabelNode","year",-1);},_setCurrentFocusAttr:function(date,_11fa){var _11fb=this.currentFocus,_11fc=this._getNodeByDate(_11fb);date=this._patchDate(date);this._set("currentFocus",date);if(!this._date2cell||this.dateModule.difference(_11fb,date,"month")!=0){this._populateGrid();this._populateControls();this._markSelectedDates([this.value]);}var _11fd=this._getNodeByDate(date);_11fd.setAttribute("tabIndex",this.tabIndex);if(this.focused||_11fa){_11fd.focus();}if(_11fc&&_11fc!=_11fd){if(has("webkit")){_11fc.setAttribute("tabIndex","-1");}else{_11fc.removeAttribute("tabIndex");}}},focus:function(){this._setCurrentFocusAttr(this.currentFocus,true);},_onDayClick:function(evt){event.stop(evt);for(var node=evt.target;node&&!node.dijitDateValue;node=node.parentNode){}if(node&&!_11e4.contains(node,"dijitCalendarDisabledDate")){this.set("value",node.dijitDateValue);}},_getNodeByDate:function(value){value=this._patchDate(value);return value&&this._date2cell?this._date2cell[value.valueOf()]:null;},_markSelectedDates:function(dates){function mark(_11fe,cell){_11e4.toggle(cell,"dijitCalendarSelectedDate",_11fe);cell.setAttribute("aria-selected",_11fe?"true":"false");};array.forEach(this._selectedCells||[],lang.partial(mark,false));this._selectedCells=array.filter(array.map(dates,this._getNodeByDate,this),function(n){return n;});array.forEach(this._selectedCells,lang.partial(mark,true));},onChange:function(){},isDisabledDate:function(){},getClassForDate:function(){}});_11e9._MonthWidget=_11e1("dijit.CalendarLite._MonthWidget",_11e6,{_setMonthAttr:function(month){var _11ff=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,month),_1200=(has("ie")==6?"":"<div class='dijitSpacer'>"+array.map(_11ff,function(s){return "<div>"+s+"</div>";}).join("")+"</div>");this.domNode.innerHTML=_1200+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+_11ff[month.getMonth()]+"</div>";}});return _11e9;});},"url:dijit/templates/Calendar.html":"<table cellspacing=\"0\" cellpadding=\"0\" class=\"dijitCalendarContainer\" role=\"grid\" aria-labelledby=\"${id}_mddb ${id}_year\">\n\t<thead>\n\t\t<tr class=\"dijitReset dijitCalendarMonthContainer\" valign=\"top\">\n\t\t\t<th class='dijitReset dijitCalendarArrow' data-dojo-attach-point=\"decrementMonth\">\n\t\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitCalendarIncrementControl dijitCalendarDecrease\" role=\"presentation\"/>\n\t\t\t\t<span data-dojo-attach-point=\"decreaseArrowNode\" class=\"dijitA11ySideArrow\">-</span>\n\t\t\t</th>\n\t\t\t<th class='dijitReset' colspan=\"5\">\n\t\t\t\t<div data-dojo-attach-point=\"monthNode\">\n\t\t\t\t</div>\n\t\t\t</th>\n\t\t\t<th class='dijitReset dijitCalendarArrow' data-dojo-attach-point=\"incrementMonth\">\n\t\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitCalendarIncrementControl dijitCalendarIncrease\" role=\"presentation\"/>\n\t\t\t\t<span data-dojo-attach-point=\"increaseArrowNode\" class=\"dijitA11ySideArrow\">+</span>\n\t\t\t</th>\n\t\t</tr>\n\t\t<tr role=\"row\">\n\t\t\t${!dayCellsHtml}\n\t\t</tr>\n\t</thead>\n\t<tbody data-dojo-attach-point=\"dateRowsNode\" data-dojo-attach-event=\"onclick: _onDayClick\" class=\"dijitReset dijitCalendarBodyContainer\">\n\t\t\t${!dateRowsHtml}\n\t</tbody>\n\t<tfoot class=\"dijitReset dijitCalendarYearContainer\">\n\t\t<tr>\n\t\t\t<td class='dijitReset' valign=\"top\" colspan=\"7\" role=\"presentation\">\n\t\t\t\t<div class=\"dijitCalendarYearLabel\">\n\t\t\t\t\t<span data-dojo-attach-point=\"previousYearLabelNode\" class=\"dijitInline dijitCalendarPreviousYear\" role=\"button\"></span>\n\t\t\t\t\t<span data-dojo-attach-point=\"currentYearLabelNode\" class=\"dijitInline dijitCalendarSelectedYear\" role=\"button\" id=\"${id}_year\"></span>\n\t\t\t\t\t<span data-dojo-attach-point=\"nextYearLabelNode\" class=\"dijitInline dijitCalendarNextYear\" role=\"button\"></span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tfoot>\n</table>\n","dijit/form/_DateTimeTextBox":function(){require({cache:{"url:dijit/form/templates/DropDownBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\"\n\trole=\"combobox\"\n\t><div class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer'\n\t\tdata-dojo-attach-point=\"_buttonNode, _popupStateNode\" role=\"presentation\"\n\t\t><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"button presentation\" aria-hidden=\"true\"\n\t\t\t${_buttonInputDisabled}\n\t/></div\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class='dijitReset dijitInputInner' ${!nameAttrSetting} type=\"text\" autocomplete=\"off\"\n\t\t\tdata-dojo-attach-point=\"textbox,focusNode\" role=\"textbox\" aria-haspopup=\"true\"\n\t/></div\n></div>\n"}});define("dijit/form/_DateTimeTextBox",["dojo/date","dojo/date/locale","dojo/date/stamp","dojo/_base/declare","dojo/_base/lang","./RangeBoundTextBox","../_HasDropDown","dojo/text!./templates/DropDownBox.html"],function(date,_1201,stamp,_1202,lang,_1203,_1204,_1205){new Date("X");var _1206=_1202("dijit.form._DateTimeTextBox",[_1203,_1204],{templateString:_1205,hasDownArrow:true,cssStateNodes:{"_buttonNode":"dijitDownArrowButton"},pattern:_1201.regexp,datePackage:"",postMixInProperties:function(){this.inherited(arguments);this._set("type","text");},compare:function(val1,val2){var _1207=this._isInvalidDate(val1);var _1208=this._isInvalidDate(val2);return _1207?(_1208?0:-1):(_1208?1:date.compare(val1,val2,this._selector));},forceWidth:true,format:function(value,_1209){if(!value){return "";}return this.dateLocaleModule.format(value,_1209);},"parse":function(value,_120a){return this.dateLocaleModule.parse(value,_120a)||(this._isEmpty(value)?null:undefined);},serialize:function(val,_120b){if(val.toGregorian){val=val.toGregorian();}return stamp.toISOString(val,_120b);},dropDownDefaultValue:new Date(),value:new Date(""),_blankValue:null,popupClass:"",_selector:"",constructor:function(_120c){this.dateModule=_120c.datePackage?lang.getObject(_120c.datePackage,false):date;this.dateClassObj=this.dateModule.Date||Date;this.dateLocaleModule=_120c.datePackage?lang.getObject(_120c.datePackage+".locale",false):_1201;this._set("pattern",this.dateLocaleModule.regexp);this._invalidDate=this.constructor.prototype.value.toString();},buildRendering:function(){this.inherited(arguments);if(!this.hasDownArrow){this._buttonNode.style.display="none";}if(!this.hasDownArrow){this._buttonNode=this.domNode;this.baseClass+=" dijitComboBoxOpenOnClick";}},_setConstraintsAttr:function(_120d){_120d.selector=this._selector;_120d.fullYear=true;var _120e=stamp.fromISOString;if(typeof _120d.min=="string"){_120d.min=_120e(_120d.min);}if(typeof _120d.max=="string"){_120d.max=_120e(_120d.max);}this.inherited(arguments);},_isInvalidDate:function(value){return !value||isNaN(value)||typeof value!="object"||value.toString()==this._invalidDate;},_setValueAttr:function(value,_120f,_1210){if(value!==undefined){if(typeof value=="string"){value=stamp.fromISOString(value);}if(this._isInvalidDate(value)){value=null;}if(value instanceof Date&&!(this.dateClassObj instanceof Date)){value=new this.dateClassObj(value);}}this.inherited(arguments);if(this.value instanceof Date){this.filterString="";}if(this.dropDown){this.dropDown.set("value",value,false);}},_set:function(attr,value){if(attr=="value"&&this.value instanceof Date&&this.compare(value,this.value)==0){return;}this.inherited(arguments);},_setDropDownDefaultValueAttr:function(val){if(this._isInvalidDate(val)){val=new this.dateClassObj();}this.dropDownDefaultValue=val;},openDropDown:function(_1211){if(this.dropDown){this.dropDown.destroy();}var _1212=lang.isString(this.popupClass)?lang.getObject(this.popupClass,false):this.popupClass,_1213=this,value=this.get("value");this.dropDown=new _1212({onChange:function(value){_1213.set("value",value,true);},id:this.id+"_popup",dir:_1213.dir,lang:_1213.lang,value:value,currentFocus:!this._isInvalidDate(value)?value:this.dropDownDefaultValue,constraints:_1213.constraints,filterString:_1213.filterString,datePackage:_1213.params.datePackage,isDisabledDate:function(date){return !_1213.rangeCheck(date,_1213.constraints);}});this.inherited(arguments);},_getDisplayedValueAttr:function(){return this.textbox.value;},_setDisplayedValueAttr:function(value,_1214){this._setValueAttr(this.parse(value,this.constraints),_1214,value);}});return _1206;});},"url:dijit/form/templates/DropDownBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\"\n\trole=\"combobox\"\n\t><div class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer'\n\t\tdata-dojo-attach-point=\"_buttonNode, _popupStateNode\" role=\"presentation\"\n\t\t><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"button presentation\" aria-hidden=\"true\"\n\t\t\t${_buttonInputDisabled}\n\t/></div\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class='dijitReset dijitInputInner' ${!nameAttrSetting} type=\"text\" autocomplete=\"off\"\n\t\t\tdata-dojo-attach-point=\"textbox,focusNode\" role=\"textbox\" aria-haspopup=\"true\"\n\t/></div\n></div>\n","epi/shell/widget/DateRangePicker":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-style","dojo/_base/window","dojo/has","dojo/topic","dijit/popup","dijit/_Widget","dijit/_TemplatedMixin","dijit/_HasDropDown","epi/shell/widget/DateRange","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.ComponentSelection"],function(_1215,lang,_1216,win,has,topic,popup,_1217,_1218,_1219,_121a,res){return _1215([_1217,_1218,_1219],{templateString:"<div>                             <a class=\"epi-iconToolbar-item-link epi-iconToolbar-calendar\" href=\"#\" title=\"${res.selectdateinterval}\" data-dojo-attach-point=\"_buttonNode, focusNode\"></a>                         </div>",res:res,startDate:new Date(),endDate:new Date(),openDropDown:function(){if(this.dropDown){this.dropDown.destroy();}this.dropDown=new _121a();this.dropDown.startDateInput._setValueAttr(this.startDate);this.dropDown.endDateInput._setValueAttr(this.endDate);this.connect(this.dropDown.chooseButton,"onClick",lang.hitch(this,"_onChooseClick"));this.connect(this.dropDown.cancelButton,"onClick",lang.hitch(this,"_closeDropDown"));this.connect(this.dropDown,"onMouseLeave",lang.hitch(this.dropDown,"allowCloseParent"));this.connect(win.body(),(!has("mozilla")?"onmousewheel":"DOMMouseScroll"),lang.hitch(this,"_closeDropDown"));this.inherited(arguments);_1216.set(this.dropDown.domNode,"width","390px");},_onBlur:function(){if(this.dropDown&&this.dropDown.closeParent){popup.close(this.dropDown);this._opened=false;}},_closeDropDown:function(){this.closeDropDown();},_onChooseClick:function(){this.startDate=this.dropDown.startDateInput.get("value");this.endDate=this.dropDown.endDateInput.get("value");this.closeDropDown();topic.publish("intervalHasBeenSet",this.id);}});});},"epi/shell/widget/DateTimeSelector":function(){define(["dojo/_base/declare","dojo/keys","dojo/aspect","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/Calendar","epi/shell/widget/TimeSpinner","epi/datetime","dojo/text!./templates/DateTimeSelector.html"],function(_121b,keys,_121c,_121d,_121e,_121f,_1220,_1221,_1222,_1223){return _121b([_121d,_121e,_121f],{templateString:_1223,value:null,postCreate:function(){this.inherited(arguments);_121c.after(this.calendar,"handleKey",function(evt){switch(evt.keyCode){case keys.RIGHT_ARROW:case keys.LEFT_ARROW:case keys.DOWN_ARROW:case keys.UP_ARROW:this.set("value",this.currentFocus);return true;default:return true;}},true);},_setValueAttr:function(value){this.calendar.set("value",value,false);this.timePicker.set("value",value,false);},_onCalendarKeyPress:function(e){if(e.keyCode===keys.TAB){this.timePicker.focus();}},_onTimePickerKeyPress:function(e){if(e.keyCode===keys.TAB){this.calendar.focus();}},_getValueAttr:function(){var _1224=this.calendar.get("value");var _1225=this.timePicker.get("value");if(!_1224&&!_1225){return null;}if(!_1224){this.calendar.goToToday();_1224=this.calendar.get("value");}if(!_1225){_1225=new Date(0,0,0,0,0,0,0);this.timePicker.set("value",_1225,false);}return new Date(_1224.getFullYear(),_1224.getMonth(),_1224.getDate(),_1225.getHours(),_1225.getMinutes(),_1225.getSeconds(),_1225.getMilliseconds());},_onChange:function(value){var _1226=this.get("value");this.onChange(_1226);},onChange:function(value){},focus:function(){this.calendar.focus();}});});},"epi/shell/widget/TimeSpinner":function(){define(["dojo","epi/datetime","dojox/form/TimeSpinner"],function(dojo,_1227,_1228){return dojo.declare("epi.shell.widget.TimeSpinner",[_1228],{smallDelta:60,largeDelta:360,_arrowPressed:function(_1229,_122a,_122b){this.inherited(arguments);this.onChange(this.get("value"));}});});},"dojox/form/TimeSpinner":function(){define("dojox/form/TimeSpinner",["dojo/_base/lang","dojo/_base/event","dijit/form/_Spinner","dojo/keys","dojo/date","dojo/date/locale","dojo/date/stamp","dojo/_base/declare"],function(lang,event,_122c,keys,_122d,_122e,_122f,_1230){return _1230("dojox.form.TimeSpinner",_122c,{required:false,adjust:function(val,delta){return _122d.add(val,"minute",delta);},isValid:function(){return true;},smallDelta:5,largeDelta:30,timeoutChangeRate:0.5,parse:function(time,_1231){return _122e.parse(time,{selector:"time",formatLength:"short"});},format:function(time,_1232){if(lang.isString(time)){return time;}return _122e.format(time,{selector:"time",formatLength:"short"});},serialize:_122f.toISOString,value:"12:00 AM",_onKeyPress:function(e){if((e.charOrCode==keys.HOME||e.charOrCode==keys.END)&&!(e.ctrlKey||e.altKey||e.metaKey)&&typeof this.get("value")!="undefined"){var value=this.constraints[(e.charOrCode==keys.HOME?"min":"max")];if(value){this._setValueAttr(value,true);}event.stop(e);}}});});},"url:epi/shell/widget/templates/DateTimeSelector.html":"<div style=\"position: relative;\" class=\"epi-dateTimeWrapper\">\r\n    <div data-dojo-attach-point=\"calendar\" data-dojo-type=\"dijit/Calendar\"  data-dojo-attach-event=\"onChange: _onChange, onKeyPress:_onCalendarKeyPress\" ></div>\r\n    <div data-dojo-attach-point=\"calendarOverlay\" style=\"position: absolute; left: 0; top: 0;\"></div>\r\n    <div style=\"text-align: center; padding: 5px\" class=\"epi-timePickerWrapper\">\r\n        <div class=\"dijitInline dijitIcon epi-iconClock\"></div><div data-dojo-attach-point=\"timePicker\" data-dojo-type=\"epi/shell/widget/TimeSpinner\" data-dojo-attach-event=\"onChange: _onChange\"></div>\r\n    </div>\r\n</div>\r\n","epi/shell/widget/DateTimeSelectorDropDown":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/keys","dijit/form/_DateTimeTextBox","epi/shell/widget/DateTimeSelector"],function(_1233,lang,keys,_1234,_1235){return _1233([_1234],{baseClass:"dijitTextBox dijitComboBox dijitDateTextBox",popupClass:_1235,forceWidth:false,_isSelecting:false,_canceled:false,_isDropDownShowing:false,constructor:function(){this.constraints={formatLength:"short",fullYear:"true"};},toggleDropDown:function(){this._isSelecting=!this._isSelecting;this.inherited(arguments);},openDropDown:function(){this.inherited(arguments);this.dropDown.onChange=function(){};this.connect(this.dropDown.domNode,"onkeypress",lang.hitch(this,function(e){this._canceled=e.keyCode===keys.ESCAPE;if(e.keyCode===keys.ESCAPE||e.keyCode===keys.ENTER){this._isSelecting=false;this.closeDropDown(true);}}));this._isSelecting=true;this._canceled=false;this._dropDownShowing=true;},closeDropDown:function(focus){if(!this._isSelecting){if(!this._canceled&&this.dropDown){this.set("value",this.dropDown.get("value"));}this.inherited(arguments);}this._dropDownShowing=false;},_onBlur:function(){this._isSelecting=false;if(this._dropDownShowing){this.closeDropDown();}else{if(this.dropDown&&!this.get("value")&&this.get("value")!==null){this.set("value",this.dropDown.get("value"));}}this.inherited(arguments);}});});},"epi/shell/widget/ExpandoButton":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/text!./templates/ExpandoButton.html","dijit/_KeyNavContainer","dijit/_Widget","dijit/_WidgetsInTemplateMixin","dijit/_TemplatedMixin","dijit/form/ToggleButton","epi/shell/widget/ListContainer"],function(array,_1236,lang,_1237,_1238,_1239,keys,_123a,_123b,_123c,_123d,_123e){return _1236([_123c,_123e,_123d,_123b],{templateString:_123a,buttons:null,isExpand:false,label:"",iconClass:"",hasToggleableChildren:true,_separatorBorderWidth:0,postMixInProperties:function(){if(!this.showInGroup){this.templateString="<ul class=\"dijitReset dijitInline epi-mediumButton epi-expandoButton\"><li data-dojo-attach-point=\"itemsContainer\">"+this.templateString+"</li></ul>";}this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this.connectKeyNavHandlers([keys.LEFT_ARROW],[keys.RIGHT_ARROW]);if(this.buttons){array.forEach(this.buttons,function(_123f){this.containerNode.addChild(_123f);this._startupChild(_123f.getParent());this._startupChild(_123f);if(!_123f.get("iconClass")){_1237.add(_123f.getParent().domNode,"epi-expandoButtonTextNode");}},this);}this.subscribe("/epi/shell/widget/ExpandoButton/action/toggle",lang.hitch(this,function(_1240){this.toggleButtonState.set("checked",_1240);}));if(this.iconClass){this.toggleButtonState.set("iconClass",this.iconClass);}this.connect(this.toggleButtonState,"onClick",this.onClick);},onClick:function(){},startup:function(){this.inherited(arguments);if(this.showInGroup){this._separatorBorderWidth=_1238.getBorderExtents(this.containerNode.domNode).w;}this.toggleButtonState.set("checked",this.isExpand);},_getNextFocusableChild:function(child,dir){if(child){child=this._getSiblingOfChild(child,dir);}var _1241=[this.togglebuttonState];lang.mixin(_1241,this.containerNode.getChildren());for(var i=0;i<_1241.length;i++){if(!child){child=_1241[(dir>0)?0:(_1241.length-1)];}if(child.isFocusable()){return child;}child=this._getSiblingOfChild(child,dir);}return null;},_setIsExpandAttr:function(value){this.toggleButtonState.set("checked",value);},isExpanded:function(){return this.toggleButtonState.get("checked");},focusNext:function(){var _1242=this._getLastFocusableChild();if(this.toggleButtonState.isFocusable()&&this.focusedChild===_1242){return this.focusChild(this.toggleButtonState);}return this.inherited(arguments);},focusPrev:function(){var _1243=this._getFirstFocusableChild();if(this.toggleButtonState.isFocusable()&&this.focusedChild===_1243){return this.focusChild(this.toggleButtonState);}return this.inherited(arguments);},focusChild:function(_1244,last){if(this.isExpanded()){this.inherited(arguments);}},_toggleButtonStateClick:function(val){this.focusedChild=null;val?this._expand():this._collapse();this.onChange(val);},onChange:function(val){},_expand:function(){var _1245=this.containerNode.getChildren(),_1246=this.showInGroup?this.getParent().domNode:this.itemsContainer,_1247=10+_1238.getMarginBox(_1246).w;if(!this.hasToggleableChildren){_1237.add(this.showInGroup?this.getParent().domNode:this.domNode,"dijitChecked");}if(_1245.length===0){return;}array.forEach(_1245,function(item){_1247+=_1238.getMarginBox(item.domNode).w;},this);_1239.set(_1246,"maxWidth",_1247+"px");_1237.add(_1246,"epi-expandoButtonParentNodeOpen");},_collapse:function(){var _1248=this.showInGroup?this.getParent().domNode:this.itemsContainer;if(!this.hasToggleableChildren){_1237.remove(this.showInGroup?this.getParent().domNode:this.domNode,"dijitChecked");}_1239.set(_1248,"maxWidth","");_1237.remove(_1248,"epi-expandoButtonParentNodeOpen");}});});},"url:epi/shell/widget/templates/ExpandoButton.html":"<span class=\"dijit dijitReset dijitInline epi-chromelessButton\">\r\n    <button data-dojo-attach-point=\"toggleButtonState\" data-dojo-type=\"dijit/form/ToggleButton\"\r\n        data-dojo-attach-event=\"onChange: _toggleButtonStateClick\" showlabel=\"false\">${label}</button>\r\n    <ul data-dojo-type=\"epi/shell/widget/ListContainer\" data-dojo-attach-point=\"containerNode\"></ul>\r\n</span>","epi/shell/widget/ListContainer":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/dom-attr","dojo/dom-style","dojo/text!./templates/ListContainer.html","dijit/_Container","dijit/_KeyNavContainer","dijit/_TemplatedMixin","dijit/_Widget","dijit/_WidgetsInTemplateMixin","epi/shell/widget/ListItem"],function(array,_1249,lang,_124a,_124b,_124c,_124d,_124e,_124f,_1250,_1251,_1252){return _1249([_1250,_1251,_124f,_124d,_124e],{templateString:_124c,updateVisibility:function(){var _1253=array.some(this.getChildren(),function(_1254){return _1254.childWidget&&_124b.get(_1254.childWidget.domNode,"display")!=="none";},this);_124b.set(this.domNode,"display",_1253?"":"none");},addChild:function(_1255,_1256){_1255=new _1252({childWidget:_1255});this.inherited(arguments);}});});},"url:epi/shell/widget/templates/ListContainer.html":"<ul class=\"dijitReset dijitInline\" data-dojo-attach-point=\"containerNode\" tabindex=\"-1\"></ul>","epi/shell/widget/ListItem":function(){define(["dojo/_base/declare","dojo/text!./templates/ListItem.html","dijit/_Contained","dijit/_TemplatedMixin","dijit/_Widget"],function(_1257,_1258,_1259,_125a,_125b){return _1257([_125b,_125a,_1259],{templateString:_1258,childWidget:null,postCreate:function(){this.inherited(arguments);if(this.childWidget){this.childWidget.placeAt(this.containerNode);}},isFocusable:function(){return this.childWidget&&this.childWidget.isFocusable&&this.childWidget.isFocusable();},focus:function(){if(this.childWidget&&this.childWidget.focus){this.childWidget.focus();}}});});},"url:epi/shell/widget/templates/ListItem.html":"<li data-dojo-attach-point=\"containerNode\" tabindex=\"-1\"></li>","epi/shell/widget/FormContainer":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/Deferred","dojo/_base/connect","dojo/dom-geometry","dojo/dom-style","dojo/aspect","dojo/when","dijit/layout/_LayoutWidget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/form/Form","epi/epi","epi/dependency","epi/string","epi/shell/widget/WidgetFactory","epi/shell/MetadataTransformer"],function(_125c,array,lang,_125d,_125e,_125f,_1260,_1261,when,_1262,_1263,_1264,Form,epi,_1265,_1266,_1267,_1268){return _125c([_1262,_1263,_1264],{templateString:"<div class=\"epi-formContainer\">                            <div data-dojo-type=\"dijit/form/Form\" class=\"epi-formArea\" data-dojo-attach-point=\"form\">                            </div>                         </div>",value:null,metadata:null,propertyFilter:null,defaultContainerWidget:"epi.shell.layout.SimpleContainer",readOnly:false,doLayout:true,_widgetMap:null,_uiSetUp:false,_aspectHandles:null,postMixInProperties:function(){this.inherited(arguments);this._widgetMap={};this._aspectHandles=[];},startup:function(){this.inherited(arguments);this._setupUI();},destroy:function(_1269){array.forEach(this._aspectHandles,function(item){item.remove();});this._aspectHandles=null;if(this.containerLayout){this.containerLayout.destroyRecursive(_1269);}this.inherited(arguments);},_getValueAttr:function(){return this.form.get("value");},_setValueAttr:function(value){if(this._formCreated){if(value){this.form.set("value",value);}else{this.form.reset();}}this._set("value",value);},onGroupCreated:function(_126a,_126b){},onChange:function(value){},onFieldCreated:function(_126c,_126d){},_onFormCreated:function(_126e){if(epi.isEmpty(this.get("value"))){this._onChange();}this.onFormCreated(_126e);},onFormCreated:function(_126f){},_setupUI:function(){var _1270=new _1267();var _1271=new _1268({propertyFilter:this.propertyFilter});when(this.metadata,lang.hitch(this,function(item){var _1272=item.layoutType||this.defaultContainerWidget;require([_1266.slashName(_1272)],lang.hitch(this,function(_1273){this.containerLayout=new _1273();this.containerLayout.placeAt(this.form.domNode);this._uiSetUp=false;var _1274=!this.value;var _1275=_1271.toComponentDefinitions(item,"",_1274,this.readOnly);var _1276=[],_1277=[];_1276.push(this.containerLayout);this.connect(_1270,"onWidgetCreated",function(_1278,_1279){var _127a=_1276[_1276.length-1];var _127b=_1277.length?_1277[_1277.length-1]:null;this._widgetMap[_1278.id]={parent:_127a,group:_127b};this.own(this.watch("readOnly",lang.hitch(this,function(name,_127c,value){_1278.set("readOnly",value);})));if(_1279.settings._type==="field"){_1278.set("editMode","createcontent");this.connect(_1278,"onChange","_onChange");this._aspectHandles.push(_1261.before(_1278,"focus",lang.hitch(this,function(){this._beforeSetFocus(_1278);})));this.onFieldCreated(_1279.settings.name,_1278);}else{if(_1279.settings._type==="group"){_1277.push(_1278);this.onGroupCreated(_1279.settings.name,_1278);}else{if(_1279.settings._type==="parent"){_1276.push(_1278);}}}});this.connect(_1270,"onWidgetHierarchyCreated",function(_127d,_127e){if(_127e.settings._type==="group"){_1277.pop();}else{if(_127e.settings._type==="parent"){_1276.pop();}}});when(_1270.createWidgets(this.containerLayout,_1275),lang.hitch(this,function(){this._formCreated=true;this.form.connectChildren();this.set("value",this.value||{});this.layout();this._uiSetUp=true;this._onFormCreated(this);_1270=null;_1276=null;_1277=null;}));this.own(this.form.watch("state",lang.hitch(this,function(name,_127f,value){this.set("state",value);})));}));}));},_onChange:function(){if(!this._uiSetUp){return;}var _1280=this.form.get("value");if(!epi.areEqual(this.value,_1280)){this.value=_1280;this.onChange(_1280);}},layout:function(){if(!this._started){return;}var child=this.containerLayout;if(child&&child.resize){var size=this._containerContentBox||this._contentBox;child.resize(this.doLayout&&size&&size.w&&size.h?size:null);}},validate:function(){return this._uiSetUp&&this.form.validate();},isValid:function(){return this.validate();},_beforeSetFocus:function(_1281){if(this._widgetMap[_1281.id]){var _1282=this._widgetMap[_1281.id].parent;var group=this._widgetMap[_1281.id].group;this._beforeSetFocus(_1282);if(_1282.selectChild){_1282.selectChild(group);}}}});});},"dijit/form/Form":function(){define("dijit/form/Form",["dojo/_base/declare","dojo/dom-attr","dojo/_base/event","dojo/_base/kernel","dojo/sniff","../_Widget","../_TemplatedMixin","./_FormMixin","../layout/_ContentPaneResizeMixin"],function(_1283,_1284,event,_1285,has,_1286,_1287,_1288,_1289){return _1283("dijit.form.Form",[_1286,_1287,_1288,_1289],{name:"",action:"",method:"",encType:"","accept-charset":"",accept:"",target:"",templateString:"<form data-dojo-attach-point='containerNode' data-dojo-attach-event='onreset:_onReset,onsubmit:_onSubmit' ${!nameAttrSetting}></form>",postMixInProperties:function(){this.nameAttrSetting=this.name?("name='"+this.name+"'"):"";this.inherited(arguments);},execute:function(){},onExecute:function(){},_setEncTypeAttr:function(value){this.encType=value;_1284.set(this.domNode,"encType",value);if(has("ie")){this.domNode.encoding=value;}},reset:function(e){var faux={returnValue:true,preventDefault:function(){this.returnValue=false;},stopPropagation:function(){},currentTarget:e?e.target:this.domNode,target:e?e.target:this.domNode};if(!(this.onReset(faux)===false)&&faux.returnValue){this.inherited(arguments,[]);}},onReset:function(){return true;},_onReset:function(e){this.reset(e);event.stop(e);return false;},_onSubmit:function(e){var fp=this.constructor.prototype;if(this.execute!=fp.execute||this.onExecute!=fp.onExecute){_1285.deprecated("dijit.form.Form:execute()/onExecute() are deprecated. Use onSubmit() instead.","","2.0");this.onExecute();this.execute(this.getValues());}if(this.onSubmit(e)===false){event.stop(e);}},onSubmit:function(){return this.isValid();},submit:function(){if(!(this.onSubmit()===false)){this.containerNode.submit();}}});});},"epi/shell/MetadataTransformer":function(){define("epi/shell/MetadataTransformer",["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/store/Memory","epi/string","epi/shell/TypeDescriptorManager"],function(array,_128a,lang,_128b,_128c,_128d){return _128a(null,{defaultGroupType:"epi.shell.layout.GroupContainer",defaultSingleGroupType:"epi.shell.layout.SimpleContainer",defaultParentType:"epi.shell.layout.ParentContainer",defaultGroupName:"defaultGroup",defaultGroupTitle:"",propertyFilter:null,_item:null,constructor:function(args){lang.mixin(this,args);},toComponentDefinitions:function(item,_128e,_128f,_1290){this._item=item;var _1291=this._filterProperties(item);var _1292=this._getComponentDefinitions(_1291,item.groups,_128e,_128f,_1290);return _1292;},_filterProperties:function(_1293){var _1294=lang.isFunction(this.propertyFilter)?lang.hitch(this,function(prop){return this.propertyFilter(_1293,prop);}):function(){return true;},_1295=array.filter(_1293.properties,_1294);return _1295;},_getComponentDefinitions:function(_1296,_1297,_1298,_1299,_129a){var _129b=[],_129c=lang.clone(_1297)||[],_129d=lang.clone(_1296)||[],_129e=function(item1,item2){return (item1.displayOrder||0)-(item2.displayOrder||0);};_129c.sort(_129e);_129d.sort(_129e);array.forEach(_129c,lang.hitch(this,function(group){var _129f=this._createGroupContainer(group,_129a);_129b.push(_129f);}));array.forEach(_129d,lang.hitch(this,function(_12a0){if(!_12a0.showForEdit){return;}var _12a1=_12a0.properties&&_12a0.properties.length?this._createParentContainer(_12a0,_1298,_1299,_129a):this._createPropertyWidget(_12a0,_1298,_1299,_129a);var _12a2=array.some(_129b,lang.hitch(this,function(_12a3){if(_12a3.settings.name===_128c.pascalToCamel(_12a0.groupName||this.defaultGroupName)){_12a3.components.push(_12a1);return true;}return false;}));if(!_12a2){var _12a4=this._createGroupContainer({name:this.defaultGroupName,title:this.defaultGroupTitle,displayUI:true},_129a);_12a4.components.push(_12a1);_129b=[_12a4].concat(_129b);}}));var _12a5=array.filter(_129b,function(item){return item.settings.displayui&&item.components&&item.components.length;});var _12a6=(_12a5.length>1)?this.defaultGroupType:this.defaultSingleGroupType;array.forEach(_12a5,lang.hitch(this,function(item){item.widgetType=item.widgetType||_12a6;}));return _12a5;},_createGroupContainer:function(group,_12a7){var _12a8={_type:"group",name:_128c.pascalToCamel(group.name),title:group.title,readOnly:_12a7,displayui:group.displayUI};return {settings:lang.mixin(_12a8,group.options),widgetType:group.uiType,components:[]};},_createParentContainer:function(_12a9,_12aa,_12ab,_12ac){var _12ad={_type:"parent",name:_12aa+_128c.pascalToCamel(_12a9.name),title:_12a9.displayName};var _12ae=this._filterProperties(_12a9);return {settings:lang.mixin(_12ad,_12a9.settings),widgetType:_12a9.layoutType||this.defaultParentType,components:this._getComponentDefinitions(_12ae,_12a9.groups,_12ad.name+".",_12ab,_12ac)};},_createPropertyWidget:function(_12af,_12b0,_12b1,_12b2){var _12b3=lang.mixin(_12b1?{value:_12af.initialValue}:{},{_type:_12af.hideSurroundingHtml?"hiddenfield":"field",name:_12b0+_128c.pascalToCamel(_12af.name),label:_12af.displayName,selections:_12af.selections,displayui:_12af.displayui,readOnly:_12b2},_12af.settings);lang.mixin(_12b3,this._getTranslatedLabelAndTooltip(_12af.name));return {settings:_12b3,widgetType:_12af.uiType,widgetPackage:_12af.uiPackage};},_getTranslatedLabelAndTooltip:function(_12b4){var _12b5={};if(!this._item.additionalValues||!this._item.additionalValues.modelTypeIdentifier){return _12b5;}var _12b6=_128d.getResourceValue(this._item.additionalValues.modelTypeIdentifier,"properties."+_12b4.toLowerCase());if(!_12b6){return _12b5;}if(_12b6.caption){_12b5.label=_12b6.caption;}if(_12b6.help){_12b5.tooltip=_12b6.help;}return _12b5;}});});},"epi/shell/widget/GadgetWrapper":function(){define(["epi","dojo","dijit","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dojox/layout/ContentPane","epi/routes","epi/shell/Error","epi/clientResourcesLoader","dojo/NodeList-traverse","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.GadgetChrome","epi/i18n!epi/shell/nls/EPiServer.Shell.Resources.Texts"],function(epi,dojo,dijit,_12b7,_12b8,_12b9,_12ba,_12bb,Error,_12bc,_12bd,_12be,_12bf){epi.gadget=(function(){var pub={};pub.gadgetIdHash={};pub.getByElement=function(_12c0){_12c0=(_12c0.jquery?_12c0.context:_12c0);var _12c1=dojo.query(_12c0).closest("div.epi-gadgetInner");if(_12c1.length==1){var _12c2=dijit.byNode(_12c1[0]);return _12c2.getInstance();}else{return null;}};pub.getById=function(_12c3){var _12c4=pub.gadgetIdHash[_12c3];if(!_12c4){console.error("Gadget with ID "+_12c3+" is not found in the epi.gadget.gadgetIdHash");return null;}var _12c5=dijit.byId(_12c4);return _12c5.getInstance();};pub.loadView=function(_12c6,_12c7){pub.getByElement(_12c6).loadView(_12c7);};pub.visibilityChanged=function(_12c8,_12c9){pub.getByElement(_12c8).triggerVisibilityChanged();};pub.unload=function(_12ca){pub.getByElement(_12ca).triggerUnload();};return pub;})();return dojo.declare([_12b7,_12b8,_12b9],{res:dojo.mixin({},_12bf,_12be),componentId:null,element:null,defaultRouteParams:null,routeData:null,templateString:"<div class=\"epi-gadgetInner\" data-dojo-attach-point=\"gadgetContainer\">                              <div class=\"epi-gadgetFeedback\" data-dojo-attach-point=\"gadgetFeedback\">&nbsp;</div>                              <div class=\"epi-gadgetContent\" ioArgs=\"{ preventCache: true }\" data-dojo-type=\"dojox/layout/ContentPane\" data-dojo-attach-point=\"gadgetContent\"></div>                          </div>",stylePaths:null,scriptPaths:null,constructor:function(){this.stylePaths=[];this.scriptPaths=[];},startup:function(){if(this._started){return;}this.inherited(arguments);if(!this.routeData){this.set("content","Missing route data");return;}this.defaultRouteParams={};for(var param in this.routeData){if(param[0]!="_"){this.defaultRouteParams[param]=this.routeData[param];}}var _12cb=epi.clientResourcesLoader.loadResources(this.stylePaths,this.scriptPaths);dojo.when(_12cb,dojo.hitch(this,function(){epi.gadget.gadgetIdHash[this.componentId]=this.id;var _12cc=this.getInstance();_12cc.routeParams=dojo.mixin(this.defaultRouteParams,{gadgetId:this.componentId});this.gadgetContent.set("id","gadget_"+_12cc.id);$(_12cc.element).bind("_epigadgetloadedinternal",dojo.hitch(this,this._onEpiGadgetLoaded));try{if(typeof this.initMethod=="string"){var _12cd=dojo.getObject(this.initMethod);$(_12cc.element).bind("epigadgetinit",_12cd);}}catch(ex){this.setErrorMessage(ex.message);}$(_12cc.element).trigger("epigadgetinit",_12cc);this.connect(this.gadgetContent,"onDownloadEnd",function(){$(_12cc.element).trigger("_epigadgetloadedinternal");});this.loadView(this.defaultRouteParams);}));},destroy:function(){delete epi.gadget.gadgetIdHash[this.componentId];this.inherited(arguments);},getInstance:function(){if(this.instance){return this.instance;}this.instance=this._gadgetInstance();return this.instance;},getId:function(){return this.componentId;},getActionPath:function(_12ce){return _12bb.getActionPath(this._mergeRouteParameters(_12ce),null);},_onEpiGadgetLoaded:function(){var _12cf=this.getInstance();$("form.epi-gadgetform",_12cf.element).validate({errorElement:"span"});$("form.epi-gadgetform",_12cf.element).bind("submit",_12cf,this._submitHandler);try{$(_12cf.element).trigger("epigadgetloaded",_12cf);}catch(err){this.setErrorMessage(this.res.gadgetinitfailed,{details:err.message,errorThrown:true});}},_mergeRouteParameters:function(_12d0){return dojo.mixin({},this.defaultRouteParams,_12d0);},_submitHandler:function(e){var _12d1=e.data;var _12d2=this;if($(_12d2).valid()){var _12d3=jQuery.Event("epigadgetsubmit");_12d3.target=_12d2;$(_12d2).trigger(_12d3,_12d1);if(!_12d3.isDefaultPrevented()){var _12d4=$(_12d2).serializeArray();_12d4.push({name:"gadgetId",value:_12d1.id});_12d1.ajax({url:_12d2.action,dataType:"html",data:_12d4,success:function(data){_12d1.routeParams={};_12d1.gadgetContent.set("content",data.toString());$(_12d1.element).trigger("_epigadgetloadedinternal");}});}}e.preventDefault();},loadView:function(_12d5){this.isVisible=true;var _12d6=this.getInstance();if(_12d5){_12d6.routeParams=_12d5;}else{_12d6.routeParams=this.defaultRouteParams;}var url=_12d6.getActionPath(_12d6.routeParams);this.gadgetContent.set("href",url);},getIsVisible:function(){return this.isVisible;},setErrorMessage:function(_12d7,_12d8){_12d8=dojo.mixin({details:"",status:0,errorThrown:false},_12d8);var _12d9=dojo.query(".epi-gadgetError",this.gadgetContainer);if(_12d9.length===0){_12d9=dojo.create("div",{"class":"epi-feedbackContent-error epi-feedbackContent epi-gadgetError"},this.gadgetContainer,"before");}Error.createErrorMessage(_12d9,_12d7,_12d8.details,_12d8.status,true);dojo.style(_12d9,"display","block");},clearErrorMessage:function(){var _12da=dojo.query(".epi-gadgetError",this.gadgetContainer);dojo.style(_12da,"display","none");},setFeedbackMessage:function(_12db,_12dc){_12dc=dojo.mixin({ajaxLoader:false,feedbackMessage:_12db,feedbackTitle:"",feedbackHideDelay:0,feedbackFadeOut:false},_12dc);this.gadgetFeedback.innerHTML=_12dc.feedbackMessage;dojo.style(this.gadgetFeedback,"display","block");if(_12dc.ajaxLoader){dojo.addClass(this.gadgetFeedback,"epi-gadgetLoader");}if(_12dc.feedbackHideDelay>0){var self=this;setTimeout(function(){self.clearFeedbackMessage(_12dc);},_12dc.feedbackHideDelay);}else{if(_12dc.feedbackFadeOut){this.clearFeedbackMessage(_12dc);}}},clearFeedbackMessage:function(_12dd){dojo.removeClass(this.gadgetFeedback,"epi-gadgetLoader");if(_12dd&&_12dd.feedbackFadeOut&&dojo.style(this.gadgetFeedback,"display")=="block"){var _12de={node:this.gadgetFeedback,duration:4000,onEnd:dojo.hitch(this,function(){dojo.style(this.gadgetFeedback,"display","none");dojo.style(this.gadgetFeedback,"opacity","1");})};dojo.fadeOut(_12de).play();}else{dojo.style(this.gadgetFeedback,"display","none");}},triggerUnload:function(){$(this.getInstance().element).trigger("epigadgetunload",this.getInstance());},triggerVisibilityChanged:function(_12df){this.isVisible=_12df;$(this.getInstance().element).trigger("epigadgetvisibilitychanged",this.getInstance());},_gadgetInstance:function(){var _12e0=this;var pub={id:_12e0.componentId,element:_12e0.gadgetContainer,gadgetContent:_12e0.gadgetContent,routeParams:{}};pub.getActionPath=function(_12e1){return _12e0.getActionPath(_12e1);};pub.loadView=function(_12e2){_12e0.loadView(_12e2);};pub.isVisible=function(){return _12e0.getIsVisible();};pub.setErrorMessage=function(_12e3,_12e4){_12e0.setErrorMessage(_12e3,_12e4);};pub.clearErrorMessage=function(){_12e0.clearErrorMessage();};pub.setFeedbackMessage=function(_12e5,_12e6){_12e0.setFeedbackMessage(_12e5,_12e6);};pub.clearFeedbackMessage=function(){_12e0.clearFeedbackMessage();};pub.raiseErrorEvent=function(_12e7){this.error=_12e7;$(this.element).trigger("epigadgeterror",this);this.error=null;};pub.ajax=function(_12e8){var self=this;var _12e9={dataType:"json",feedbackMessage:"",cache:false,type:"POST",ajaxLoader:true,error:function(_12ea,_12eb,_12ec){self.clearFeedbackMessage();self.raiseErrorEvent({xmlHttpRequest:_12ea,status:_12eb,errorThrown:_12ec});self.setErrorMessage("<strong>"+_12e0.res.internalservererror+" ["+_12ea.status+"]</strong>.",{details:_12ea.responseText,status:_12eb,errorThrown:_12ec});},success:function(data){self.clearFeedbackMessage();}};var _12ed=$("input[name=__RequestVerificationToken]",this.element);if(_12ed.length>0){var _12ee={__RequestVerificationToken:_12ed.val()};if(_12e8.data){if(!_12e8.data.__RequestVerificationToken){_12e8.data=$.extend(_12e8.data,_12ee);}}else{_12e8.data=_12ee;}}if($.isFunction(_12e8.success)){var _12ef=_12e8.success;_12e8.success=function(data,_12f0){self.clearFeedbackMessage();_12ef.call(this,data,_12f0);};}if($.isFunction(_12e8.error)){var _12f1=_12e8.error;_12e8.error=function(_12f2,_12f3,_12f4){self.clearFeedbackMessage();_12f1.call(this,_12f2,_12f3,_12f4);};}_12e9=$.extend(_12e9,_12e8);self.setFeedbackMessage("",_12e9);$.ajax(_12e9);};return pub;}});});},"dojox/layout/ContentPane":function(){define("dojox/layout/ContentPane",["dojo/_base/lang","dojo/_base/xhr","dijit/layout/ContentPane","dojox/html/_base","dojo/_base/declare"],function(lang,_12f5,_12f6,_12f7,_12f8){return _12f8("dojox.layout.ContentPane",_12f6,{adjustPaths:false,cleanContent:false,renderStyles:false,executeScripts:true,scriptHasHooks:false,ioMethod:_12f5.get,ioArgs:{},onExecError:function(e){},_setContent:function(cont){var _12f9=this._contentSetter;if(!(_12f9&&_12f9 instanceof _12f7._ContentSetter)){_12f9=this._contentSetter=new _12f7._ContentSetter({node:this.containerNode,_onError:lang.hitch(this,this._onError),onContentError:lang.hitch(this,function(e){var _12fa=this.onContentError(e);try{this.containerNode.innerHTML=_12fa;}catch(e){console.error("Fatal "+this.id+" could not change content due to "+e.message,e);}})});}this._contentSetterParams={adjustPaths:Boolean(this.adjustPaths&&(this.href||this.referencePath)),referencePath:this.href||this.referencePath,renderStyles:this.renderStyles,executeScripts:this.executeScripts,scriptHasHooks:this.scriptHasHooks,scriptHookReplacement:"dijit.byId('"+this.id+"')"};this.inherited("_setContent",arguments);}});});},"dojox/html/_base":function(){define("dojox/html/_base",["dojo/_base/declare","dojo/Deferred","dojo/dom-construct","dojo/html","dojo/_base/kernel","dojo/_base/lang","dojo/ready","dojo/_base/sniff","dojo/_base/url","dojo/_base/xhr","dojo/when","dojo/_base/window"],function(_12fb,_12fc,_12fd,_12fe,_12ff,lang,ready,has,_1300,_1301,when,_1302){var html=_12ff.getObject("dojox.html",true);if(has("ie")){var _1303=/(AlphaImageLoader\([^)]*?src=(['"]))(?![a-z]+:|\/)([^\r\n;}]+?)(\2[^)]*\)\s*[;}]?)/g;}var _1304=/(?:(?:@import\s*(['"])(?![a-z]+:|\/)([^\r\n;{]+?)\1)|url\(\s*(['"]?)(?![a-z]+:|\/)([^\r\n;]+?)\3\s*\))([a-z, \s]*[;}]?)/g;var _1305=html._adjustCssPaths=function(_1306,_1307){if(!_1307||!_1306){return;}if(_1303){_1307=_1307.replace(_1303,function(_1308,pre,delim,url,post){return pre+(new _1300(_1306,"./"+url).toString())+post;});}return _1307.replace(_1304,function(_1309,_130a,_130b,_130c,_130d,media){if(_130b){return "@import \""+(new _1300(_1306,"./"+_130b).toString())+"\""+media;}else{return "url("+(new _1300(_1306,"./"+_130d).toString())+")"+media;}});};var _130e=/(<[a-z][a-z0-9]*\s[^>]*)(?:(href|src)=(['"]?)([^>]*?)\3|style=(['"]?)([^>]*?)\5)([^>]*>)/gi;var _130f=html._adjustHtmlPaths=function(_1310,cont){var url=_1310||"./";return cont.replace(_130e,function(tag,start,name,delim,_1311,_1312,_1313,end){return start+(name?(name+"="+delim+(new _1300(url,_1311).toString())+delim):("style="+_1312+_1305(url,_1313)+_1312))+end;});};var _1314=html._snarfStyles=function(_1315,cont,_1316){_1316.attributes=[];cont=cont.replace(/<[!][-][-](.|\s)*?[-][-]>/g,function(_1317){return _1317.replace(/<(\/?)style\b/ig,"&lt;$1Style").replace(/<(\/?)link\b/ig,"&lt;$1Link").replace(/@import "/ig,"@ import \"");});return cont.replace(/(?:<style([^>]*)>([\s\S]*?)<\/style>|<link\s+(?=[^>]*rel=['"]?stylesheet)([^>]*?href=(['"])([^>]*?)\4[^>\/]*)\/?>)/gi,function(_1318,_1319,_131a,_131b,delim,href){var i,attr=(_1319||_131b||"").replace(/^\s*([\s\S]*?)\s*$/i,"$1");if(_131a){i=_1316.push(_1315?_1305(_1315,_131a):_131a);}else{i=_1316.push("@import \""+href+"\";");attr=attr.replace(/\s*(?:rel|href)=(['"])?[^\s]*\1\s*/gi,"");}if(attr){attr=attr.split(/\s+/);var atObj={},tmp;for(var j=0,e=attr.length;j<e;j++){tmp=attr[j].split("=");atObj[tmp[0]]=tmp[1].replace(/^\s*['"]?([\s\S]*?)['"]?\s*$/,"$1");}_1316.attributes[i-1]=atObj;}return "";});};var _131c=html._snarfScripts=function(cont,byRef){byRef.code="";cont=cont.replace(/<[!][-][-](.|\s)*?[-][-]>/g,function(_131d){return _131d.replace(/<(\/?)script\b/ig,"&lt;$1Script");});function _131e(src){if(byRef.downloadRemote){src=src.replace(/&([a-z0-9#]+);/g,function(m,name){switch(name){case "amp":return "&";case "gt":return ">";case "lt":return "<";default:return name.charAt(0)=="#"?String.fromCharCode(name.substring(1)):"&"+name+";";}});_1301.get({url:src,sync:true,load:function(code){byRef.code+=code+";";},error:byRef.errBack});}};return cont.replace(/<script\s*(?![^>]*type=['"]?(?:dojo\/|text\/html\b))[^>]*?(?:src=(['"]?)([^>]*?)\1[^>]*)?>([\s\S]*?)<\/script>/gi,function(_131f,delim,src,code){if(src){_131e(src);}else{byRef.code+=code;}return "";});};var _1320=html.evalInGlobal=function(code,_1321){_1321=_1321||_1302.doc.body;var n=_1321.ownerDocument.createElement("script");n.type="text/javascript";_1321.appendChild(n);n.text=code;};html._ContentSetter=_12fb(_12fe._ContentSetter,{adjustPaths:false,referencePath:".",renderStyles:false,executeScripts:false,scriptHasHooks:false,scriptHookReplacement:null,_renderStyles:function(_1322){this._styleNodes=[];var st,att,_1323,doc=this.node.ownerDocument;var head=doc.getElementsByTagName("head")[0];for(var i=0,e=_1322.length;i<e;i++){_1323=_1322[i];att=_1322.attributes[i];st=doc.createElement("style");st.setAttribute("type","text/css");for(var x in att){st.setAttribute(x,att[x]);}this._styleNodes.push(st);head.appendChild(st);if(st.styleSheet){st.styleSheet.cssText=_1323;}else{st.appendChild(doc.createTextNode(_1323));}}},empty:function(){this.inherited("empty",arguments);this._styles=[];},onBegin:function(){this.inherited("onBegin",arguments);var cont=this.content,node=this.node;var _1324=this._styles;if(lang.isString(cont)){if(this.adjustPaths&&this.referencePath){cont=_130f(this.referencePath,cont);}if(this.renderStyles||this.cleanContent){cont=_1314(this.referencePath,cont,_1324);}if(this.executeScripts){var _1325=this;var byRef={downloadRemote:true,errBack:function(e){_1325._onError.call(_1325,"Exec","Error downloading remote script in \""+_1325.id+"\"",e);}};cont=_131c(cont,byRef);this._code=byRef.code;}}this.content=cont;},onEnd:function(){var code=this._code,_1326=this._styles;if(this._styleNodes&&this._styleNodes.length){while(this._styleNodes.length){_12fd.destroy(this._styleNodes.pop());}}if(this.renderStyles&&_1326&&_1326.length){this._renderStyles(_1326);}var d=new _12fc();var _1327=this.getInherited(arguments),args=arguments,_1328=lang.hitch(this,function(){_1327.apply(this,args);when(this.parseDeferred,function(){d.resolve();});});if(this.executeScripts&&code){if(this.cleanContent){code=code.replace(/(<!--|(?:\/\/)?-->|<!\[CDATA\[|\]\]>)/g,"");}if(this.scriptHasHooks){code=code.replace(/_container_(?!\s*=[^=])/g,this.scriptHookReplacement);}try{_1320(code,this.node);}catch(e){this._onError("Exec","Error eval script in "+this.id+", "+e.message,e);}ready(_1328);}else{_1328();}return d.promise;},tearDown:function(){this.inherited(arguments);delete this._styles;if(this._styleNodes&&this._styleNodes.length){while(this._styleNodes.length){_12fd.destroy(this._styleNodes.pop());}}delete this._styleNodes;lang.mixin(this,html._ContentSetter.prototype);}});html.set=function(node,cont,_1329){if(!_1329){return _12fe._setNodeContent(node,cont,true);}else{var op=new html._ContentSetter(lang.mixin(_1329,{content:cont,node:node}));return op.set();}};return html;});},"epi/shell/Error":function(){define("epi/shell/Error",["dojo","dijit/Dialog","epi/i18n!epi/shell/nls/episerver.shell.resources.texts"],function(dojo,_132a,res){return {openErrorDialog:function(_132b,_132c){var _132d=new _132a({title:res.error,style:"width: 600px",content:_132c});_132d.show();},createErrorMessage:function(_132e,_132f,_1330,_1331,_1332){if(_132f){if(!_1330){_1332=false;}if(_1332){_132f=_132f+" <br/><a href='#' class='epi-openErrorDialogButton'>"+res.errormoreinformationtext+"</a>";}_132e.innerHTML=_132f;dojo.query(".epi-openErrorDialogButton").connect("onclick",dojo.hitch(this,function(){this.openErrorDialog(_132e,_1330);}));}},showDialogWithElementContent:function(_1333){this.openErrorDialog(dojo.body(),_1333.innerHTML);}};});},"dojo/NodeList-traverse":function(){define("dojo/NodeList-traverse",["./query","./_base/lang","./_base/array"],function(_1334,lang,array){var _1335=_1334.NodeList;lang.extend(_1335,{_buildArrayFromCallback:function(_1336){var ary=[];for(var i=0;i<this.length;i++){var items=_1336.call(this[i],this[i],ary);if(items){ary=ary.concat(items);}}return ary;},_getUniqueAsNodeList:function(nodes){var ary=[];for(var i=0,node;node=nodes[i];i++){if(node.nodeType==1&&array.indexOf(ary,node)==-1){ary.push(node);}}return this._wrap(ary,null,this._NodeListCtor);},_getUniqueNodeListWithParent:function(nodes,query){var ary=this._getUniqueAsNodeList(nodes);ary=(query?_1334._filterResult(ary,query):ary);return ary._stash(this);},_getRelatedUniqueNodes:function(query,_1337){return this._getUniqueNodeListWithParent(this._buildArrayFromCallback(_1337),query);},children:function(query){return this._getRelatedUniqueNodes(query,function(node,ary){return lang._toArray(node.childNodes);});},closest:function(query,root){return this._getRelatedUniqueNodes(null,function(node,ary){do{if(_1334._filterResult([node],query,root).length){return node;}}while(node!=root&&(node=node.parentNode)&&node.nodeType==1);return null;});},parent:function(query){return this._getRelatedUniqueNodes(query,function(node,ary){return node.parentNode;});},parents:function(query){return this._getRelatedUniqueNodes(query,function(node,ary){var pary=[];while(node.parentNode){node=node.parentNode;pary.push(node);}return pary;});},siblings:function(query){return this._getRelatedUniqueNodes(query,function(node,ary){var pary=[];var nodes=(node.parentNode&&node.parentNode.childNodes);for(var i=0;i<nodes.length;i++){if(nodes[i]!=node){pary.push(nodes[i]);}}return pary;});},next:function(query){return this._getRelatedUniqueNodes(query,function(node,ary){var next=node.nextSibling;while(next&&next.nodeType!=1){next=next.nextSibling;}return next;});},nextAll:function(query){return this._getRelatedUniqueNodes(query,function(node,ary){var pary=[];var next=node;while((next=next.nextSibling)){if(next.nodeType==1){pary.push(next);}}return pary;});},prev:function(query){return this._getRelatedUniqueNodes(query,function(node,ary){var prev=node.previousSibling;while(prev&&prev.nodeType!=1){prev=prev.previousSibling;}return prev;});},prevAll:function(query){return this._getRelatedUniqueNodes(query,function(node,ary){var pary=[];var prev=node;while((prev=prev.previousSibling)){if(prev.nodeType==1){pary.push(prev);}}return pary;});},andSelf:function(){return this.concat(this._parent);},first:function(){return this._wrap(((this[0]&&[this[0]])||[]),this);},last:function(){return this._wrap((this.length?[this[this.length-1]]:[]),this);},even:function(){return this.filter(function(item,i){return i%2!=0;});},odd:function(){return this.filter(function(item,i){return i%2==0;});}});return _1335;});},"epi/shell/widget/GlobalMenu":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/event","dojo/NodeList-traverse","dojo/dom-attr","dojo/dom-style","dojo/dom-class","dojo/dom-geometry","dojo/query","dojo/topic","dojo/text!./templates/GlobalMenu.html","dijit/focus","dijit/_Container","dijit/_TemplatedMixin","dijit/_Widget","epi/Url","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.GlobalMenu","dojo/has","dgrid/util/has-css3"],function(_1338,lang,event,_1339,_133a,_133b,_133c,_133d,query,topic,_133e,_133f,_1340,_1341,_1342,Url,_1343,has){return _1338([_1342,_1341,_1340],{res:_1343,templateString:_133e,_focusNode:null,_siteUrl:null,openClass:"epi-globalNavigation--open",hoverClass:"epi-globalNavigation--hover",shadowClass:"epi-globalNavigation--shadow",hiddenClass:"dijitHidden",postCreate:function(){this.inherited(arguments);this._focusNode=query(".epi-navigation-selected > a",this.containerNode)[0];this.connect(this,"onBlur",function(){this._toggleGlobalSearch(false);this._hideMenu();});this.connect(this.domNode,"onmouseenter",this._toggleHintOn);this.connect(this.domNode,"onmouseleave",this._toggleHintOff);this.connect(this.accordionNode,"onclick",this._showMenu);this.connect(this.expandCollapseContainer,"onclick",this._toggleMenu);this._hideMenu();topic.subscribe("/epi/shell/context/changed",lang.hitch(this,"_onContextChanged"));if(has("css-transitions")){this.connect(this.accordionNode,has("transitionend"),lang.hitch(this,function(){if(this._isOpen()){_133f.focus(this._focusNode);return;}if(_133c.contains(this.accordionNode,this.hoverClass)){return;}_133c.add(this.containerNode,this.hiddenClass);}));}},_getContentHeight:function(){return _133d.getContentBox(this.containerNode).h;},_toggleMenu:function(e){if(this._isOpen()){this._hideMenu();}else{this._showMenu();}event.stop(e);},_toggleHintOn:function(){if(this._isOpen()){return;}_133c.add(this.accordionNode,this.hoverClass);},_toggleHintOff:function(){if(this._isOpen()){return;}_133c.remove(this.accordionNode,this.hoverClass);},_showMenu:function(){_133c.remove(this.accordionNode,this.hoverClass);_133c.add(this.accordionNode,this.openClass);_133c.remove(this.containerNode,this.hiddenClass);_133b.set(this.accordionNode,"height",this._getContentHeight()+"px");_133c.add(this.domNode,this.shadowClass);},_hideMenu:function(){_133c.remove(this.accordionNode,this.hoverClass);_133c.remove(this.accordionNode,this.openClass);_133c.remove(this.domNode,this.shadowClass);_133b.set(this.accordionNode,"height","0px");},_isOpen:function(){return _133c.contains(this.accordionNode,this.openClass);},_getToViewModeElement:function(){var _1344=query(".epi-navigation-container-utils",this.element)[0];return query(".epi-navigation-global_sites.epi-navigation-currentSite.epi-navigation-iconic",_1344)[0];},_onContextChanged:function(ctx,_1345){var _1346=this._getToViewModeElement();if(!_1346){return;}var url=this._buildPublicUrl(ctx,_1346);var title=lang.replace(this.res.toviewmode,[url.toString()]);_133a.set(_1346,{href:url.path,title:title});},_buildPublicUrl:function(ctx,_1347){if(this._siteUrl===null){this._siteUrl=_1347.href;}var _1348=new Url(this._siteUrl);var _1349=window.location;var _134a={scheme:_1349.protocol,authority:_1349.host,path:ctx.publicUrl===""?_1348.path:ctx.publicUrl};var url=new Url(null,_134a,true);return url;},_toggleGlobalSearch:function(_134b){var _134c=query("#epi-searchContainer")[0];if(_134c){_133b.set(_134c,"display",_134b?"block":"none");}}});});},"url:epi/shell/widget/templates/GlobalMenu.html":"<div>\r\n    <div data-dojo-attach-point=\"accordionNode\" class=\"epi-navigation-accordioncontainer\">\r\n        <div data-dojo-attach-point=\"containerNode\" class=\"${hiddenClass}\" style=\"position:absolute; bottom:0; left:0; width:100%\"></div>\r\n    </div>\r\n    <div data-dojo-attach-point=\"expandCollapseContainer\" class=\"epi-navigation-expandcollapseContainer\">\r\n        <a data-dojo-attach-point=\"expandCollapseButton\" href=\"javascript:void(0)\" class=\"epi-navigation-expandcollapseBtn\"\r\n            tabindex=\"0\"><span class=\"epi-navigation-expandcollapseIcon\"></span></a>\r\n    </div>\r\n</div>\r\n","dgrid/util/has-css3":function(){define(["dojo/has","xstyle/css!../css/has-transforms3d.css"],function(has){var _134d=["ms","O","Moz","Webkit"];has.add("css-transitions",function(_134e,doc,_134f){var style=_134f.style,i;if(style.transitionProperty!==undefined){return true;}for(i=_134d.length;i--;){if(style[_134d[i]+"TransitionProperty"]!==undefined){return _134d[i];}}return false;});has.add("transitionend",function(){var tpfx=has("css-transitions");if(!tpfx){return false;}if(tpfx===true){return "transitionend";}return {ms:"MSTransitionEnd",O:"oTransitionEnd",Moz:"transitionend",Webkit:"webkitTransitionEnd"}[tpfx];});has.add("css-transforms",function(_1350,doc,_1351){var style=_1351.style,i;if(style.transformProperty!==undefined){return true;}for(i=_134d.length;i--;){if(style[_134d[i]+"Transform"]!==undefined){return _134d[i];}}return false;});has.add("css-transforms3d",function(_1352,doc,_1353){var left,_1354;_1353.className="has-csstransforms3d";document.body.appendChild(_1353);left=_1353.offsetLeft;if(left===9){return true;}else{if(left>9){_1354=_134d[left-10];return _1354||false;}}document.body.removeChild(_1353);_1353.className="";return false;});return has;});},"epi/shell/widget/HelpButton":function(){define(["dojo","dojo/i18n","epi/dependency","dijit/_Widget","dijit/_TemplatedMixin","dojo/text!./templates/HelpButton.htm"],function(dojo,i18n,_1355,_1356,_1357,_1358){return dojo.declare([_1356,_1357],{moduleName:null,webHelpAlias:null,helpUrl:null,templateString:_1358,commonRes:epi.resources,postMixInProperties:function(){if(this.helpUrl==null){var _1359=_1355.resolve("epi.ModuleManager");var _135a=_1359.getModule(this.moduleName);this.helpUrl=_135a.helpPath+"#"+this.webHelpAlias;}this.inherited(arguments);}});});},"url:epi/shell/widget/templates/HelpButton.htm":"<span><a target=\"_blank\" href=\"${helpUrl}\" title=\"${commonRes.action.help}\" onclick=\"window.open('${helpUrl}','_blank', 'scrollbars=yes, height=500, location=no, menubar=no, resizable=yes, toolbar=no, width=840');return false;\" class=\"epi-helpIcon\">&nbsp;</a></span>","epi/shell/widget/IframeWithOverlay":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/has","dojo/number","dojo/aspect","dojo/dom-geometry","dojo/dom-style","dojo/dom-construct","dojo/dom-class","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","./Iframe","./_AutoResizingIframeMixin","./_ScrollbarMeasurementMixin","./_DynamicStyleSheetIframeMixin","./overlay/OverlayContainer","epi/shell/layout/_LayoutWidget","epi/shell/widget/DelayableStandby","dojo/text!./templates/IframeWithOverlay.html"],function(_135b,lang,array,has,_135c,_135d,_135e,_135f,_1360,_1361,_1362,_1363,_1364,_1365,_1366,_1367,_1368,_1369,_136a,_136b){_135b("epi/local/AutoResizingIframe",[_1364,_1365,_1367]);return _135b([_1369,_1362,_1363,_1366],{templateString:_136b,autoResize:true,previewSize:null,devicePreviewClass:"",previewClass:"",standbySettings:{delayTime:3000,duration:350},postCreate:function(){this.inherited(arguments);this.overlay.set("target",this.iframe);this._setupStandby();this.connect(this.iframe,"onUnload",function(){this._standby.show();});this.connect(this.iframe,"onLoad",function(url){_1361.toggle(this.scroller,"epi-editorViewport-preview-external",!this.iframe.isInspectable());this._standby.hide();});},startup:function(){if(this._started){return;}this.inherited(arguments);this._setCenterViewport(this._availableViewport||this._contentBox||_135e.getContentBox(this.containerNode),true);},destroy:function(){this._standby.destroy();this._standby=null;this.inherited(arguments);},addChild:function(_136c,_136d){function show(){this.layout();array.forEach(_136c.getChildren(),function(_136e){_136e.connect(_136e,"onLayoutChanged",lang.hitch(this,function(){if(_136c.open){this.layout();}}));},this);};function hide(){this._resetScroll();_135f.set(this.scroller,{width:""});this._setCenterViewport(this._contentBox);};_136c.connect(_136c,"onAfterShow",lang.hitch(this,show));_136c.connect(_136c,"onAfterHide",lang.hitch(this,hide));this.connect(this,"onLayoutChanged",lang.hitch(this,function(){if(_136c.open){this.scrollIntoView(_136c.overlayItem);}else{lang.hitch(this,hide)();}}));this.inherited(arguments);},layout:function(force){if(!this._contentBox){this._pendingLayout=true;return;}this._layoutChildren(force);this.inherited(arguments);},_layoutChildren:function(force){if(force){this._resetScroll();}this._positionChildren();this._setCenterViewport(this._availableViewport,force);},_positionChildren:function(){var _136f=this.get("centerSize");this._availableViewport=lang.mixin({},this._contentBox);_135f.set(this.scroller,{width:""});var _1370=this.getScrollbars(this.scroller);array.forEach(this.getChildren(),function(child){if(child===this.iframe||child===this.overlay||child.open===false||child.visible===false){return;}var _1371;switch(child.region){case "leading":if(child.resize){child.resize({t:0,l:0,h:this._contentBox.h-_1370.x});}_1371=_135e.position(child.domNode);this._availableViewport.w-=_1371.w;this._availableViewport.l+=_1371.w;break;case "trailing":var _1372=lang.hitch(this,function(){if(child.resize){if(!child._computedStyle){child._computedStyle=_135f.getComputedStyle(child.domNode);}_1371=_135e.getMarginBox(child.domNode,child._computedStyle);child.resize({t:0,h:this._contentBox.h-_1370.x});_135f.set(child.domNode,{right:_1370.y+"px"});_135f.set(this.scroller,{width:(this._availableViewport.w-_1371.w)+"px"});this._availableViewport.w-=_1371.w+_1370.y;}});_1372();break;case "center":if(child.resize){child.resize(_136f);}break;default:break;}},this);},_setCenterViewport:function(_1373,_1374){var _1375=this.get("centerSize")||_135e.getContentBox(this.previewContainer),_1376,top,left;this.previewContainer._computedStyle=this.previewContainer._computedStyle||_135f.getComputedStyle(this.previewContainer);_1376=_135e.getPadBorderExtents(this.previewContainer,this.previewContainer._computedStyle);top=_1373.h>_1375.h?_135c.round((_1373.h-_1375.h)/2):0;left=_1373.w>_1375.w?_135c.round((_1373.w-_1375.w)/2):0;_135f.set(this.previewContainer,{top:top-_1376.t+"px",left:left-_1376.l+"px",width:_1375.w+"px",height:_1375.h+"px"});this.iframe.resize(_1375,!!_1374);this.emit("viewportresized");},onViewportPullDown:function(){this.emit("viewportpulldown");},scrollIntoView:function(_1377){var _1378,_1379,_137a,_137b=16;if(this.iframe.isLoading||!this._contentBox){return;}this._layoutChildren();if((!this.autoResize&&this.previewSize.w<this._availableViewport.w)){return;}_1378=_1377.get("position");_1379=_1378.x+_1378.w+_137b-this.scroller.scrollLeft-this._availableViewport.w;_137a=this.previewContainer.clientWidth+_1379;_135f.set(this.scrollSizer,{width:_137a+"px"});this.previewContainer.scrollLeft=_1379;this._positionChildren(this.get("centerSize"));},_resetScroll:function(){_135f.set(this.scrollSizer,{width:"1px"});},_setupStandby:function(){var _137c=lang.mixin(this.standbySettings,{target:this.scroller});this._standby=new _136a(_137c).placeAt(this.domNode,"last");this._standby.startup();},_getCenterSizeAttr:function(){return this.previewSize||this._contentBox;},_setPreviewSizeAttr:function(size){this.autoResize=!size;this.previewSize=size;_1361.toggle(this.scroller,"epi-editorViewport-preview",!this.autoResize);this.layout();},_setDevicePreviewClassAttr:function(value){if(value){_1361.replace(this.scroller,value,this.devicePreviewClass);}else{_1361.remove(this.scroller,this.devicePreviewClass);}this._set("devicePreviewClass",value);},_setPreviewClassAttr:function(value){if(value){_1361.replace(this.scroller,value,this.previewClass);}else{_1361.remove(this.scroller,this.previewClass);}this._set("previewClass",value);},showDelay:function(delay){this._standby.show(delay);},hideDelay:function(delay){this._standby.hide();}});});},"epi/shell/widget/_AutoResizingIframeMixin":function(){define(["dojo/_base/declare","dojo/_base/Deferred","dojo/dom-attr","dojo/dom-style","dojo/has","epi/shell/postMessage","epi/shell/widget/_ScrollbarMeasurementMixin"],function(_137d,_137e,_137f,_1380,has,_1381,_1382){return _137d([_1382],{onAfterResize:function(size){},postCreate:function(){var self=this;this.inherited(arguments);this.own(_1381.subscribe("/site/resize",function(_1383){self.contentChange();}));},onUnload:function(){this.inherited(arguments);if(this._contentBox){_1380.set(this.iframe,{width:this._contentBox.w+"px",height:this._contentBox.h+"px"});}},contentChange:function(){if(this._contentBox){this.resize(this._contentBox,true);}},resize:function(size,force){var self=this,def=this._resize(size,force);def.then(function(_1384){self.onAfterResize(_1384);});return def;},_resize:function(size,force){var _1385=this._contentBox||{h:0,w:0},self=this,_1386=new _137e(),_1387=new _137e(),_1388;function _1389(_138a,_138b){if(self.resizeThrottle){clearTimeout(self.resizeThrottle);self.resizeThrottle=null;}self.resizeThrottle=setTimeout(function(){_1380.set(self.iframe,{width:(_138a.w-_138b)+"px",height:_138a.h+"px"});_1386.resolve();},50);return _1386;};if(force||(size&&(size.h!==_1385.h||size.w!==_1385.w))){this._contentBox=size;_1388=!this.isInspectable()||has("chrome")?0:this.getScrollbarSize().x;_1389(size,_1388).then(function(){var _138c={h:0,w:0};if(self.isInspectable()){_138c=self._setToDocumentSize(size,_1388);}_1387.resolve(_138c);});}return _1387;},_setToDocumentSize:function(_138d,_138e){var _138f;this.setOverflow("visible");_138f=this._calculateActualSize();_138f.w+=_138e;if(has("ie")<=10){this._removeScrollbars(_138f,_138d);}if(_138f.w>0&&_138f.h>0){_1380.set(this.iframe,{width:_138f.w+"px",height:_138f.h+"px"});}this.setOverflow("hidden");_137f.set(this.iframe,"data-epi-ipad-ping","pong");return _138f;},setOverflow:function(_1390){var doc=this.getDocument();if(doc&&doc.documentElement&&doc.body){_1380.set(doc.documentElement,{overflow:_1390});_1380.set(doc.body,{overflow:_1390});}},_removeScrollbars:function(_1391,_1392){var _1393=this.getScrollbarSize(),_1394=_1391.h>_1392.h,_1395=_1391.w>_1392.w;if(_1394&&!_1395){_1391.w-=_1393.y;}if(_1395&&!_1394){_1391.h-=_1393.x;}return _1391;}});});},"epi/shell/widget/_ScrollbarMeasurementMixin":function(){define(["dojo/_base/declare","dojo/_base/window","dojo/dom-construct","dojo/dom-style"],function(_1396,win,_1397,_1398){var mixin=_1396([],{getScrollbars:function(node){var _1399=this.getScrollbarSize(),root=node.documentElement||node,_139a;function _139b(size,sb){if(root){return {y:root.scrollHeight>root.clientHeight?size.y:sb.y,x:root.scrollWidth>root.clientWidth?size.x:sb.x};}return {x:0,y:0};};function _139c(size){var _139d={x:0,y:0};if(root){_1398.get(root,"overflow-y")==="scroll"?_139d.y=size.y:_139d.y=0;_1398.get(root,"overflow-x")==="scroll"?_139d.x=size.x:_139d.x=0;_1398.get(root,"overflow")==="scroll"?_139d={x:size.x,y:size.y,permanent:true}:_139d.permanent=false;}return _139d;};if(root){_139a=_139c(_1399);return _139a.permanent?_139a:_139b(_1399,_139a);}return {x:0,y:0};},getScrollbarSize:function(){function _139e(){var _139f;try{var _13a0=_1397.create("div",{style:{overflow:"scroll",position:"absolute",top:"-200px",left:"-200px",width:"100px",height:"100px"}},win.body());_139f={x:_13a0.offsetWidth-_13a0.clientWidth,y:_13a0.offsetHeight-_13a0.clientHeight};_1397.destroy(_13a0);}catch(ex){_139f={x:16,y:16};}return _139f;};return mixin._scrollbarSize=mixin._scrollbarSize||_139e();}});return mixin;});},"epi/shell/widget/_DynamicStyleSheetIframeMixin":function(){define(["dojo/_base/declare","epi/shell/DynamicStyleSheet"],function(_13a1,_13a2){return _13a1(null,{cssRules:null,postMixInProperties:function(){this.inherited(arguments);this.cssRules=[];},postCreate:function(){this.inherited(arguments);this.watch("isLoading",this._isLoadingHandler);this._setup();},destroy:function(){this.inherited(arguments);if(this._css){this._css.destroy();}},addCssRules:function(rules){var _13a3=rules instanceof Array;_13a3?this.cssRules=this.cssRules.concat(rules):this.cssRules.push(rules);if(this._css){_13a3?this._css.addRules(rules):this._css.addRule(rules);}},_isLoadingHandler:function(name,_13a4,_13a5){if(_13a5){if(this._css){this._css.destroy();}}else{this._setup();}},_setup:function(){if(this.isInspectable()){this._css=new _13a2({doc:this.getDocument(),rules:this.cssRules});}}});});},"epi/shell/DynamicStyleSheet":function(){define("epi/shell/DynamicStyleSheet",["dojo/_base/array","dojo/_base/declare","dojo/dom-construct"],function(array,_13a6,_13a7){return _13a6(null,{doc:null,_styleSheet:null,_ruleIndexes:null,_addedRules:null,constructor:function(_13a8){if(!_13a8||!_13a8["doc"]){throw new Error("No doc parameter specified");}this._doc=_13a8["doc"];this._addedRules=[];this._ruleIndexes=[];var rules=_13a8["rules"];if(rules&&rules.length>0){this.addRules(rules);}},destroy:function(){delete this._styleSheet;delete this._doc;},addRules:function(rules){var _13a9=[];array.forEach(rules,function(rule){_13a9.push(this.addRule(rule.selector,rule.css));},this);return _13a9;},addRule:function(_13aa,css){var self,_13ab=this._getStyleSheet();function _13ac(_13ad){var _13ae=self._ruleIndexes[_13ad],_13af=self._ruleIndexes.length;if(_13ae===undefined){return;}_13ab.deleteRule?_13ab.deleteRule(_13ae):_13ab.removeRule(_13ae);self._ruleIndexes[_13ad]=undefined;for(var i=_13ad;i<_13af;i++){if(self._ruleIndexes[i]>_13ae){self._ruleIndexes[i]--;}}_13ab=null;};var index=this._ruleIndexes.length;if(_13ab){this._ruleIndexes[index]=(_13ab.cssRules||_13ab.rules).length;_13ab.addRule?_13ab.addRule(_13aa,css):_13ab.insertRule(_13aa+"{"+css+"}",this._ruleIndexes[index]);}return {remove:function(){_13ac(index);}};},_getStyleSheet:function(){if(this._styleSheet){return this._styleSheet;}var _13b0=_13a7.create("style",{type:"text/css"},this._doc.getElementsByTagName("head")[0]);return this._styleSheet=_13b0.sheet||_13b0.styleSheet;}});});},"epi/shell/widget/overlay/OverlayContainer":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/Deferred","dojo/_base/lang","dojo/dom-style","dijit/_Container","dijit/_WidgetBase","dijit/_TemplatedMixin","epi/shell/postMessage"],function(array,_13b1,_13b2,lang,_13b3,_13b4,_13b5,_13b6,_13b7){return _13b1([_13b5,_13b4,_13b6],{updateInterval:250,enabled:false,target:null,targetCoverEnabled:false,templateString:"<div data-dojo-attach-point=\"containerNode\" class=\"epi-overlay-container\"><div data-dojo-attach-point=\"targetCover\" class=\"epi-overlay-targetCover\"></div></div>",_childConnects:null,postMixInProperties:function(){this.inherited(arguments);this._childConnects={};},startup:function(){if(this._started){return;}this.inherited(arguments);this._toggleTargetCover(this.enabled);this.subscribe("/dnd/start",function(){this.set("targetCoverEnabled",true);});this.subscribe("/dnd/cancel",function(){this.set("targetCoverEnabled",false);});this.subscribe("/dnd/drop",function(){this.set("targetCoverEnabled",false);});this.connect(this.target,"onUnload",this.disconnectOverlayItems);this.connect(this.target,"onAfterResize",this._onAfterResizeHandler);},addChild:function(_13b8,_13b9){this.inherited(arguments);_13b8.set("parent",this);_13b8.resize();var _13ba=[];if(_13b8.onResize){_13ba.push(this.connect(_13b8,"onResize",this._onContentChange));}this._childConnects[_13b8.id]=_13ba;},removeChild:function(_13bb){this.inherited(arguments);var _13bc=this._childConnects[_13bb.id];this._childConnects[_13bb.id]=null;delete this._childConnects[_13bb.id];array.forEach(_13bc,function(_13bd){_13bd.remove();});},disconnectOverlayItems:function(){this.set("enabled",false);array.forEach(this.getChildren(),lang.hitch(this,function(_13be){_13be.set("sourceItemNode",null);}));},_setReadOnlyAttr:function(_13bf){this._set("readOnly",_13bf);array.forEach(this.getChildren(),lang.hitch(this,function(_13c0){_13c0.set("readOnly",_13bf);}));},_onAfterResizeHandler:function(_13c1){this.set("documentSize",_13c1);this._updateOverlayItems(true);},_onContentChange:function(){this.target.contentChange();},_updateOverlayItems:function(_13c2){if(!this.get("enabled")||this.isUpdating||!this.target.isInspectable()){return;}var _13c3=4;var _13c4=1;var dirty;var _13c5;this.isUpdating=true;do{dirty=false;array.forEach(this.getChildren(),function(_13c6){var _13c7=_13c6.get("position");_13c5=_13c7.isChanged||_13c5;if(_13c7.isChanged){dirty=_13c6.updatePosition(_13c7)||dirty;}},this);}while(dirty&&_13c4++<_13c3);this.isUpdating=false;if(_13c4>=2||!_13c2&&_13c5){this.target.contentChange();}},_toggleTargetCover:function(_13c8){var _13c9=this.get("documentSize");if(_13c8&&_13c9){_13b3.set(this.targetCover,{width:(_13c9.w)+"px",height:(_13c9.h)+"px"});}_13b3.set(this.targetCover,{display:_13c8?"block":"none"});},_togglePoller:function(_13ca){var self=this;function _13cb(){self._updateOverlayItems();_13b7.publish("/site/checksize",{});if(self.updateInterval>0){self._pollerToken=setTimeout(_13cb,self.updateInterval);}};if(self._pollerToken){clearTimeout(self._pollerToken);}if(_13ca){_13cb();}},_setUpdateIntervalAttr:function(_13cc){this._set("updateInterval",_13cc);this._togglePoller(_13cc>0);},_setEnabledAttr:function(value){this._set("enabled",value);if(value){this._updateOverlayItems();}array.forEach(this.getChildren(),function(w){w.set("disabled",!value);},this);this._togglePoller(value);_13b3.set(this.domNode,{display:value?"":"none"});},_setTargetCoverEnabledAttr:function(value){if(this.targetCoverEnabled===value){return;}this._toggleTargetCover(value);this._set("targetCoverEnabled",value);}});});},"epi/shell/layout/_LayoutWidget":function(){define(["dojo/_base/declare","dijit/layout/_LayoutWidget"],function(_13cd,_13ce){return _13cd([_13ce],{onLayoutChanged:function(){},layout:function(){this.inherited(arguments);this.onLayoutChanged();}});});},"epi/shell/widget/DelayableStandby":function(){define(["dojo/_base/declare","dojo/_base/lang","dojox/widget/Standby"],function(_13cf,lang,_13d0){return _13cf([_13d0],{delayTime:300,showTimeOut:30000,color:"#FFFFFF",_timeoutId:-1,_isShowing:false,show:function(_13d1,_13d2){var _13d3=arguments;this._clearTimeout();this._isShowing=true;if(typeof _13d1!==undefined&&_13d1===0){this.inherited(_13d3);}else{this._timeoutId=setTimeout(lang.hitch(this,function(){var _13d4=_13d2||this.showTimeOut;if(_13d4>=0){this._timeoutId=setTimeout(lang.hitch(this,function(){this.hide();}),_13d4);}this.inherited(_13d3);}),_13d1||this.delayTime);}},hide:function(){this._isShowing=false;this._clearTimeout();this.inherited(arguments);},_clearTimeout:function(){if(this._timeoutId>=0){clearTimeout(this._timeoutId);}},_getIsShowingAttr:function(){return this._isShowing;}});});},"dojox/widget/Standby":function(){define("dojox/widget/Standby",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/array","dojo/_base/event","dojo/_base/sniff","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/window","dojo/_base/window","dojo/_base/fx","dojo/fx","dijit/_Widget","dijit/_TemplatedMixin","dijit/registry"],function(_13d5,_13d6,array,event,has,dom,attr,_13d7,_13d8,_13d9,_13da,_13db,_13dc,fx,_13dd,_13de,_13df){_13d5.experimental("dojox.widget.Standby");return _13d6("dojox.widget.Standby",[_13dd,_13de],{image:require.toUrl("dojox/widget/Standby/images/loading.gif").toString(),imageText:"Please Wait...",text:"Please wait...",centerIndicator:"image",target:"",color:"#C0C0C0",duration:500,zIndex:"auto",opacity:0.75,templateString:"<div>"+"<div style=\"display: none; opacity: 0; z-index: 9999; "+"position: absolute; cursor:wait;\" dojoAttachPoint=\"_underlayNode\"></div>"+"<img src=\"${image}\" style=\"opacity: 0; display: none; z-index: -10000; "+"position: absolute; top: 0px; left: 0px; cursor:wait;\" "+"dojoAttachPoint=\"_imageNode\">"+"<div style=\"opacity: 0; display: none; z-index: -10000; position: absolute; "+"top: 0px;\" dojoAttachPoint=\"_textNode\"></div>"+"</div>",_underlayNode:null,_imageNode:null,_textNode:null,_centerNode:null,_displayed:false,_resizeCheck:null,_started:false,_parent:null,startup:function(args){if(!this._started){if(typeof this.target==="string"){var w=_13df.byId(this.target);this.target=w?w.domNode:dom.byId(this.target);}if(this.text){this._textNode.innerHTML=this.text;}if(this.centerIndicator==="image"){this._centerNode=this._imageNode;attr.set(this._imageNode,"src",this.image);attr.set(this._imageNode,"alt",this.imageText);}else{this._centerNode=this._textNode;}_13d9.set(this._underlayNode,{display:"none",backgroundColor:this.color});_13d9.set(this._centerNode,"display","none");this.connect(this._underlayNode,"onclick","_ignore");if(this.domNode.parentNode&&this.domNode.parentNode!=_13db.body()){_13db.body().appendChild(this.domNode);}if(has("ie")==7){this._ieFixNode=_13d7.create("div");_13d9.set(this._ieFixNode,{opacity:"0",zIndex:"-1000",position:"absolute",top:"-1000px"});_13db.body().appendChild(this._ieFixNode);}this.inherited(arguments);}},show:function(){if(!this._displayed){if(this._anim){this._anim.stop();delete this._anim;}this._displayed=true;this._size();this._disableOverflow();this._fadeIn();}},hide:function(){if(this._displayed){if(this._anim){this._anim.stop();delete this._anim;}this._size();this._fadeOut();this._displayed=false;if(this._resizeCheck!==null){clearInterval(this._resizeCheck);this._resizeCheck=null;}}},isVisible:function(){return this._displayed;},onShow:function(){},onHide:function(){},uninitialize:function(){this._displayed=false;if(this._resizeCheck){clearInterval(this._resizeCheck);}_13d9.set(this._centerNode,"display","none");_13d9.set(this._underlayNode,"display","none");if(has("ie")==7&&this._ieFixNode){_13db.body().removeChild(this._ieFixNode);delete this._ieFixNode;}if(this._anim){this._anim.stop();delete this._anim;}this.target=null;this._imageNode=null;this._textNode=null;this._centerNode=null;this.inherited(arguments);},_size:function(){if(this._displayed){var dir=attr.get(_13db.body(),"dir");if(dir){dir=dir.toLowerCase();}var _13e0;var _13e1=this._scrollerWidths();var _13e2=this.target;var _13e3=_13d9.get(this._centerNode,"display");_13d9.set(this._centerNode,"display","block");var box=_13d8.position(_13e2,true);if(_13e2===_13db.body()||_13e2===_13db.doc){box=_13da.getBox();box.x=box.l;box.y=box.t;}var _13e4=_13d8.getMarginBox(this._centerNode);_13d9.set(this._centerNode,"display",_13e3);if(this._ieFixNode){_13e0=-this._ieFixNode.offsetTop/1000;box.x=Math.floor((box.x+0.9)/_13e0);box.y=Math.floor((box.y+0.9)/_13e0);box.w=Math.floor((box.w+0.9)/_13e0);box.h=Math.floor((box.h+0.9)/_13e0);}var zi=_13d9.get(_13e2,"zIndex");var ziUl=zi;var ziIn=zi;if(this.zIndex==="auto"){if(zi!="auto"){ziUl=parseInt(ziUl,10)+1;ziIn=parseInt(ziIn,10)+2;}else{var cNode=_13e2.parentNode;var oldZi=-100000;while(cNode&&cNode!==_13db.body()){zi=_13d9.get(cNode,"zIndex");if(!zi||zi==="auto"){cNode=cNode.parentNode;}else{var newZi=parseInt(zi,10);if(oldZi<newZi){oldZi=newZi;ziUl=newZi+1;ziIn=newZi+2;}cNode=cNode.parentNode;}}}}else{ziUl=parseInt(this.zIndex,10)+1;ziIn=parseInt(this.zIndex,10)+2;}_13d9.set(this._centerNode,"zIndex",ziIn);_13d9.set(this._underlayNode,"zIndex",ziUl);var pn=_13e2.parentNode;if(pn&&pn!==_13db.body()&&_13e2!==_13db.body()&&_13e2!==_13db.doc){var obh=box.h;var obw=box.w;var pnBox=_13d8.position(pn,true);if(this._ieFixNode){_13e0=-this._ieFixNode.offsetTop/1000;pnBox.x=Math.floor((pnBox.x+0.9)/_13e0);pnBox.y=Math.floor((pnBox.y+0.9)/_13e0);pnBox.w=Math.floor((pnBox.w+0.9)/_13e0);pnBox.h=Math.floor((pnBox.h+0.9)/_13e0);}pnBox.w-=pn.scrollHeight>pn.clientHeight&&pn.clientHeight>0?_13e1.v:0;pnBox.h-=pn.scrollWidth>pn.clientWidth&&pn.clientWidth>0?_13e1.h:0;if(dir==="rtl"){if(has("opera")){box.x+=pn.scrollHeight>pn.clientHeight&&pn.clientHeight>0?_13e1.v:0;pnBox.x+=pn.scrollHeight>pn.clientHeight&&pn.clientHeight>0?_13e1.v:0;}else{if(has("ie")){pnBox.x+=pn.scrollHeight>pn.clientHeight&&pn.clientHeight>0?_13e1.v:0;}else{if(has("webkit")){}}}}if(pnBox.w<box.w){box.w=box.w-pnBox.w;}if(pnBox.h<box.h){box.h=box.h-pnBox.h;}var vpTop=pnBox.y;var _13e5=pnBox.y+pnBox.h;var bTop=box.y;var _13e6=box.y+obh;var _13e7=pnBox.x;var _13e8=pnBox.x+pnBox.w;var bLeft=box.x;var _13e9=box.x+obw;var delta;if(_13e6>vpTop&&bTop<vpTop){box.y=pnBox.y;delta=vpTop-bTop;var _13ea=obh-delta;if(_13ea<pnBox.h){box.h=_13ea;}else{box.h-=2*(pn.scrollWidth>pn.clientWidth&&pn.clientWidth>0?_13e1.h:0);}}else{if(bTop<_13e5&&_13e6>_13e5){box.h=_13e5-bTop;}else{if(_13e6<=vpTop||bTop>=_13e5){box.h=0;}}}if(_13e9>_13e7&&bLeft<_13e7){box.x=pnBox.x;delta=_13e7-bLeft;var _13eb=obw-delta;if(_13eb<pnBox.w){box.w=_13eb;}else{box.w-=2*(pn.scrollHeight>pn.clientHeight&&pn.clientHeight>0?_13e1.w:0);}}else{if(bLeft<_13e8&&_13e9>_13e8){box.w=_13e8-bLeft;}else{if(_13e9<=_13e7||bLeft>=_13e8){box.w=0;}}}}if(box.h>0&&box.w>0){_13d9.set(this._underlayNode,{display:"block",width:box.w+"px",height:box.h+"px",top:box.y+"px",left:box.x+"px"});var _13ec=["borderRadius","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"];this._cloneStyles(_13ec);if(!has("ie")){_13ec=["MozBorderRadius","MozBorderRadiusTopleft","MozBorderRadiusTopright","MozBorderRadiusBottomleft","MozBorderRadiusBottomright","WebkitBorderRadius","WebkitBorderTopLeftRadius","WebkitBorderTopRightRadius","WebkitBorderBottomLeftRadius","WebkitBorderBottomRightRadius"];this._cloneStyles(_13ec,this);}var _13ed=(box.h/2)-(_13e4.h/2);var _13ee=(box.w/2)-(_13e4.w/2);if(box.h>=_13e4.h&&box.w>=_13e4.w){_13d9.set(this._centerNode,{top:(_13ed+box.y)+"px",left:(_13ee+box.x)+"px",display:"block"});}else{_13d9.set(this._centerNode,"display","none");}}else{_13d9.set(this._underlayNode,"display","none");_13d9.set(this._centerNode,"display","none");}if(this._resizeCheck===null){var self=this;this._resizeCheck=setInterval(function(){self._size();},100);}}},_cloneStyles:function(list){array.forEach(list,function(s){_13d9.set(this._underlayNode,s,_13d9.get(this.target,s));},this);},_fadeIn:function(){var self=this;var _13ef=_13dc.animateProperty({duration:self.duration,node:self._underlayNode,properties:{opacity:{start:0,end:self.opacity}}});var _13f0=_13dc.animateProperty({duration:self.duration,node:self._centerNode,properties:{opacity:{start:0,end:1}},onEnd:function(){self.onShow();delete self._anim;}});this._anim=fx.combine([_13ef,_13f0]);this._anim.play();},_fadeOut:function(){var self=this;var _13f1=_13dc.animateProperty({duration:self.duration,node:self._underlayNode,properties:{opacity:{start:self.opacity,end:0}},onEnd:function(){_13d9.set(this.node,{"display":"none","zIndex":"-1000"});}});var _13f2=_13dc.animateProperty({duration:self.duration,node:self._centerNode,properties:{opacity:{start:1,end:0}},onEnd:function(){_13d9.set(this.node,{"display":"none","zIndex":"-1000"});self.onHide();self._enableOverflow();delete self._anim;}});this._anim=fx.combine([_13f1,_13f2]);this._anim.play();},_ignore:function(e){if(e){event.stop(e);}},_scrollerWidths:function(){var div=_13d7.create("div");_13d9.set(div,{position:"absolute",opacity:0,overflow:"hidden",width:"50px",height:"50px",zIndex:"-100",top:"-200px",padding:"0px",margin:"0px"});var iDiv=_13d7.create("div");_13d9.set(iDiv,{width:"200px",height:"10px"});div.appendChild(iDiv);_13db.body().appendChild(div);var b=_13d8.getContentBox(div);_13d9.set(div,"overflow","scroll");var a=_13d8.getContentBox(div);_13db.body().removeChild(div);return {v:b.w-a.w,h:b.h-a.h};},_setTextAttr:function(text){this._textNode.innerHTML=text;this.text=text;},_setColorAttr:function(c){_13d9.set(this._underlayNode,"backgroundColor",c);this.color=c;},_setImageTextAttr:function(text){attr.set(this._imageNode,"alt",text);this.imageText=text;},_setImageAttr:function(url){attr.set(this._imageNode,"src",url);this.image=url;},_setCenterIndicatorAttr:function(_13f3){this.centerIndicator=_13f3;if(_13f3==="image"){this._centerNode=this._imageNode;_13d9.set(this._textNode,"display","none");}else{this._centerNode=this._textNode;_13d9.set(this._imageNode,"display","none");}},_disableOverflow:function(){if(this.target===_13db.body()||this.target===_13db.doc){this._overflowDisabled=true;var body=_13db.body();if(body.style&&body.style.overflow){this._oldOverflow=_13d9.get(body,"overflow");}else{this._oldOverflow="";}if(has("ie")&&!has("quirks")){if(body.parentNode&&body.parentNode.style&&body.parentNode.style.overflow){this._oldBodyParentOverflow=body.parentNode.style.overflow;}else{try{this._oldBodyParentOverflow=_13d9.get(body.parentNode,"overflow");}catch(e){this._oldBodyParentOverflow="scroll";}}_13d9.set(body.parentNode,"overflow","hidden");}_13d9.set(body,"overflow","hidden");}},_enableOverflow:function(){if(this._overflowDisabled){delete this._overflowDisabled;var body=_13db.body();if(has("ie")&&!has("quirks")){body.parentNode.style.overflow=this._oldBodyParentOverflow;delete this._oldBodyParentOverflow;}_13d9.set(body,"overflow",this._oldOverflow);if(has("webkit")){var div=_13d7.create("div",{style:{height:"2px"}});body.appendChild(div);setTimeout(function(){body.removeChild(div);},0);}delete this._oldOverflow;}}});});},"url:epi/shell/widget/templates/IframeWithOverlay.html":"<div data-dojo-attach-point=\"containerNode\" class=\"epi-editorViewport\">\r\n    <div data-dojo-attach-point=\"scroller\" class=\"epi-editorViewport-center\">\r\n        <div data-dojo-attach-point=\"previewContainer\" class=\"epi-editorViewport-previewBox\"  data-dojo-props=\"region: 'center'\">\r\n            <iframe data-dojo-attach-point=\"iframe\" data-dojo-type=\"epi/local/AutoResizingIframe\" data-dojo-props=\"autoFit : false\"></iframe>\r\n            <div data-dojo-attach-point=\"overlay\" data-dojo-type=\"epi/shell/widget/overlay/OverlayContainer\"></div>\r\n            <div data-dojo-attach-point=\"scrollSizer\" class=\"epi-editorViewport-scrollSizer\"></div>\r\n        </div>\r\n    </div>\r\n</div>","epi/shell/widget/LabeledInput":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-attr","dijit/_Widget","dijit/_TemplatedMixin","dojo/text!./templates/_LabeledInput_Top.htm","dojo/text!./templates/_LabeledInput_Bottom.htm","dojo/text!./templates/_LabeledInput_Left.htm","dojo/text!./templates/_LabeledInput_Right.htm"],function(_13f4,lang,_13f5,_13f6,_13f7,_13f8,_13f9,_13fa,_13fb){return _13f4([_13f6,_13f7],{templateString:null,postMixInProperties:function(){var _13fc=this.params.labelPos;switch(_13fc){case 2:this.templateString=_13f9;break;case 3:this.templateString=_13fa;break;case 4:this.templateString=_13fb;break;default:this.templateString=_13f8;break;}},postCreate:function(){var _13fd=this.params;if(_13fd.wrappedDojoType){var _13fe=_13fd.wrappedDojoType;var _13ff=_13fd.label;delete _13fd.wrappedDojoType;delete _13fd.labelPos;require([_13fe],lang.hitch(this,function(ctor){var _1400=new ctor(_13fd,this.input);_13f5.set(this.label,"for",_1400.id);}));this.label.innerHTML=_13ff;}}});});},"url:epi/shell/widget/templates/_LabeledInput_Top.htm":"<div>\r\n\t<div class=\"editor-label\" dojoAttachPoint=\"labelContainer\">\r\n\t\t<label dojoAttachPoint=\"label\"></label>\r\n\t</div>\r\n\t<div class=\"editor-field\" dojoAttachPoint=\"inputContainer\">\r\n\t\t<div dojoAttachPoint=\"input\"></div>\r\n\t</div>\r\n</div>\r\n","url:epi/shell/widget/templates/_LabeledInput_Bottom.htm":"<div>\r\n\t<div class=\"editor-field\" dojoAttachPoint=\"inputContainer\">\r\n\t\t<div dojoAttachPoint=\"input\"></div>\r\n\t</div>\r\n\t<div class=\"editor-label\" dojoAttachPoint=\"labelContainer\">\r\n\t\t<label dojoAttachPoint=\"label\"></label>\r\n\t</div>\r\n</div>\r\n","url:epi/shell/widget/templates/_LabeledInput_Left.htm":"<div>\r\n\t<div class=\"editor-label\" style=\"float:left;\" dojoAttachPoint=\"labelContainer\">\r\n\t\t<label dojoAttachPoint=\"label\"></label>\r\n\t</div>\r\n\t<div class=\"editor-field\" dojoAttachPoint=\"inputContainer\">\r\n\t\t<div dojoAttachPoint=\"input\"></div>\r\n\t</div>\r\n\t<div style=\"clear: both;\"></div>\r\n</div>\r\n","url:epi/shell/widget/templates/_LabeledInput_Right.htm":"<div>\r\n\t<div class=\"editor-label\" style=\"float: right;\" dojoAttachPoint=\"labelContainer\">\r\n\t\t<label dojoAttachPoint=\"label\"></label>\r\n\t</div>\r\n\t<div class=\"editor-field\" dojoAttachPoint=\"inputContainer\">\r\n\t\t<div dojoAttachPoint=\"input\"></div>\r\n\t</div>\r\n\t<div style=\"clear: both;\"></div>\r\n</div>\r\n","epi/shell/widget/LicenseInformation":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-construct","dojo/dom-style","dojo/topic","dojo/when","dijit/_WidgetBase","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/form/Button","epi/dependency","dojo/text!./templates/LicenseInformation.html","epi/i18n!epi/shell/ui/nls/episerver.shell.ui.resources.licenseinformation"],function(_1401,lang,_1402,_1403,topic,when,_1404,_1405,_1406,_1407,_1408,_1409,_140a){return _1401([_1404,_1405,_1406],{templateString:_1409,licenseInformationStore:null,_res:_140a,postMixInProperties:function(){this.inherited(arguments);var _140b=_1408.resolve("epi.storeregistry");this.licenseInformationStore=this.licenseInformationStore||_140b.get("epi.shell.licenseinformation");},buildRendering:function(){this.inherited(arguments);this.set("visible",false);when(this.licenseInformationStore.get(),lang.hitch(this,this._bindInformation));},_setVisibleAttr:function(_140c){_1403.set(this.domNode,"display",_140c?"":"none");},_onRefreshButtonClick:function(){when(this.licenseInformationStore.refresh("1"),lang.hitch(this,this._bindInformation));},_bindInformation:function(_140d){if(!_140d||_140d.isValid){this.set("visible",false);}else{this.set("visible",true);this.mainInfoNode.innerHTML=_140d.message;this.additionalInfoNode.innerHTML=_140d.additionalInformation;}topic.publish("/epi/shell/globalnavigation/layoutchange");}});});},"url:epi/shell/widget/templates/LicenseInformation.html":"<div class=\"epi-notificationBar epi-status-bar--error\">\r\n    <div class=\"epi-notificationBarItem\">\r\n        <div class=\"epi-notificationBarText\">\r\n            <p><strong data-dojo-attach-point=\"mainInfoNode\"></strong></p>\r\n            <p data-dojo-attach-point=\"additionalInfoNode\"></p>\r\n        </div>\r\n        <div class=\"epi-notificationBarButtonContainer\">\r\n            <button data-dojo-type=\"dijit/form/Button\" class=\"epi-chromelessButton\" data-dojo-attach-event=\"onClick: _onRefreshButtonClick\">${_res.refresh}</button>\r\n        </div>\r\n    </div>\r\n</div>","epi/shell/widget/MenuGroup":function(){define(["dojo","dijit/MenuSeparator","dojo/text!./templates/MenuGroup.htm"],function(dojo,_140e,_140f){return dojo.declare([_140e],{templateString:_140f,label:"",_setLabelAttr:{node:"containerNode",type:"innerHTML"}});});},"url:epi/shell/widget/templates/MenuGroup.htm":"<li class=\"epi-menugGoup\">\r\n    <span data-dojo-attach-point=\"containerNode\"></span>\r\n</li>","epi/shell/widget/overlay/_Base":function(){define(["dojo/_base/declare","dojo/dom-geometry","dojo/dom-construct","dojo/dom-style","dojo/has","dijit/_Widget"],function(_1410,_1411,_1412,_1413,has,_1414){return _1410([_1414],{disabled:false,sourceItemNode:null,position:null,parent:null,adjustForMargins:true,onResize:function(){},destroy:function(){this.sourceItemNode=null;this.parent=null;this.inherited(arguments);},refresh:function(){this._reset();this.resize();this.onResize();},resize:function(size){size=size||this.get("position");this.updatePosition(size);},updatePosition:function(_1415){if(!this.canUpdatePosition()){return false;}_1413.set(this.domNode,{left:_1415.x+"px",top:_1415.y+"px",width:_1415.w+"px",height:_1415.h+"px"});return false;},_getPositionAttr:function(){if(!this.canUpdatePosition()){return {x:0,y:0,w:0,h:0};}var _1416=_1411.position(this.sourceItemNode,false),_1417=this._rawPosition,_1418,_1419,_141a;if(_1417){if(has("ie")){_1418=Math.abs((_1417.x-_1416.x))>1||Math.abs((_1417.y-_1416.y))>1||Math.abs((_1417.w-_1416.w))>1||Math.abs((_1417.h-_1416.h))>1;}else{_1418=_1417.x!==_1416.x||_1417.y!==_1416.y||_1417.w!==_1416.w||_1417.h!==_1416.h;}if(!_1418){this.position.isChanged=false;return this.position;}}this._rawPosition={x:_1416.x,y:_1416.y,w:_1416.w,h:_1416.h};if(this.adjustForMargins){_1419=_1413.getComputedStyle(this.sourceItemNode);if(_1419){_141a=_1411.getMarginExtents(this.sourceItemNode,_1419);if(_141a.l<0){_1416.x-=_141a.l;_1416.w+=_141a.l;}if(_141a.r<0){_1416.w-=_141a.r;}if(_141a.t<0){_1416.x-=_141a.t;_1416.h+=_141a.t;}if(_141a.b<0){_1416.h-=_141a.b;}}}_1416.isChanged=true;this.set("position",_1416);return _1416;},_reset:function(){this._clearPosition();},_clearPosition:function(){this.position=this._rawPosition=null;},_setDisabledAttr:function(_141b){this._set("disabled",_141b);_1413.set(this.domNode,{display:_141b?"none":""});},_setSourceItemNodeAttr:function(value){this._clearPosition();this._set("sourceItemNode",value);},canUpdatePosition:function(){if(this.disabled){return false;}try{if(!this.sourceItemNode||!this.sourceItemNode.ownerDocument){return false;}}catch(ex){return false;}return true;}});});},"epi/shell/widget/overlay/Item":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/dom-class","dojo/dom-style","dojo/mouse","dojo/on","dojo/when","dijit/_CssStateMixin","dijit/_TemplatedMixin","./_Base","epi/shell/dnd/Target"],function(array,_141c,lang,_141d,_141e,mouse,on,when,_141f,_1420,_1421,_1422){return _141c([_1421,_1420,_141f],{baseClass:"epi-overlay-item",name:"",_setDisplayNameAttr:function(value){if(this.informationNode){this.informationNode.textContent=value;}},templateString:"<div data-dojo-attach-point=\"item\">                            <div data-dojo-attach-point=\"containerNode\" class=\"epi-overlay-item-container\">                                <span data-dojo-attach-point=\"informationNode\" class=\"epi-overlay-item-info\"></span>                                <div class=\"epi-overlay-bracket\"></div>                            </div>                        </div>",allowedDndTypes:null,error:false,childItems:null,parent:null,onClick:function(_1423,e){},onDrop:function(_1424,_1425){},onMouseEnter:function(e){},onMouseLeave:function(e){},constructor:function(){this.childItems=[];},postCreate:function(){this.inherited(arguments);this.own(on(this.domNode,"click",lang.hitch(this,function(e){this.onClick(this,e);})),on(this.domNode,mouse.enter,lang.hitch(this,this.onMouseEnter)),on(this.domNode,mouse.leave,lang.hitch(this,this.onMouseLeave)));this.transferDndControlTo(this);},destroy:function(){if(this.parent&&this.parent.removeChild){this.parent.removeChild(this);}for(var i=0;i<this.childItems.length;i++){this.childItems[i].destroyRecursive();}this.childItems=null;if(this._dropTarget){this._dropTarget.destroy();this._dropTarget=null;}this.inherited(arguments);},resize:function(size){this.inherited(arguments);if(this.childItems){array.forEach(this.childItems,function(item,i){item.resize();});}},updatePosition:function(_1426){var node=this.informationNode;if(node){var _1427=_141e.get(node,"minHeight");_141d.toggle(node,"epi-overlay-item-info--inside",_1426.y<_1427);}return this.inherited(arguments);},transferDndControlTo:function(_1428){var _1429=_1428.allowedDndTypes,_142a=_1428.onDropData,_142b=_1428;if(!this._dropTarget){this._setupDnd(_142b,_1429,_142a);}else{var types=_1429;this._dropTarget.accept={};if(types){types.forEach(function(type){this._dropTarget.accept[type]=1;},this);}}},onDropData:function(_142c,_142d,items,copy){var _142e;if(_142c.length>1){_142e=_142c.data;}else{if(_142c.length===1){_142e=_142c[0].data;}}when(_142e,lang.hitch(this,function(_142f){var value;if(this.dndSourcePropertyName){value=_142f[this.dndSourcePropertyName];}else{value=_142f;}this.onDrop(this,value);}));},_setupDnd:function(_1430,_1431,_1432){if(_1431){this._dropTarget=new _1422(this.domNode,{accept:_1431,createItemOnDrop:false});this._dropDataHandler=this.connect(this._dropTarget,"onDropData",lang.hitch(_1430,_1432));this.own(this._dropTarget,this._dropDataHandler);}},_setReadOnlyAttr:function(_1433){this._set("readOnly",_1433);if(this._dropTarget){this._dropTarget.readOnly=_1433;}},_setErrorAttr:function(value){this.set("state",value?"Error":"");this._set("error",value);}});});},"epi/shell/widget/PropagatingContainer":function(){define(["epi","dojo","dijit","dijit/_Widget","dijit/_Container","dijit/_Contained"],function(epi,dojo,dijit,_1434,_1435,_1436){return dojo.declare([_1434,_1435,_1436],{buildRendering:function(){this.inherited(arguments);dojo.addClass(this.domNode,"dijitContainer");},set:function(_1437,value){this.inherited(arguments);dojo.forEach(this.getChildren(),function(child){child.set(_1437,value);});}});});},"epi/shell/widget/SpaceToolbarSeparator":function(){define(["epi","dojo","dijit","dijit/ToolbarSeparator"],function(epi,dojo,dijit,_1438){return dojo.declare([_1438],{templateString:"<div class=\"epi-spaceToolbarSeparator dijitInline\" role=\"presentation\"></div>"});});},"epi/shell/widget/TabContainer":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/Deferred","dojo/_base/lang","dojo/aspect","dojo/dom-class","dijit/layout/ContentPane","dijit/layout/TabContainer","dijit/registry","epi/dependency","epi/shell/widget/layout/ComponentContainer","epi/shell/widget/dialog/Confirmation","epi/shell/widget/TabController","epi/shell/widget/dialog/Alert","epi/shell/widget/_ActionConsumerWidget","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.TabContainer"],function(array,_1439,_143a,lang,_143b,_143c,_143d,_143e,_143f,_1440,_1441,_1442,_1443,Alert,_1444,res){return _1439([_143e,_1444],{controllerWidget:_1443,_selectedPage:null,_componentsController:null,res:res,confirmationBeforeRemoval:true,startup:function(){if(this._started){return;}this.inherited(arguments);this.connect(this.tablist,"onLayoutChanged",this._changeLayout);this.connect(this.tablist,"onTabTitleChanged",this._changeName);this.connect(this.tablist,"onAddNewTab",this._createTab);this._componentsController=_1440.resolve("epi.shell.controller.Components");if(this.getChildren().length<=0){this._createTab();}},postCreate:function(){this.inherited(arguments);_143c.add(this.domNode,"epi-mainApplicationArea");},_makeController:function(){var _1445=this.inherited(arguments);this.connect(_1445,"onSelectChild",this._pageSelected);var _1446=[{label:this.res.addgadget,onClick:lang.hitch(this,this._showComponentDialog)},{label:this.res.createtab,onClick:lang.hitch(this,this._createTab)},{label:this.res.rearrangegadget,onChange:lang.hitch(this,this._rearrangeGadgets),type:"checkedmenuitem",checked:false,rearrangeGadgets:function(_1447){this.set("checked",_1447);}}];array.forEach(_1446,_1445.addAddMenuItem,_1445);return _1445;},_rearrangeGadgets:function(_1448){if(this._selectedPage){this._selectedPage.changeLockButtonState(_1448);}},_showComponentDialog:function(){if(this._selectedPage){this._selectedPage.showComponentSelector();}},_componentSelected:function(){var _1449=this._selectedPage;_1449.addComponent.apply(_1449,arguments);},_pageSelected:function(page){this._selectedPage=page;},_createTab:function(){var _144a=this._componentsController.getComponentDefinition(this.id);this._componentsController.getEmptyComponentDefinition("EPiServer.Shell.ViewComposition.Containers.ComponentContainer",lang.hitch(this,function(_144b){var comp=_144b[0];comp.settings.numberOfColumns=2;comp.settings.containerUnlocked=true;comp.settings.closable=true;this._componentsController.addComponent(this,comp,lang.hitch(this,function(resp){var _144c=this.getChildren();this.selectChild(_144c[_144c.length-1]);}));}));},_changeName:function(page,value){if(this._isEmpty(value)){this._showMessageDialog(this.res.tabnamecannotbeemptymessage).then(function(_144d){if(_144d){page.controlButton.tabName.innerHTML=page.controlButton.tabCurrentName;page.controlButton._setTabTitleEditable(true);}});}else{var _144e=String(page.title);var item=this._componentsController.getComponentDefinition(page.id);page.title=value;page.tabCurrentName=value;if(item!=null){item.settings.personalizableHeading=value;this._componentsController.saveComponent(item,function(){},lang.hitch(this,function(){this._showMessageDialog(this.res.tabnamecouldnotbesaved).then(function(_144f){if(_144f){page.set("title",_144e);page.set("tabCurrentName",_144e);page.controlButton.revertTabTitleChanges(true,_144e,value);}});}));}else{}}},_getNumberOfColumns:function(evt){if(!evt||!evt.target){return 1;}var _1450=_143f.getEnclosingWidget(evt.target);if(!_1450||!_1450.label){return 1;}return lang.trim(_1450.label).substr(0,1);},_changeLayout:function(page,evt){var _1451=this._getNumberOfColumns(evt),item=null;if(typeof page.setColumns=="function"){page.setColumns(_1451);}item=this._componentsController.getComponentDefinition(page.id);if(item!=null){item.settings.numberOfColumns=_1451;this._componentsController.saveComponent(item);}else{}},closeChild:function(page){if(this.getChildren().length==1){return;}if(!this.confirmationBeforeRemoval){this.inherited(arguments);this._removeTab(page);}else{return this._showRemovalConfirmationDialog(lang.hitch(this,function(close){if(close){_143e.prototype.closeChild.apply(this,[page]);this._removeTab(page);}}));}},_removeTab:function(page){var item=this._componentsController.getComponentDefinition(page.id);this._componentsController.removeComponent(item.id);var _1452=this.getChildren().length;if(_1452==1){for(var _1453 in this.tablist.pane2button){this.tablist.pane2button[_1453].closeTabMenuItem.set("disabled",true);}}},_showRemovalConfirmationDialog:function(_1454){var _1455=new _1442({description:this.res.removetabquestion,title:epi.resources.header.episerver,onAction:_1454});_1455.show();},_showMessageDialog:function(_1456){var _1457=new _143a();var _1458=new Alert({description:_1456});_1458.show();_143b.after(_1458,"destroy",function(){_1457.resolve(true);});return _1457;},_isEmpty:function(_1459){return (lang.trim(_1459)===""?true:false);}});});},"epi/shell/widget/TabController":function(){define(["dojo/dom-style","dojo/dom-geometry","dojo/_base/array","dijit/layout/ScrollingTabController","dijit/layout/StackController","dijit/form/DropDownButton","dijit/form/TextBox","dijit/CheckedMenuItem","dijit/InlineEditBox","dijit/Menu","dijit/MenuItem","dijit/PopupMenuItem","dijit/MenuSeparator","epi/shell/widget/_TabButton","dojo/text!./templates/_TabController.htm","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.GadgetChrome"],function(_145a,_145b,array,_145c,_145d,_145e,_145f,_1460,_1461,Menu,_1462,_1463,_1464,_1465,_1466,res){return dojo.declare(_145c,{buttonWidget:_1465,res:res,useAddMenu:true,templateString:_1466,onAddChild:function(page,_1467){this.inherited(arguments);this.connect(page.controlButton,"onClick",dojo.hitch(this,"onButtonClick",page));this.connect(page.controlButton,"onClickCloseButton",dojo.hitch(this,"onCloseButtonClick",page));this.connect(page.controlButton,"onCloseMenuItem",dojo.hitch(this,"onCloseButtonClick",page));this.connect(page.controlButton,"onLayoutClick",dojo.hitch(this,"onLayoutChanged",page));this.connect(page.controlButton,"onTabTitleChanged",dojo.hitch(this,"onTabTitleChanged",page));if(!this.isLeftToRight()&&dojo.isIE&&this._rectifyRtlTabList){this._rectifyRtlTabList();}var _1468;if(this.useMenu){var _1469=this.containerId;_1468=new _1462({id:page.id+"_stcMi",label:page.title,dir:page.dir,lang:page.lang,onClick:dojo.hitch(this,function(){var _146a=dijit.byId(_1469);_146a.selectChild(page);})});this._menuChildren[page.id]=_1468;this._menu.addChild(_1468,_1467);}dojo.style(this.containerNode,"width",(dojo.style(this.containerNode,"width")+200)+"px");var _146b=page.params.numberOfColumns||1;var _146c=page.controlButton.menuLayout.getChildren()[_146b-1];_146c&&_146c.set("checked",true);var _146d=this.getChildren().length;for(var _146e in this.pane2button){this.pane2button[_146e].closeTabMenuItem.set("disabled",(_146d==1?true:false));}},_initButtons:function(){this._menuChildren={};this._btnWidth=0;this._buttons=dojo.query("> .tabStripButton",this.domNode).filter(function(btn){if((this.useMenu&&btn==this._menuBtn.domNode)||(this.useAddMenu&&btn==this._addBtn.domNode)||(this.useSlider&&(btn==this._rightBtn.domNode||btn==this._leftBtn.domNode))){this._btnWidth+=dojo.marginBox(btn).w;return true;}else{dojo.style(btn,"display","none");return false;}},this);if(this.useMenu){this._menu=new Menu({id:this.id+"_menu",dir:this.dir,lang:this.lang,targetNodeIds:[this._menuBtn.domNode],leftClickToOpen:true,refocus:false});this._supportingWidgets.push(this._menu);}dojo.style(this._addBtn.domNode,"display",this.useAddMenu?"":"none");},addAddMenuItem:function(_146f){if(!this.useAddMenu){return;}var _1470=null;if(_146f.type&&_146f.type==="checkedmenuitem"){_1470=new _1460(_146f);}else{_1470=new _1462(_146f);}if(_1470){this._addMenu.addChild(_1470);}},resize:function(dim){if(this.domNode.offsetWidth===0){return;}this._dim=dim;this.scrollNode.style.height="auto";this._contentBox=dijit.layout.marginBox2contentBox(this.domNode,{h:0,w:dim.w});this._contentBox.h=this.scrollNode.offsetHeight;dojo.contentBox(this.domNode,this._contentBox);var _1471=this._enableBtn(this._contentBox.w);this._buttons.style("display",_1471?"":"none");this._leftBtn.layoutAlign="left";this._rightBtn.layoutAlign="right";this._menuBtn.layoutAlign=this.isLeftToRight()?"right":"left";this._addBtn.layoutAlign=this.isLeftToRight()?"right":"left";dijit.layout.layoutChildren(this.domNode,this._contentBox,[this._addBtn,this._menuBtn,this._leftBtn,this._rightBtn,{domNode:this.scrollNode,layoutAlign:"client"}]);if(this._selectedTab){if(this._anim&&this._anim.status()=="playing"){this._anim.stop();}var w=this.scrollNode,sl=this._convertToScrollLeft(this._getScrollForSelectedTab());w.scrollLeft=sl;}this._setButtonClass(this._getScroll());_145a.set(this._toolbar.domNode,"height",_145b.position(this.domNode).h+"px");this._postResize=true;},onSelectChild:function(page){if(!page){return;}if(this._currentChild){this.pane2button[this._currentChild.id].toggleMenu(false);}this.pane2button[page.id].toggleMenu(true);array.some(this._addMenu.getChildren(),function(menu){if(menu.rearrangeGadgets){menu.rearrangeGadgets(page.containerUnlocked);return;}});this.inherited(arguments);},onLayoutChanged:function(page,evt){},onTabTitleChanged:function(page,value){},onAddGadget:function(evt){}});});},"dijit/InlineEditBox":function(){require({cache:{"url:dijit/templates/InlineEditBox.html":"<span data-dojo-attach-point=\"editNode\" role=\"presentation\" class=\"dijitReset dijitInline dijitOffScreen\"\n\tdata-dojo-attach-event=\"onkeypress: _onKeyPress\"\n\t><span data-dojo-attach-point=\"editorPlaceholder\"></span\n\t><span data-dojo-attach-point=\"buttonContainer\"\n\t\t><button data-dojo-type=\"dijit/form/Button\" data-dojo-props=\"label: '${buttonSave}', 'class': 'saveButton'\"\n\t\t\tdata-dojo-attach-point=\"saveButton\" data-dojo-attach-event=\"onClick:save\"></button\n\t\t><button data-dojo-type=\"dijit/form/Button\"  data-dojo-props=\"label: '${buttonCancel}', 'class': 'cancelButton'\"\n\t\t\tdata-dojo-attach-point=\"cancelButton\" data-dojo-attach-event=\"onClick:cancel\"></button\n\t></span\n></span>\n"}});define("dijit/InlineEditBox",["require","dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dojo/_base/event","dojo/i18n","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/sniff","dojo/when","./focus","./_Widget","./_TemplatedMixin","./_WidgetsInTemplateMixin","./_Container","./form/Button","./form/_TextBoxMixin","./form/TextBox","dojo/text!./templates/InlineEditBox.html","dojo/i18n!./nls/common"],function(_1472,array,_1473,_1474,_1475,_1476,_1477,event,i18n,_1478,keys,lang,has,when,fm,_1479,_147a,_147b,_147c,_147d,_147e,_147f,_1480){var _1481=_1473("dijit._InlineEditor",[_1479,_147a,_147b],{templateString:_1480,postMixInProperties:function(){this.inherited(arguments);this.messages=i18n.getLocalization("dijit","common",this.lang);array.forEach(["buttonSave","buttonCancel"],function(prop){if(!this[prop]){this[prop]=this.messages[prop];}},this);},buildRendering:function(){this.inherited(arguments);var Cls=typeof this.editor=="string"?(lang.getObject(this.editor)||_1472(this.editor)):this.editor;var _1482=this.sourceStyle,_1483="line-height:"+_1482.lineHeight+";",_1484=_1477.getComputedStyle(this.domNode);array.forEach(["Weight","Family","Size","Style"],function(prop){var _1485=_1482["font"+prop],_1486=_1484["font"+prop];if(_1486!=_1485){_1483+="font-"+prop+":"+_1482["font"+prop]+";";}},this);array.forEach(["marginTop","marginBottom","marginLeft","marginRight","position","left","top","right","bottom","float","clear","display"],function(prop){this.domNode.style[prop]=_1482[prop];},this);var width=this.inlineEditBox.width;if(width=="100%"){_1483+="width:100%;";this.domNode.style.display="block";}else{_1483+="width:"+(width+(Number(width)==width?"px":""))+";";}var _1487=lang.delegate(this.inlineEditBox.editorParams,{style:_1483,dir:this.dir,lang:this.lang,textDir:this.textDir});_1487["displayedValue" in Cls.prototype?"displayedValue":"value"]=this.value;this.editWidget=new Cls(_1487,this.editorPlaceholder);if(this.inlineEditBox.autoSave){_1476.destroy(this.buttonContainer);}},postCreate:function(){this.inherited(arguments);var ew=this.editWidget;if(this.inlineEditBox.autoSave){this.connect(ew,"onChange","_onChange");this.connect(ew,"onKeyPress","_onKeyPress");}else{if("intermediateChanges" in ew){ew.set("intermediateChanges",true);this.connect(ew,"onChange","_onIntermediateChange");this.saveButton.set("disabled",true);}}},startup:function(){this.editWidget.startup();this.inherited(arguments);},_onIntermediateChange:function(){this.saveButton.set("disabled",(this.getValue()==this._resetValue)||!this.enableSave());},destroy:function(){this.editWidget.destroy(true);this.inherited(arguments);},getValue:function(){var ew=this.editWidget;return String(ew.get("displayedValue" in ew?"displayedValue":"value"));},_onKeyPress:function(e){if(this.inlineEditBox.autoSave&&this.inlineEditBox.editing){if(e.altKey||e.ctrlKey){return;}if(e.charOrCode==keys.ESCAPE){event.stop(e);this.cancel(true);}else{if(e.charOrCode==keys.ENTER&&e.target.tagName=="INPUT"){event.stop(e);this._onChange();}}}},_onBlur:function(){this.inherited(arguments);if(this.inlineEditBox.autoSave&&this.inlineEditBox.editing){if(this.getValue()==this._resetValue){this.cancel(false);}else{if(this.enableSave()){this.save(false);}}}},_onChange:function(){if(this.inlineEditBox.autoSave&&this.inlineEditBox.editing&&this.enableSave()){fm.focus(this.inlineEditBox.displayNode);}},enableSave:function(){return this.editWidget.isValid?this.editWidget.isValid():true;},focus:function(){this.editWidget.focus();if(this.editWidget.focusNode){fm._onFocusNode(this.editWidget.focusNode);if(this.editWidget.focusNode.tagName=="INPUT"){this.defer(function(){_147e.selectInputText(this.editWidget.focusNode);});}}}});var _1488=_1473("dijit.InlineEditBox",_1479,{editing:false,autoSave:true,buttonSave:"",buttonCancel:"",renderAsHtml:false,editor:_147f,editorWrapper:_1481,editorParams:{},disabled:false,onChange:function(){},onCancel:function(){},width:"100%",value:"",noValueIndicator:has("ie")<=6?"<span style='font-family: wingdings; text-decoration: underline;'>&#160;&#160;&#160;&#160;&#x270d;&#160;&#160;&#160;&#160;</span>":"<span style='text-decoration: underline;'>&#160;&#160;&#160;&#160;&#x270d;&#160;&#160;&#160;&#160;</span>",constructor:function(){this.editorParams={};},postMixInProperties:function(){this.inherited(arguments);this.displayNode=this.srcNodeRef;var _1489={ondijitclick:"_onClick",onmouseover:"_onMouseOver",onmouseout:"_onMouseOut",onfocus:"_onMouseOver",onblur:"_onMouseOut"};for(var name in _1489){this.connect(this.displayNode,name,_1489[name]);}this.displayNode.setAttribute("role","button");if(!this.displayNode.getAttribute("tabIndex")){this.displayNode.setAttribute("tabIndex",0);}if(!this.value&&!("value" in this.params)){this.value=lang.trim(this.renderAsHtml?this.displayNode.innerHTML:(this.displayNode.innerText||this.displayNode.textContent||""));}if(!this.value){this.displayNode.innerHTML=this.noValueIndicator;}_1475.add(this.displayNode,"dijitInlineEditBoxDisplayMode");},setDisabled:function(_148a){_1478.deprecated("dijit.InlineEditBox.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",_148a);},_setDisabledAttr:function(_148b){this.domNode.setAttribute("aria-disabled",_148b?"true":"false");if(_148b){this.displayNode.removeAttribute("tabIndex");}else{this.displayNode.setAttribute("tabIndex",0);}_1475.toggle(this.displayNode,"dijitInlineEditBoxDisplayModeDisabled",_148b);this._set("disabled",_148b);},_onMouseOver:function(){if(!this.disabled){_1475.add(this.displayNode,"dijitInlineEditBoxDisplayModeHover");}},_onMouseOut:function(){_1475.remove(this.displayNode,"dijitInlineEditBoxDisplayModeHover");},_onClick:function(e){if(this.disabled){return;}if(e){event.stop(e);}this._onMouseOut();this.defer("edit");},edit:function(){if(this.disabled||this.editing){return;}this._set("editing",true);this._savedTabIndex=_1474.get(this.displayNode,"tabIndex")||"0";if(this.wrapperWidget){var ew=this.wrapperWidget.editWidget;ew.set("displayedValue" in ew?"displayedValue":"value",this.value);}else{var _148c=_1476.create("span",null,this.domNode,"before");var Ewc=typeof this.editorWrapper=="string"?lang.getObject(this.editorWrapper):this.editorWrapper;this.wrapperWidget=new Ewc({value:this.value,buttonSave:this.buttonSave,buttonCancel:this.buttonCancel,dir:this.dir,lang:this.lang,tabIndex:this._savedTabIndex,editor:this.editor,inlineEditBox:this,sourceStyle:_1477.getComputedStyle(this.displayNode),save:lang.hitch(this,"save"),cancel:lang.hitch(this,"cancel"),textDir:this.textDir},_148c);if(!this.wrapperWidget._started){this.wrapperWidget.startup();}if(!this._started){this.startup();}}var ww=this.wrapperWidget;_1475.add(this.displayNode,"dijitOffScreen");_1475.remove(ww.domNode,"dijitOffScreen");_1477.set(ww.domNode,{visibility:"visible"});_1474.set(this.displayNode,"tabIndex","-1");when(ww.editWidget.onLoadDeferred,lang.hitch(ww,function(){this.defer(function(){this.focus();this._resetValue=this.getValue();});}));},_onBlur:function(){this.inherited(arguments);if(!this.editing){}},destroy:function(){if(this.wrapperWidget&&!this.wrapperWidget._destroyed){this.wrapperWidget.destroy();delete this.wrapperWidget;}this.inherited(arguments);},_showText:function(focus){var ww=this.wrapperWidget;_1477.set(ww.domNode,{visibility:"hidden"});_1475.add(ww.domNode,"dijitOffScreen");_1475.remove(this.displayNode,"dijitOffScreen");_1474.set(this.displayNode,"tabIndex",this._savedTabIndex);if(focus){fm.focus(this.displayNode);}},save:function(focus){if(this.disabled||!this.editing){return;}this._set("editing",false);var ww=this.wrapperWidget;var value=ww.getValue();this.set("value",value);this._showText(focus);},setValue:function(val){_1478.deprecated("dijit.InlineEditBox.setValue() is deprecated.  Use set('value', ...) instead.","","2.0");return this.set("value",val);},_setValueAttr:function(val){val=lang.trim(val);var _148d=this.renderAsHtml?val:val.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;").replace(/\n/g,"<br>");this.displayNode.innerHTML=_148d||this.noValueIndicator;this._set("value",val);if(this._started){this.defer(function(){this.onChange(val);});}if(this.textDir=="auto"){this.applyTextDir(this.displayNode,this.displayNode.innerText);}},getValue:function(){_1478.deprecated("dijit.InlineEditBox.getValue() is deprecated.  Use get('value') instead.","","2.0");return this.get("value");},cancel:function(focus){if(this.disabled||!this.editing){return;}this._set("editing",false);this.defer("onCancel");this._showText(focus);},_setTextDirAttr:function(_148e){if(!this._created||this.textDir!=_148e){this._set("textDir",_148e);this.applyTextDir(this.displayNode,this.displayNode.innerText);this.displayNode.align=this.dir=="rtl"?"right":"left";}}});_1488._InlineEditor=_1481;return _1488;});},"url:dijit/templates/InlineEditBox.html":"<span data-dojo-attach-point=\"editNode\" role=\"presentation\" class=\"dijitReset dijitInline dijitOffScreen\"\n\tdata-dojo-attach-event=\"onkeypress: _onKeyPress\"\n\t><span data-dojo-attach-point=\"editorPlaceholder\"></span\n\t><span data-dojo-attach-point=\"buttonContainer\"\n\t\t><button data-dojo-type=\"dijit/form/Button\" data-dojo-props=\"label: '${buttonSave}', 'class': 'saveButton'\"\n\t\t\tdata-dojo-attach-point=\"saveButton\" data-dojo-attach-event=\"onClick:save\"></button\n\t\t><button data-dojo-type=\"dijit/form/Button\"  data-dojo-props=\"label: '${buttonCancel}', 'class': 'cancelButton'\"\n\t\t\tdata-dojo-attach-point=\"cancelButton\" data-dojo-attach-event=\"onClick:cancel\"></button\n\t></span\n></span>\n","url:epi/shell/widget/templates/_TabController.htm":"<div class=\"dijitTabListContainer-${tabPosition}\" style=\"visibility:hidden\">\r\n    <div data-dojo-type=\"dijit/Toolbar\" class=\"epi-componentToolbar\" data-dojo-attach-point=\"_toolbar\">\r\n        <div data-dojo-type=\"dijit/form/DropDownButton\" id=\"${id}_addBtn\" class=\"epi-componentToolbarButton epi-componentSettingsContainer epi-mediumButton\" iconClass=\"epi-iconSettingsMenu\" data-dojo-attach-point=\"_addBtn\" showLabel=\"false\" title=\"${res.settingsmenutooltip}\">\r\n            <div data-dojo-type=\"dijit/Menu\" data-dojo-attach-point=\"_addMenu\"></div>\r\n        </div>\r\n    </div>\r\n    <div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\" class=\"tabStripButton-${tabPosition}\" id=\"${id}_menuBtn\" iconClass=\"dijitTabStripMenuIcon\" data-dojo-attach-point=\"_menuBtn\" showLabel=\"false\">&#9660;</div>\r\n    <div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\" class=\"tabStripButton-${tabPosition}\" id=\"${id}_leftBtn\" iconClass=\"dijitTabStripSlideLeftIcon\" data-dojo-attach-point=\"_leftBtn\" data-dojo-attach-event=\"onClick: doSlideLeft\" showLabel=\"false\">&#9664;</div>\r\n    <div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\" class=\"tabStripButton-${tabPosition}\" id=\"${id}_rightBtn\" iconClass=\"dijitTabStripSlideRightIcon\" data-dojo-attach-point=\"_rightBtn\" data-dojo-attach-event=\"onClick: doSlideRight\" showLabel=\"false\">&#9654;</div>\r\n    <div class=\"dijitTabListWrapper\" data-dojo-attach-point=\"tablistWrapper\">\r\n        <div wairole=\"tablist\" data-dojo-attach-event=\"onkeypress:onkeypress\" data-dojo-attach-point=\"containerNode\" class=\"nowrapTabStrip\"></div>\r\n    </div>\r\n</div>\r\n","epi/shell/widget/dialog/Alert":function(){define(["epi","dojo","dijit/form/Button","epi/shell/widget/dialog/_DialogBase"],function(epi,dojo,_148f,_1490){return dojo.declare([_1490],{acknowledgeActionText:epi.resources.action.ok,closeIconVisible:false,dialogClass:"epi-dialog-alert",buildRendering:function(){this.inherited(arguments);this.domNode.setAttribute("role","alertdialog");this.descriptionNode.setAttribute("role","alert");var _1491=new _148f({label:this.acknowledgeActionText,onClick:dojo.hitch(this,this._onAcknowledge)});dojo.place(_1491.domNode,this.actionContainerNode);},_onAcknowledge:function(){this.hide();typeof this.onAction==="function"&&this.onAction();},onAction:function(){}});});},"epi/shell/widget/ValidationTextarea":function(){define(["dojo/_base/declare","dijit/form/Textarea","epi/shell/widget/_ValueRequiredMixin"],function(_1492,_1493,_1494){return _1492([_1493,_1494],{_setValueAttr:function(value){this.inherited(arguments);this._started&&this.validate();}});});},"epi/shell/widget/_ValueRequiredMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dijit/_CssStateMixin","dijit/Tooltip"],function(_1495,lang,_1496,_1497){return _1495([_1496],{required:null,missingMessage:"",destroy:function(){this.displayMessage(null);this.inherited(arguments);},_onFocus:function(){this.inherited(arguments);this.validate();},_onBlur:function(){this.inherited(arguments);this.validate();},validate:function(_1498){var _1499=this.isValid(_1498);this.set("state",_1499?"":"Error");this.set("message",this.getErrorMessage(_1498));this.displayMessage(_1499?"":this.getErrorMessage());return _1499;},isValid:function(_149a){return (!this.required||this.value||this.value===0||(lang.isArray(this.value)&&this.value.length===0));},displayMessage:function(_149b){var _149c=this.tooltipNode||this.domNode;if(_149b&&this.focused&&!this.isShowingChildDialog){_1497.show(_149b,_149c,this.tooltipPosition,!this.isLeftToRight());}else{_1497.hide(_149c);}},getErrorMessage:function(_149d){var _149e=this.get("state")!=="Error";return _149e?"":this.missingMessage;}});});},"epi/shell/widget/WidgetSwitcher":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/Deferred","dojo/_base/lang","dojo/store/Memory","dojo/topic","dojo/when","epi/shell/_ContextMixin","epi/shell/layout/AnimatedCardContainer","epi/shell/TypeDescriptorManager"],function(array,_149f,_14a0,lang,_14a1,topic,when,_14a2,_14a3,_14a4){return _149f([_14a3,_14a2],{componentConstructorArgs:null,supportedContextTypes:null,constructor:function(args){this.store=this.createStore();this.own(this.store);},postMixInProperties:function(){this.inherited(arguments);if(this.supportedContextTypes){if(!lang.isArray(this.supportedContextTypes)){this.supportedContextTypes=[this.supportedContextTypes];}if(!array.every(this.supportedContextTypes,function(type){return typeof type=="string";})){throw new Error("supportedContextTypes must be string, array of strings or null.");}}},postCreate:function(){this.inherited(arguments);_14a0.when(this.getCurrentContext(),lang.hitch(this,this.contextChanged));this.own(topic.subscribe("/epi/shell/action/changeview",lang.hitch(this,"viewComponentChangeRequested")));this.own(topic.subscribe("/epi/shell/action/changeview/back",lang.hitch(this,"_viewComponentBackRequested")));},contextChanged:function(_14a5,data){if(!this._isContextTypeSupported(_14a5)){return;}var view=_14a5.customViewType||(!!data?data.viewType:null);var _14a6=this._getCurrentWidgetInfo();if(data&&data.contextIdSyncChange){_14a6&&(view=_14a6.type);}if(!view&&_14a5.dataType){view=_14a4.getValue(_14a5.dataType,"mainWidgetType");}if(view){this._getObject(view,null,_14a5,data);}else{var _14a7=_14a4.getValue(_14a5.dataType,"defaultView"),_14a8=this._getAvailableViews(_14a5.dataType),_14a9=data?data.viewName:null;if(_14a6&&_14a6.viewName=="view"){array.some(_14a8,function(_14aa){if(_14aa.key==_14a6.viewName){_14a7="view";return true;}return false;});}var _14ab=this._getViewByKey(_14a9||_14a7,_14a8);if(!_14ab){throw "No default view found for "+_14a5.dataType;}this._loadViewComponentByConfiguration(_14ab,_14a8,null,_14a5,data);}},_getViewByKey:function(key,_14ac){return array.filter(_14ac,function(_14ad){return _14ad.key===key;})[0];},_getAvailableViews:function(_14ae){var _14af=_14a4.getAndConcatenateValues(_14ae,"availableViews"),_14b0=_14a4.getValue(_14ae,"disabledViews");var _14b1=array.filter(_14af,function(_14b2){return array.every(_14b0,function(_14b3){return _14b2.key!==_14b3;});});return _14b1.sort(function(x,y){return x.sortOrder<y.sortOrder?-1:1;});},_loadViewComponentByConfiguration:function(view,_14b4,args,_14b5,data){data=lang.mixin(data,{viewName:view.key,availableViews:_14b4});this._getObject(view.controllerType,args,_14b5,data);},viewComponentChangeRequested:function(type,args,data){when(this.getCurrentContext(),lang.hitch(this,function(_14b6){var _14b7=_14b6?_14b6.dataType:null;var _14b8=this._getAvailableViews(_14b7),view=this._getViewByKey(type,_14b8);if(view){this._loadViewComponentByConfiguration(view,_14b8,args,_14b6,data);}else{this._getObject(type,args,_14b6,data);}}));},_viewComponentBackRequested:function(_14b9){var _14ba=this._getPreviousWidgetInfo();if(_14ba){if(typeof _14b9==="undefined"){_14b9=false;}var data={skipUpdateView:!_14b9,availableViews:_14ba.availableViews,viewName:_14ba.viewName};when(this.getCurrentContext(),lang.hitch(this,function(_14bb){this._getObject(_14ba.type,null,_14bb,data);}));}},_getPreviousWidgetInfo:function(){var _14bc=this._getWidgetHistory();return (_14bc&&_14bc.length>1)?_14bc[1]:null;},_getCurrentWidgetInfo:function(){var _14bd=this._getWidgetHistory();return (_14bd&&!!_14bd.length)?_14bd[0]:null;},_getWidgetHistory:function(){return this.store.query({},{count:2,sort:[{attribute:"dateAdded",descending:true}]});},_isContextTypeSupported:function(_14be){if(!_14be){return false;}if(!this.supportedContextTypes){return true;}return array.some(this.supportedContextTypes,function(type){return _14be.type===type;});},_getObject:function(type,args,_14bf,data){if(!type){return;}var _14c0=this.selectedChildWidget;var func=lang.hitch(this,function(){_14a0.when(this._testComponentInstanceOf(_14c0,type),lang.hitch(this,function(_14c1){if(_14c1){this._updateStore(type,data,_14bf);this._updateView(_14c0,_14bf,data);this._onViewChanged(type,args,data);}else{this._changeViewComponent(type,args,_14bf,data);}}));});if(_14c0&&_14c0.savePendingChanges){_14a0.when(_14c0.savePendingChanges(),func);}else{func();}},_changeViewComponent:function(type,args,_14c2,data){_14a0.when(this._getChildByType(type),lang.hitch(this,function(_14c3){var _14c4=this.selectedChildWidget;if(_14c4){_14c4.set("isActive",false);}if(_14c3){_14c3.set("isActive",true);if(data&&data.treatAsSecondaryView){this.selectSecondaryChild(_14c3);}else{this.selectChild(_14c3);}this._updateStore(type,data,_14c2);this._updateView(_14c3,_14c2,data,true);this._onViewChanged(type,args,data);}else{require([type],lang.hitch(this,function(_14c5){var _14c6=lang.mixin(lang.mixin({},this.componentConstructorArgs),args);_14c3=new _14c5(_14c6);_14c3.fitContainer=true;this.addChild(_14c3);var _14c7;if(data&&data.treatAsSecondaryView){_14c7=this.selectSecondaryChild(_14c3);}else{_14c7=this.selectChild(_14c3);}when(_14c7,lang.hitch(this,function(){this._updateStore(type,data,_14c2);this._updateView(_14c3,_14c2,data,true);this._onViewChanged(type,args,data);}));}));}}));},_updateView:function(_14c8,_14c9,data,_14ca){if(_14c8&&!!!_14c8._started&&typeof _14c8.startup==="function"){_14c8.startup();}if(_14c8&&typeof _14c8.updateView==="function"){_14c8.updateView(data,_14c9,{widgetResumed:_14ca});}},_getChildByType:function(type){var def=new _14a0();require([type],lang.hitch(this,function(_14cb){var _14cc=array.filter(this.getChildren(),function(child,index){return child.constructor===_14cb;},this);def.resolve(_14cc.length?_14cc[0]:null);}));return def;},_testComponentInstanceOf:function(_14cd,type){var def=new _14a0();if(_14cd){if(typeof type==="string"){require([type],function(_14ce){def.resolve(_14cd&&_14cd.constructor===_14ce);});}else{def.resolve(_14cd&&_14cd.constructor===type.constructor);}}else{def.resolve(false);}return def;},_onViewChanged:function(type,args,data){topic.publish("/epi/shell/action/viewchanged",type,args,data);},createStore:function(){return new _14a1({data:[],idProperty:"id"});},_updateStore:function(type,data,_14cf){var store=this.store;store.put(this.createStoreItem(type,data,_14cf),{overwrite:true});if(store.data.length>2){var _14d0=store.query({},{sort:[{attribute:"dateAdded",descending:false}]});store.remove(store.getIdentity(_14d0[0]));}},createStoreItem:function(type,data,_14d1){var _14d2={type:type,dateAdded:new Date(),id:type};if(data){var _14d3=data.availableViews||(_14d1&&this._getAvailableViews(_14d1.dataType));var _14d4=data.viewName||this._getViewName(_14d3,_14d1);_14d2=lang.mixin(_14d2,{availableViews:_14d3,viewName:_14d4});_14d2.id+="#"+_14d4;}return _14d2;},_getViewName:function(_14d5,_14d6){if(!_14d6){return null;}var _14d7=this._getViewByKey(_14a4.getValue(_14d6.dataType,"defaultView"),_14d5);if(!_14d7){return null;}return _14d7.key;}});});},"epi/shell/layout/AnimatedCardContainer":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/fx","dojo/aspect","dojo/has","dojo/on","dojo/dom-class","dojo/dom-style","dojo/dom-geometry","dojo/Deferred","dojo/query","dojo/when","dijit/_TemplatedMixin","dijit/layout/StackContainer","dgrid/util/has-css3"],function(_14d8,lang,fx,_14d9,has,on,_14da,_14db,_14dc,_14dd,query,when,_14de,_14df,_14e0){return _14d8([_14df,_14de],{doLayout:true,templateString:"<div><div class='dijitContainer' style='position: relative; width: 100%; height: 100%' data-dojo-attach-point='containerNode'></div></div>",cssClasses:{animationNode:"epi-animation-node",child:"epi-cardContainer-child",primary:"epi-cardContainer-child--primary",secondary:"epi-cardContainer-child--secondary",secondaryOut:"epi-cardContainer-child--secondary-out",visible:"dijitVisible",hidden:"dijitHidden"},addChild:function(child){var r=this.inherited(arguments);_14da.add(child.domNode,this.cssClasses.child);return r;},selectSecondaryChild:function(page){return this.selectChild(page,has("css-transitions"));},_transition:function(_14e1,_14e2,_14e3){var d;if(_14e3&&_14e2){d=this._showChild(_14e1);if(_14e1.resize){if(this.doLayout){_14e1.resize(this._containerContentBox||this._contentBox);}else{_14e1.resize();}}_14da.add(_14e2.domNode,this.cssClasses.primary);_14e2.onHide&&_14e2.onHide();when(this._executeTransition(_14e1,this.cssClasses.secondary),lang.hitch(this,function(_14e4){if(this.selectedPreviousChild&&this.selectedPreviousChild!=_14e1){_14da.add(_14e2.domNode,this.cssClasses.hidden);_14da.remove(_14e2.domNode,this.cssClasses.visible);}}));this.selectedPreviousChild=_14e2;}else{if(this.selectedPreviousChild===_14e1){_14da.add(this.selectedPreviousChild.domNode,this.cssClasses.visible);_14da.remove(this.selectedPreviousChild.domNode,this.cssClasses.hidden);_14da.remove(this.selectedPreviousChild.domNode,this.cssClasses.primary);_14da.remove(this.selectedChildWidget.domNode,this.cssClasses.secondary);when(this._executeTransition(this.selectedChildWidget,this.cssClasses.secondaryOut),lang.hitch(this,function(_14e5){_14da.remove(_14e5.domNode,this.cssClasses.visible);_14da.add(_14e5.domNode,this.cssClasses.hidden);_14da.remove(_14e5.domNode,this.cssClasses.secondaryOut);}),lang.hitch(this,function(_14e6){_14da.remove(_14e6.domNode,this.cssClasses.visible);_14da.add(_14e6.domNode,this.cssClasses.hidden);}));if(_14e1!==this.selectedPreviousChild){_14da.replace(this.selectedPreviousChild.domNode,this.cssClasses.hidden,this.cssClasses.visible);}this.selectedPreviousChild=null;}else{if(_14e2){this._hideChild(_14e2);_14da.remove(_14e2.domNode,this.cssClasses.primary);}}d=this._showChild(_14e1);_14da.add(_14e1.domNode,this.cssClasses.primary);if(_14e1.resize){if(this.doLayout){_14e1.resize(this._containerContentBox||this._contentBox);}else{_14e1.resize();}}}return d;},_executeTransition:function(_14e7,_14e8){var d=new _14dd();var _14e9=_14e7.domNode;var _14ea=query("."+this.cssClasses.animationNode,_14e9);var _14eb=_14ea.length>0?_14ea[0]:null;if(_14eb&&_14e9&&has("css-transitions")){_14da.add(_14e9,_14e8);this.own(this.defer(function(){on.once(_14eb,has("transitionend"),function(){d.resolve(_14e7);});},1));}else{d.reject(_14e7);}return d;}});});},"*now":function(r){r(["dojo/i18n!*preload*epi/shell/nls/widgets*[\"ar\",\"ca\",\"cs\",\"da\",\"de\",\"el\",\"en-gb\",\"en-us\",\"es-es\",\"fi-fi\",\"fr-fr\",\"he-il\",\"hu\",\"it-it\",\"ja-jp\",\"ko-kr\",\"nl-nl\",\"nb\",\"pl\",\"pt-br\",\"pt-pt\",\"ru\",\"sk\",\"sl\",\"sv\",\"th\",\"tr\",\"zh-tw\",\"zh-cn\",\"ROOT\"]"]);}}});